---
title: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DCP | opencode-dcp"
sidebarTitle: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DCP"
subtitle: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DCP"
description: "–ò–∑—É—á–∏—Ç–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ opencode-dcp. –û—Å–≤–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π, —Å—Ä–µ–¥–æ–≤–æ–π –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–µ–∑–∫–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∑–∞—â–∏—Ç—ã –∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏ —É—Ä–æ–≤–Ω–µ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π."
tags:
  - "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"
  - "DCP"
  - "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞"
prerequisite:
  - "start-getting-started"
order: 2
---

# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DCP

## –ß—Ç–æ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è

- –û—Å–≤–æ–∏—Ç—å —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DCP (–≥–ª–æ–±–∞–ª—å–Ω–∞—è, –ø—Ä–æ–µ–∫—Ç–Ω–∞—è, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã)
- –ü–æ–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–µ–∑–∫–∏ –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ–±—Ä–µ–∑–∫–µ

## –ü—Ä–æ–±–ª–µ–º—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ DCP —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å —Ç–∞–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏:

- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–µ–∑–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ù–µ–∂–µ–ª–∞–Ω–∏–µ –æ–±—Ä–µ–∑–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–µ—Ç–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–±—Ä–µ–∑–∫–µ
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–µ–∑–∫–∏

–í —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω—è—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DCP.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**: —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –æ–±—Ä–µ–∑–∫–µ
- **–û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º**: –≤–∫–ª—é—á–µ–Ω–∏–µ debug-–ª–æ–≥–æ–≤ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—ã—Ç–∞**: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∑–∞—â–∏—Ç–∞ –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

## –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

DCP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–æ—Ç–æ—Ä–æ–π –æ—Ç –Ω–∏–∑–∫–æ–≥–æ –∫ –≤—ã—Å–æ–∫–æ–º—É —Å–ª–µ–¥—É—é—â–∏–π:

```
–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤ –∫–æ–¥–µ) ‚Üí –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Üí –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã ‚Üí –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
         –°–∞–º—ã–π –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç                                               –°–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
```

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç —Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.

::: info –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è?

–¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è:
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—â–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–∏–º–µ–Ω–∏–º–æ–≥–æ –∫–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º
- **–ü—Ä–æ–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–µ –≤–ª–∏—è—é—â–∞—è –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã**: –±—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, CI/CD)

:::

## üéí –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–∞—á–∞–ª—É

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ [–£—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../getting-started/), –ø–ª–∞–≥–∏–Ω DCP —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ OpenCode.

## –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

### –®–∞–≥ 1: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞—á–µ–º**
–°–Ω–∞—á–∞–ª–∞ –ø–æ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ –∑–∞—Ç–µ–º —Ä–µ—à–∏—Ç—å, –∫–∞–∫ –µ—ë –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å.

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ DCP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```bash
# macOS/Linux
cat ~/.config/opencode/dcp.jsonc

# Windows PowerShell
Get-Content "$env:USERPROFILE\.config\opencode\dcp.jsonc"
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ—Ö–æ–∂—É—é –Ω–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—É—é –Ω–∏–∂–µ

```jsonc
{
    "$schema": "https://raw.githubusercontent.com/Opencode-DCP/opencode-dynamic-context-pruning/master/dcp.schema.json",
    "enabled": true,
    "debug": false,
    "pruneNotification": "detailed",
    "commands": {
        "enabled": true,
        "protectedTools": []
    },
    "turnProtection": {
        "enabled": false,
        "turns": 4
    },
    "protectedFilePatterns": [],
    "tools": {
        "settings": {
            "nudgeEnabled": true,
            "nudgeFrequency": 10,
            "protectedTools": []
        },
        "discard": {
            "enabled": true
        },
        "extract": {
            "enabled": true,
            "showDistillation": false
        }
    },
    "strategies": {
        "deduplication": {
            "enabled": true,
            "protectedTools": []
        },
        "supersedeWrites": {
            "enabled": false
        },
        "purgeErrors": {
            "enabled": true,
            "turns": 4,
            "protectedTools": []
        }
    }
}
```

### –®–∞–≥ 2: –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

DCP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

| –£—Ä–æ–≤–µ–Ω—å | –ü—É—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è |
|--- | --- | --- | ---|
| **–ì–ª–æ–±–∞–ª—å–Ω—ã–π** | `~/.config/opencode/dcp.jsonc` –∏–ª–∏ `dcp.json` | 2 | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ |
| **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã** | `$OPENCODE_CONFIG_DIR/dcp.jsonc` –∏–ª–∏ `dcp.json` | 3 | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ä–µ–¥—ã |
| **–ü—Ä–æ–µ–∫—Ç** | `<project>/.opencode/dcp.jsonc` –∏–ª–∏ `dcp.json` | 4 | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ |

::: tip –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

DCP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞:
- `.json`: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `.jsonc`: —Ñ–æ—Ä–º–∞—Ç JSON —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ `//` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)

:::

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ–±—Ä–µ–∑–∫–µ

**–ó–∞—á–µ–º**
–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ–±—Ä–µ–∑–∫–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–ª–∏—à–Ω–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∞.

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```jsonc
{
    "pruneNotification": "detailed"  // –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: "off", "minimal", "detailed"
}
```

**–û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**:

| –£—Ä–æ–≤–µ–Ω—å | –ü–æ–≤–µ–¥–µ–Ω–∏–µ | –°—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è |
|--- | --- | ---|
| **off** | –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–±—Ä–µ–∑–∫–µ | –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ |
| **minimal** | –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤) | –ù–µ–æ–±—Ö–æ–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π –æ—Ç–∫–ª–∏–∫, –Ω–æ –±–µ–∑ –∏–∑–ª–∏—à–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ |
| **detailed** | –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—Ä–µ–∑–∫–µ (–∏–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø—Ä–∏—á–∏–Ω–∞) | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –æ–±—Ä–µ–∑–∫–∏, –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤—ã–º —É—Ä–æ–≤–Ω–µ–º –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ç—Ä–∏–≥–≥–µ—Ä–µ –æ–±—Ä–µ–∑–∫–∏.

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–µ–∑–∫–∏

**–ó–∞—á–µ–º**
DCP –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–µ–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```jsonc
{
    "strategies": {
        // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
        "deduplication": {
            "enabled": true,           // –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å
            "protectedTools": []         // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
        },

        // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏: –æ—á–∏—â–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏, –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —á—Ç–µ–Ω–∏–µ–º
        "supersedeWrites": {
            "enabled": false          // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–µ–Ω–æ
        },

        // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—á–∏—Å—Ç–∫–∏ –æ—à–∏–±–æ–∫: –æ—á–∏—â–∞–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—à–∏–±–æ–∫
        "purgeErrors": {
            "enabled": true,           // –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å
            "turns": 4,               // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤ –¥–æ –æ—á–∏—Å—Ç–∫–∏ –æ—à–∏–±–æ–∫
            "protectedTools": []         // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
        }
    }
}
```

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π**:

- **deduplication (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è)**: –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π.
- **supersedeWrites (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å)**: –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ï—Å–ª–∏ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –µ—Å—Ç—å –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ —á—Ç–µ–Ω–∏–µ, –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –æ—á–∏—â–∞—é—Ç—Å—è.
- **purgeErrors (–æ—á–∏—Å—Ç–∫–∞ –æ—à–∏–±–æ–∫)**: –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—à–∏–±–æ–∫, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤, –ø–æ–¥–ª–µ–∂–∞—Ç –æ–±—Ä–µ–∑–∫–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, —É–¥–∞–ª—è—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ –±–æ–ª—å—à–∏–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã).

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∑–∞—â–∏—Ç—ã

**–ó–∞—á–µ–º**
–ò–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ—á–Ω–æ–π –æ–±—Ä–µ–∑–∫–∏ –≤–∞–∂–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (–≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã, –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã).

DCP –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞—â–∏—Ç—ã:

#### 1. –ó–∞—â–∏—Ç–∞ —Ö–æ–¥–æ–≤ (Turn Protection)

–ó–∞—â–∏—â–∞–µ—Ç –≤—ã–≤–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö–æ–¥–æ–≤, –¥–∞–≤–∞—è AI –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Å—Å—ã–ª–∫–∏.

```jsonc
{
    "turnProtection": {
        "enabled": false,   // –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –∑–∞—â–∏—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ö–æ–¥–∞
        "turns": 4          // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—â–∏—â–∞–µ–º—ã—Ö —Ö–æ–¥–æ–≤
    }
}
```

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**: –∫–æ–≥–¥–∞ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç–µ, —á—Ç–æ AI —á–∞—Å—Ç–æ —Ç–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é.

#### 2. –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Protected Tools)

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è:

```
task, todowrite, todoread, discard, extract, batch, write, edit, plan_enter, plan_exit
```

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∑–∞—â–∏—Ç—ã:

```jsonc
{
    "tools": {
        "settings": {
            "protectedTools": [
                "myCustomTool",   // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
                "databaseQuery"    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ç—Ä–µ–±—É—é—â–µ–≥–æ –∑–∞—â–∏—Ç—ã
            ]
        }
    },
    "strategies": {
        "deduplication": {
            "protectedTools": ["databaseQuery"]  // –ó–∞—â–∏—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
        }
    }
}
```

#### 3. –®–∞–±–ª–æ–Ω—ã –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (Protected File Patterns)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ glob-—à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:

```jsonc
{
    "protectedFilePatterns": [
        "**/*.config.ts",           // –ó–∞—â–∏—Ç–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ .config.ts
        "**/secrets/**",           // –ó–∞—â–∏—Ç–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ secrets
        "**/*.env",                // –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
        "**/critical/*.json"        // –ó–∞—â–∏—Ç–∞ JSON-—Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ critical
    ]
}
```

::: warning –í–Ω–∏–º–∞–Ω–∏–µ
protectedFilePatterns —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å `tool.parameters.filePath`, –∞ –Ω–µ —Å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø—É—Ç–µ–º —Ñ–∞–π–ª–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ —Ç–æ–ª—å–∫–æ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `filePath` (—Ç–∞–∫–∏–º –∫–∞–∫ read, write, edit).

:::

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞—á–µ–º**
–†–∞–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–µ–∑–∫–∏.

–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `.opencode` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ–µ –Ω–µ—Ç), –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ `dcp.jsonc`:

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p .opencode
cat > .opencode/dcp.jsonc << 'EOF'
{
    "$schema": "https://raw.githubusercontent.com/Opencode-DCP/opencode-dynamic-context-pruning/master/dcp.schema.json",
    // –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
    "strategies": {
        "supersedeWrites": {
            "enabled": true   // –í–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
        }
    },
    "protectedFilePatterns": [
        "**/config/**/*.ts"   // –ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
    ]
}
EOF
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ù–µ–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –®–∞–≥ 7: –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤

**–ó–∞—á–µ–º**
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏.

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```jsonc
{
    "debug": true
}
```

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–æ–≤**:
```
~/.config/opencode/logs/dcp/daily/YYYY-MM-DD.log
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –ª–æ–≥-—Ñ–∞–π–ª—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –æ–±—Ä–µ–∑–∫–∏, –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ç.–¥.

::: info –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥—ã
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤–µ—Ä–Ω—É—Ç—å `debug` –≤ `false`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–æ—Å—Ç–∞ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤.

:::

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚úÖ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

- [ ] –ó–Ω–∞–µ—Ç–µ —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
- [ ] –ú–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- [ ] –ü–æ–Ω–∏–º–∞–µ—Ç–µ —Ä–æ–ª—å —Ç—Ä–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–µ–∑–∫–∏
- [ ] –£–º–µ–µ—Ç–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã (—Ö–æ–¥—ã, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ñ–∞–π–ª—ã)
- [ ] –ú–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω—è—Ö

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OpenCode –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç.

**–ü—Ä–∏—á–∏–Ω–∞**: OpenCode –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å OpenCode**.

### –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, DCP –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å.

**–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ**: OpenCode –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Toast-–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "Invalid config".

**–†–µ—à–µ–Ω–∏–µ**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON, –æ–±—Ä–∞—Ç–∏–≤ –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–≤—ã—á–µ–∫, –∑–∞–ø—è—Ç—ã—Ö –∏ —Å–∫–æ–±–æ–∫
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—è—Ç—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—è—Ç–∞—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞)
- –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `true`/`false` –±–µ–∑ –∫–∞–≤—ã—á–µ–∫

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSONC (–Ω–∞–ø—Ä–∏–º–µ—Ä, VS Code + –ø–ª–∞–≥–∏–Ω JSONC).

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –¥–æ–±–∞–≤–ª–µ–Ω—ã `protectedTools`, –Ω–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞**:
1. –û—à–∏–±–∫–∞ –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∏–º–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ `protectedTools` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tools.settings.protectedTools` vs `strategies.deduplication.protectedTools`)
3. –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–µ—Ä–∏–æ–¥–µ –∑–∞—â–∏—Ç—ã —Ö–æ–¥–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ —Ö–æ–¥–æ–≤)

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏–º–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ debug-–ª–æ–≥–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –æ–±—Ä–µ–∑–∫–∏

## –†–µ–∑—é–º–µ —É—Ä–æ–∫–∞

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ DCP:

- **–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Üí –ì–ª–æ–±–∞–ª—å–Ω–∞—è ‚Üí –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã ‚Üí –ü—Ä–æ–µ–∫—Ç, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç
- **–ì–∏–±–∫–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ø—Ä–æ–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é
- **–ú–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã**: –∑–∞—â–∏—Ç–∞ —Ö–æ–¥–æ–≤, –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —à–∞–±–ª–æ–Ω—ã –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–æ—á–Ω—É—é –æ–±—Ä–µ–∑–∫—É
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**: –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å, –æ—á–∏—Å—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî –≤–∫–ª—é—á–∞–π—Ç–µ/–æ—Ç–∫–ª—é—á–∞–π—Ç–µ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**: –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å OpenCode

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–∫–∞

> –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ ‚Äî **[–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–µ–∑–∫–∏](../../platforms/auto-pruning/)**.
>
> –í—ã –∏–∑—É—á–∏—Ç–µ:
> - –ö–∞–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
> - –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
> - –£—Å–ª–æ–≤–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ—á–∏—Å—Ç–∫–∏ –æ—à–∏–±–æ–∫
> - –ö–∞–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

<details>
<summary><strong>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞</strong></summary>

> –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-23

| –§—É–Ω–∫—Ü–∏—è | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É | –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ |
|--- | --- | ---|
| –Ø–¥—Ä–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts) | 1-798 |
| –°—Ö–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | [`dcp.schema.json`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/dcp.schema.json) | 1-232 |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L423-L464) | 423-464 |
| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L669-L797) | 669-797 |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L147-L375) | 147-375 |
| –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L484-L526) | 484-526 |
| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∑–∞—â–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L68-L79) | 68-79 |
| –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L565-L595) | 565-595 |
| –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts#L597-L622) | 597-622 |

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
- `DEFAULT_PROTECTED_TOOLS`: —Å–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`lib/config.ts:68-79`)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- `getConfig()`: –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π (`lib/config.ts:669-797`)
- `getInvalidConfigKeys()`: –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∫–ª—é—á–µ–π –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`lib/config.ts:135-138`)
- `validateConfigTypes()`: –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`lib/config.ts:147-375`)
- `getConfigPaths()`: –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–µ–π –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`lib/config.ts:484-526`)

</details>
