---
title: "Расширенные функции: глубокий разбор | opencode-dcp"
sidebarTitle: "Избежать случайного удаления"
subtitle: "Расширенные функции: глубокий разбор"
description: "Изучите расширенные функции DCP: механизмы защиты, сохранение состояния и влияние на кэширование prompt'ов. Освойте техники использования в сложных сценариях."
order: 30
---

# Расширенные функции

В этом разделе мы подробно разберём расширенные возможности DCP, чтобы вы поняли внутренние механизмы плагина и смогли эффективно использовать его в сложных сценариях.

::: warning Предварительные требования
Прежде чем приступить к изучению этого раздела, убедитесь, что вы уже:
- [Установили и настроили DCP](../start/getting-started/) — узнали основы установки и использования
- [Изучили полное руководство по конфигурации](../start/configuration/) — освоили систему настроек
- [Разобрали стратегии автоматического обрезания](../platforms/auto-pruning/) — поняли ключевые алгоритмы
:::

## Содержание раздела

| Урок | Описание | Когда пригодится |
|------|----------|------------------|
| [Механизмы защиты](./protection/) | Защита раундов, инструментов и файлов от случайного удаления | Когда нужно предотвратить случайное удаление |
| [Сохранение состояния](./state-persistence/) | Как DCP сохраняет данные об обрезании и статистику между сессиями | Для понимания хранения данных |
| [Влияние на кэширование](./prompt-caching/) | Как обрезание влияет на кэширование prompt'ов | При оптимизации стоимости API |
| [Работа с субагентами](./subagent-handling/) | Поведение DCP в сессиях с субагентами | При использовании инструмента Task |

## Рекомендуемый порядок изучения

```
Механизмы защиты → Сохранение состояния → Влияние на кэширование → Работа с субагентами
       ↓                  ↓                      ↓                       ↓
    Обязательно      По необходимости     При оптимизации          При использовании
```

**Рекомендуемая последовательность**:

1. **Механизмы защиты** (обязательно) — это самая важная расширенная функция; понимание поможет избежать случайного удаления
2. **Сохранение состояния** (по необходимости) — если вам нужно разобраться, как DCP ведёт статистику, или нужно отладить проблемы с состоянием
3. **Влияние на кэширование** (при оптимизации) — когда вы заботитесь о стоимости API, нужно найти баланс между обрезанием и кэшированием
4. **Работа с субагентами** (при использовании субагентов) — если вы используете инструмент Task в OpenCode для создания подзадач, нужно знать ограничения DCP

## Следующие шаги

Пройдя этот раздел, вы сможете:

- Обратиться к разделу [Часто задаваемые вопросы и решение проблем](../faq/troubleshooting/) для устранения возникающих трудностей
- Изучить [Лучшие практики](../faq/best-practices/) для максимальной экономии токенов
- Углубиться в раздел [Обзор архитектуры](../appendix/architecture/) для понимания внутренней реализации DCP
