---
title: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞ iMessage: —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ Clawdbot"
sidebarTitle: "–û–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ iMessage"
subtitle: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞ iMessage"
description: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–∞ iMessage –≤ Clawdbot (—Ç–æ–ª—å–∫–æ –¥–ª—è macOS). –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É CLI imsg, –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ/—É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ Mac, –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º DM/–≥—Ä—É–ø–ø, –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫."
tags:
  - "–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"
  - "imessage"
  - "macos"
prerequisite:
  - "start-getting-started"
order: 130
---

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞ iMessage

## –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å

- –û–±—â–∞—Ç—å—Å—è —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º 1:1 —á–µ—Ä–µ–∑ iMessage –Ω–∞ macOS
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI-–ø–æ–º–æ—â–Ω–∏–∫–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö iMessage (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π @—É–ø–æ–º–∏–Ω–∞–Ω–∏–π)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mac –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
- –£–¥–∞–ª—ë–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ iMessage –Ω–∞ –¥—Ä—É–≥–æ–º Mac —á–µ—Ä–µ–∑ SSH/Tailscale
- –û—Å–≤–æ–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ –ø–∞—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é DM –∏ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø

## –í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏

–í—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å iMessage –Ω–∞ macOS –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º, –Ω–æ –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç CLI `imsg`
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å Clawdbot —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Full Disk Access –∏ Automation
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∏–ª–∏ —É–¥–∞–ª—ë–Ω–Ω—ã–π Mac –≤ –∫–∞—á–µ—Å—Ç–≤–µ —à–ª—é–∑–∞ iMessage
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ iMessage
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫—Ç–æ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç—É

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥

**–°—Ü–µ–Ω–∞—Ä–∏–∏, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–∞ iMessage**:

- –í—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ iMessage –Ω–∞ macOS
- –•–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π iMessage (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤)
- –ù—É–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º —á–µ—Ä–µ–∑ iMessage –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∏ –º–µ–¥–∏–∞ —Ñ–æ—Ä–º–∞—Ç–µ
- –•–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ—Ç –∂–µ –æ–ø—ã—Ç –æ–±—â–µ–Ω–∏—è, —á—Ç–æ –∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö (WhatsApp, Telegram)

**–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**:

- –ù–µ macOS —Å–∏—Å—Ç–µ–º–∞ (–∫–∞–Ω–∞–ª iMessage –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ macOS)
- –ù—É–∂–Ω–∞ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WebChat, Telegram)
- –ù—É–∂–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è @—É–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ –≥—Ä—É–ø–ø–∞—Ö (–≤ iMessage –Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

## –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∫–∞–Ω–∞–ª–∞ iMessage:

```mermaid
sequenceDiagram
    participant User as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant iMsg as Messages App
    participant IMsg as imsg CLI
    participant Clawdbot as Clawdbot Gateway

    User->>iMsg: –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
    iMsg->>IMsg: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ chat.db
    IMsg->>Clawdbot: JSON-RPC over stdio
    Clawdbot->>Clawdbot: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (DM/Group)
    Clawdbot->>Clawdbot: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (Agent)
    Clawdbot->>IMsg: –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ (JSON-RPC)
    IMsg->>iMsg: –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ Automation
    iMsg->>User: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**:

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------ | ------ |
| **imsg CLI** | –°—Ç–æ—Ä–æ–Ω–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Messages —á–µ—Ä–µ–∑ JSON-RPC over stdio |
| **Full Disk Access** | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ macOS, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ Clawdbot —á–∏—Ç–∞—Ç—å chat.db Messages |
| **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ Automation** | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ macOS, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ imsg –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Automation API |
| **chat_id** | –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Å—Å–∏–∏ |
| **pairing** | –ú–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã DM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è |

::: tip
–ö–∞–Ω–∞–ª iMessage —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ CLI `imsg`, –∞ –Ω–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API Messages. `imsg` –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å Clawdbot —á–µ—Ä–µ–∑ JSON-RPC over stdio, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º Mac (—á–µ—Ä–µ–∑ SSH).
:::

## üéí –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã:

- ‚úÖ –ó–∞–≤–µ—Ä—à–∏–ª–∏ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../../start/getting-started/) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Clawdbot
- ‚úÖ Gateway –∑–∞–ø—É—â–µ–Ω (`clawdbot gateway --port 18789`)
- ‚úÖ –í–æ—à–ª–∏ –≤ Messages –Ω–∞ macOS (iMessage –≤–∫–ª—é—á—ë–Ω)
- ‚úÖ –ò–º–µ–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Homebrew (–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `imsg`)

::: warning
–ö–∞–Ω–∞–ª iMessage –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ macOS. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ macOS –∏–ª–∏ –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É Mac —á–µ—Ä–µ–∑ SSH/Tailscale.
:::

## –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CLI imsg

**–ó–∞—á–µ–º**
`imsg` ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞ iMessage, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∞—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º Messages —á–µ—Ä–µ–∑ JSON-RPC over stdio.

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é Homebrew:
   ```bash
   brew install steipete/tap/imsg
   ```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥–∞ `imsg` –¥–æ—Å—Ç—É–ø–Ω–∞
- –ó–∞–ø—É—Å–∫ `imsg --version` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ imsg
imsg chats --limit 1
```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –í—ã–≤–æ–¥ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —á–∞—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ò–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Full Disk Access

### –®–∞–≥ 2: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Full Disk Access

**–ó–∞—á–µ–º**
Clawdbot –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `chat.db` Messages –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** > **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
2. –ù–∞–∂–º–∏—Ç–µ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∏—Å–∫—É**
3. –ù–∞–∂–º–∏—Ç–µ **+**, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   - `/Applications/Clawdbot.app` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ macOS)
   - `/usr/local/bin/imsg` –∏–ª–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –∫ `imsg`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Gateway

::: warning
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Gateway, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É!
:::

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –í –∂—É—Ä–Ω–∞–ª–∞—Ö –∑–∞–ø—É—Å–∫–∞ Gateway –Ω–µ—Ç –æ—à–∏–±–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `imsg chats --limit 1` –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### –®–∞–≥ 3: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Automation

**–ó–∞—á–µ–º**
`imsg` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Automation API Apple Events, —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

1. –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è macOS –ø–æ–∫–∞–∂–µ—Ç –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
2. –ù–∞–∂–º–∏—Ç–µ **–†–∞–∑—Ä–µ—à–∏—Ç—å** –∏–ª–∏ **OK**
3. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mac, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç –æ–¥–∏–Ω —Ä–∞–∑ –≤ —Å–µ—Å—Å–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Automation**:

```bash
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
imsg send --to "+15555550123" "Test message"
```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- macOS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ)
- –ü–æ—Å–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Messages –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –®–∞–≥ 4: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Clawdbot

**–ó–∞—á–µ–º**
–°–æ–æ–±—â–∏—Ç—å Clawdbot, –∫–∞–∫–æ–π –ø—É—Ç—å `imsg` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Messages.

**–°–ø–æ—Å–æ–± A: –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ª–æ–∫–∞–ª—å–Ω—ã–π Mac)**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/.clawdbot/clawdbot.json`:

```json5
{
  channels: {
    imessage: {
      enabled: true,
      cliPath: "/usr/local/bin/imsg",
      dbPath: "/Users/<your-username>/Library/Messages/chat.db",
      dmPolicy: "pairing",
      groupPolicy: "allowlist"
    }
  }
}
```

::: info
–ó–∞–º–µ–Ω–∏—Ç–µ `<your-username>` –Ω–∞ –≤–∞—à–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è macOS.
:::

**–°–ø–æ—Å–æ–± B: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤**

```json5
{
  channels: {
    imessage: {
      enabled: true,
      accounts: {
        main: {
          name: "Main Account",
          enabled: true,
          cliPath: "/usr/local/bin/imsg",
          dbPath: "/Users/alice/Library/Messages/chat.db"
        },
        bot: {
          name: "Bot Account",
          enabled: true,
          cliPath: "/path/to/imsg-bot-wrapper",  // —Å–º. —à–∞–≥ 5
          dbPath: "/Users/botuser/Library/Messages/chat.db"
        }
      }
    }
  }
}
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Gateway**:

```bash
clawdbot gateway restart
```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- Gateway –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "iMessage default: enabled, configured, ..."
- –ù–µ—Ç –∂—É—Ä–Ω–∞–ª–æ–≤ –æ—à–∏–±–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∏–ª–∏ –ø—É—Ç–µ–π

### –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ó–∞—á–µ–º**
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è.

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CLI:
   ```bash
   clawdbot message --to imessage:+15555550123 "Hello from Clawdbot!"
   ```

**–ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Messages
- –ñ—É—Ä–Ω–∞–ª Gateway –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–æ–¥–µ–ª—å AI, –ø–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç AI

::: info
–§–æ—Ä–º–∞—Ç `imessage:+15555550123` –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª iMessage –Ω–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ `+15555550123`. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã `imessage:user@example.com`.
:::

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚úÖ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–∞–Ω–∞–ª–∞
clawdbot channels status

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# iMessage default: enabled, configured, rpc listening
```

::: info
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏, –∑–∞–ø—É—Å—Ç–∏—Ç–µ `clawdbot channels status --probe` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
:::

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mac (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å iMessage (–Ω–µ –∑–∞–≥—Ä—è–∑–Ω—è—Ç—å –≤–∞—à–∏ –ª–∏—á–Ω—ã–µ Messages), –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mac.

**–®–∞–≥–∏**:

1. **–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π Apple ID**:
   - –ü–æ—Å–µ—Ç–∏—Ç–µ [appleid.apple.com](https://appleid.apple.com)
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Apple ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `my-cool-bot@icloud.com`)

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è macOS**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** > **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –≥—Ä—É–ø–ø—ã**
   - –ù–∞–∂–º–∏—Ç–µ **+** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `botuser`)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –∏–ª–∏ –∑–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å

3. **–í–æ–π–¥–∏—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç iMessage**:
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `botuser`
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Messages
   - –í–æ–π–¥–∏—Ç–µ –≤ iMessage —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ Apple ID

4. **–í–∫–ª—é—á–∏—Ç–µ —É–¥–∞–ª—ë–Ω–Ω—ã–π –≤—Ö–æ–¥**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** > **–û—Å–Ω–æ–≤–Ω—ã–µ** > **–û–±—â–∏–π –¥–æ—Å—Ç—É–ø**
   - –í–∫–ª—é—á–∏—Ç–µ **–£–¥–∞–ª—ë–Ω–Ω—ã–π –≤—Ö–æ–¥**

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –±–µ–∑ –ø–∞—Ä–æ–ª—è**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ssh botuser@localhost true

   # –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–∏ SSH:
   ssh-keygen -t ed25519
   ssh-copy-id botuser@localhost
   ```

6. **–°–æ–∑–¥–∞–π—Ç–µ SSH wrapper —Å–∫—Ä–∏–ø—Ç**:

   –°–æ–∑–¥–∞–π—Ç–µ `~/.clawdbot/scripts/imsg-bot` (`chmod +x`):

   ```bash
   #!/usr/bin/env bash
   set -euo pipefail

   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π SSH –æ–¥–∏–Ω —Ä–∞–∑, —á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å –∫–ª—é—á–∏ —Ö–æ—Å—Ç–∞:
   #   ssh botuser@localhost true
   exec /usr/bin/ssh -o BatchMode=yes -o ConnectTimeout=5 -T botuser@localhost \
     "/usr/local/bin/imsg" "$@"
   ```

7. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Clawdbot**:

   ```json5
   {
     channels: {
       imessage: {
         enabled: true,
         accounts: {
           bot: {
             name: "Bot",
             enabled: true,
             cliPath: "/Users/<your-username>/.clawdbot/scripts/imsg-bot",
             dbPath: "/Users/botuser/Library/Messages/chat.db"
           }
         }
       }
     }
   }
   ```

::: tip
–ü—Ä–∏ –ø–µ—Ä–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ `imsg chats --limit 1` –∏–ª–∏ `imsg send ...` –≤ —Å–µ—Å—Å–∏–∏ `botuser`, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ Automation.
:::

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ Mac (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux/VM, –Ω–æ iMessage –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ Mac, –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ SSH —É–¥–∞–ª—ë–Ω–Ω–æ.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          SSH (imsg rpc)          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –•–æ—Å—Ç Gateway (Linux/VM)      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Mac —Å Messages + imsg    ‚îÇ
‚îÇ - clawdbot gateway           ‚îÇ          SCP (attachments)        ‚îÇ - Messages –≤–æ—à—ë–ª         ‚îÇ
‚îÇ - channels.imessage.cliPath  ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ - –£–¥–∞–ª—ë–Ω–Ω—ã–π –≤—Ö–æ–¥ –≤–∫–ª—é—á—ë–Ω  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚ñ≤
              ‚îÇ Tailscale tailnet (hostname –∏–ª–∏ 100.x.y.z)
              ‚ñº
        user@remote-mac
```

**–®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:

1. **–°–æ–∑–¥–∞–π—Ç–µ SSH wrapper** (`~/.clawdbot/scripts/imsg-ssh`):

   ```bash
   #!/usr/bin/env bash
   exec ssh -T bot@remote-mac imsg "$@"
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Clawdbot**:

   ```json5
   {
     channels: {
       imessage: {
         enabled: true,
         cliPath: "/Users/<your-username>/.clawdbot/scripts/imsg-ssh",
         remoteHost: "bot@remote-mac",
         includeAttachments: true,
         dbPath: "/Users/bot/Library/Messages/chat.db"
       }
     }
   }
   ```

::: info
`remoteHost` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ SCP –≤–ª–æ–∂–µ–Ω–∏–π. –ï—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, Clawdbot –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥—ã SSH. –Ø–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–∞.
:::

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Tailscale**:

```bash
# SSH wrapper
#!/usr/bin/env bash
exec ssh -T bot@mac-mini.tailnet-1234.ts.net imsg "$@"
```

```json5
{
  channels: {
    imessage: {
      enabled: true,
      cliPath: "~/.clawdbot/scripts/imsg-ssh",
      remoteHost: "bot@mac-mini.tailnet-1234.ts.net",
      includeAttachments: true,
      dbPath: "/Users/bot/Library/Messages/chat.db"
    }
  }
}
```

## –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------ | -------- | ------ |
| `enabled` | boolean | false | –í–∫–ª—é—á–∏—Ç—å –ª–∏ –∫–∞–Ω–∞–ª iMessage |
| `cliPath` | string | "imsg" | –ü—É—Ç—å –∫ CLI imsg (–º–æ–∂–µ—Ç –±—ã—Ç—å SSH wrapper) |
| `dbPath` | string | - | –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö chat.db Messages |
| `remoteHost` | string | - | –•–æ—Å—Ç SSH (–¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ SCP –≤–ª–æ–∂–µ–Ω–∏–π) |

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è DM

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------ | -------- | ------ |
| `dmPolicy` | "pairing"|"allowlist"|"open"|"disabled" | "pairing" | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ—Å—Ç—É–ø–∞ DM |
| `allowFrom` | array | [] | –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π (handles, emails, E.164, `chat_id:*`) |

**–ü–∞—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π**:

```bash
# –°–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ –¥–ª—è –ø–∞—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
clawdbot pairing list imessage

# –û–¥–æ–±—Ä–∏—Ç–µ –ø–∞—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
clawdbot pairing approve imessage <CODE>
```

::: tip
–í iMessage –Ω–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è handles (–Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏–ª–∏ –∞–¥—Ä–µ—Å–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã) –∏–ª–∏ —Ü–µ–ª–∏ —á–∞—Ç–∞ (`chat_id`, `chat_guid`, `chat_identifier`).
:::

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≥—Ä—É–ø–ø

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------ | -------- | ------ |
| `groupPolicy` | "allowlist"|"open"|"disabled" | "allowlist" | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ—Å—Ç—É–ø–∞ –≥—Ä—É–ø–ø |
| `groupAllowFrom` | array | [] | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å AI –≤ –≥—Ä—É–ø–ø–∞—Ö |
| `groups` | object | {} | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø –ø–æ chat_id |

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø**:

```json5
{
  channels: {
    imessage: {
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15555550123", "alice@example.com"],
      groups: {
        "42": {
          requireMention: false,
          allowFrom: ["bob@example.com"]
        }
      }
    }
  }
}
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–µ–¥–∏–∞ –∏ —Ç–µ–∫—Å—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------ | -------- | ------ |
| `includeAttachments` | boolean | false | –í–∫–ª—é—á–∞—Ç—å –ª–∏ –≤–ª–æ–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç |
| `mediaMaxMb` | number | 16 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–µ–¥–∏–∞ —Ñ–∞–π–ª–∞ (–ú–ë) |
| `textChunkLimit` | number | 4000 | –†–∞–∑–º–µ—Ä –±–ª–æ–∫–æ–≤ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ (—Å–∏–º–≤–æ–ª—ã) |
| `chunkMode` | "length"|"newline" | "length" | –†–µ–∂–∏–º –±–ª–æ–∫–æ–≤: –ø–æ –¥–ª–∏–Ω–µ –∏–ª–∏ –ø–æ –ø—É—Å—Ç—ã–º —Å—Ç—Ä–æ–∫–∞–º |

### –ò—Å—Ç–æ—Ä–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | ------ | -------- | ------ |
| `historyLimit` | number | - | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–∞—Ö (0 –æ—Ç–∫–ª—é—á–∞–µ—Ç) |
| `dmHistoryLimit` | number | - | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ DM (–æ–±–æ—Ä–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) |
| `dms["<handle>"].historyLimit` | number | - | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ DM –ø–æ handle |

## –°–æ–≤–µ—Ç—ã –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

### –ö–æ–º–∞–Ω–¥–∞ imsg rpc –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

**–°–∏–º–ø—Ç–æ–º**: –ñ—É—Ä–Ω–∞–ª Gateway –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "imsg CLI does not support 'rpc' subcommand"

**–ü—Ä–∏—á–∏–Ω–∞**: –í–µ—Ä—Å–∏—è `imsg` —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä–∞—è, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–∫–æ–º–∞–Ω–¥—É `rpc`

**–†–µ—à–µ–Ω–∏–µ**:

1. –û–±–Ω–æ–≤–∏—Ç–µ `imsg`:
   ```bash
   brew upgrade steipete/tap/imsg
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:
   ```bash
   imsg rpc --help
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º Full Disk Access

**–°–∏–º–ø—Ç–æ–º**: `imsg chats --limit 1` –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "Permission denied"

**–†–µ—à–µ–Ω–∏–µ**:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Clawdbot –∏ `imsg` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∏—Å–∫—É
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Gateway
3. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Mac

### –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º Automation

**–°–∏–º–ø—Ç–æ–º**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç, –∂—É—Ä–Ω–∞–ª Gateway –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–π–º-–∞—É—Ç

**–ü—Ä–∏—á–∏–Ω–∞**: macOS –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ Automation

**–†–µ—à–µ–Ω–∏–µ**:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Messages
2. macOS –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ **–†–∞–∑—Ä–µ—à–∏—Ç—å**
4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mac, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É Mac

**–°–∏–º–ø—Ç–æ–º**: SSH wrapper —Ç–∞–π–º-–∞—É—Ç –∏–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ

**–†–µ—à–µ–Ω–∏–µ**:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ SSH:
   ```bash
   ssh -T bot@remote-mac imsg --version
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –£–¥–∞–ª—ë–Ω–Ω—ã–π –≤—Ö–æ–¥ –≤–∫–ª—é—á—ë–Ω (–Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º Mac)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞ –∏ –ø–æ—Ä—Ç–æ–≤

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tailscale –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–æ–±—Ä–æ—Å–∞ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å

## –ò—Ç–æ–≥ —É—Ä–æ–∫–∞

- –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç CLI `imsg`
- –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Full Disk Access –∏ Automation
- –û—Å–≤–æ–∏–ª–∏ –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ Mac
- –ü–æ–Ω—è–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–∞—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ DM –∏ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
- –ü–æ–Ω—è–ª–∏ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É chat_id, chat_guid, chat_identifier
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è 1:1 –∏ –≥—Ä—É–ø–ø—ã

## –ß—Ç–æ –¥–∞–ª—å—à–µ

> –í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã –∏–∑—É—á–∏–º **[–ö–∞–Ω–∞–ª LINE](../line/)**.
>
> –í—ã —É–∑–Ω–∞–µ—Ç–µ:
> - –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ LINE Messaging API
> - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ Webhook –¥–ª—è LINE Bot
> - –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞ LINE
> - –†–∞–∑–ª–∏—á–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –∫–∞–Ω–∞–ª–æ–º iMessage

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

<details>
<summary><strong>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞</strong></summary>

> –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-27

| –§—É–Ω–∫—Ü–∏—è | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É | –°—Ç—Ä–æ–∫–∏ |
| ------ | --------- | ---- |
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ iMessage | [`src/config/types.imessage.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/config/types.imessage.ts) | 1-80 |
| –ü–∞—Ä—Å–∏–Ω–≥ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ iMessage | [`src/imessage/accounts.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/imessage/accounts.ts) | 1-83 |
| –ó–æ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ iMessage | [`src/imessage/probe.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/imessage/probe.ts) | 1-92 |
| –û—Ç–ø—Ä–∞–≤–∫–∞ iMessage | [`src/imessage/send.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/imessage/send.ts) | 1-135 |
| –ü—Ä–æ–≤–∞–π–¥–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ iMessage | [`src/imessage/monitor/monitor-provider.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/imessage/monitor/monitor-provider.ts) | 1-600+ |
| –ü–∞—Ä—Å–∏–Ω–≥ —Ü–µ–ª–µ–≤—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ | [`src/imessage/targets.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/imessage/targets.ts) | 1-200+ |
| –ê–¥–∞–ø—Ç–µ—Ä Onboarding | [`src/channels/plugins/onboarding/imessage.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/channels/plugins/onboarding/imessage.ts) | 1-262 |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è iMessage | [`docs/channels/imessage.md`](https://github.com/clawdbot/clawdbot/blob/main/docs/channels/imessage.md) | 1-262 |

**–ö–ª—é—á–µ–≤—ã–µ —Ç–∏–ø—ã**:
- `IMessageConfig`: –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ iMessage
- `IMessageAccountConfig`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- `IMessageService`: "imessage" | "sms" | "auto"
- `IMessageTargetKind`: "chat_id" | "chat_guid" | "chat_identifier" | "handle"

**–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
- `cliPath`: –ü—É—Ç—å –∫ CLI imsg, –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–º –ø—É—Ç—ë–º –∏–ª–∏ SSH wrapper —Å–∫—Ä–∏–ø—Ç–æ–º
- `dbPath`: –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö chat.db Messages
- `remoteHost`: –•–æ—Å—Ç SSH (–¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ SCP –≤–ª–æ–∂–µ–Ω–∏–π), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–ª–∏ —è–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `dmPolicy`: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "pairing", –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö DM
- `groupPolicy`: –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ—Å—Ç—É–ø–∞ –≥—Ä—É–ø–ø, "allowlist" –∏–ª–∏ "open"
- `groups`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø –ø–æ `chat_id`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é —Å–µ—Å—Å–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- `probeIMessage()`: –ó–æ–Ω–¥–∏—Ä—É–µ—Ç, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ CLI imsg –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥—É rpc (`probe.ts`)
- `sendMessageIMessage()`: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ iMessage, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏ –º–µ–¥–∏–∞ (`send.ts`)
- `monitorIMessageProvider()`: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π iMessage (`monitor-provider.ts`)
- `parseIMessageTarget()`: –ü–∞—Ä—Å–∏—Ç —Ü–µ–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å (chat_id, handle, email –∏ —Ç.–¥.) (`targets.ts`)

**–ú–µ—Ö–∞–Ω–∏–∑–º —Å–≤—è–∑–∏**:
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON-RPC over stdio —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã `imsg rpc`
- –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä RPC –∫–ª–∏–µ–Ω—Ç–∞ (`createIMessageRpcClient`)
- –°–æ–±—ã—Ç–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ Gateway —á–µ—Ä–µ–∑ –ø–æ—Ç–æ–∫ –≤ `monitor-provider.ts`
- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `chat_id` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è), `chat_guid`, `chat_identifier` –∏–ª–∏ –ø—Ä—è–º–æ–π handle

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ map `channels.imessage.accounts` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `cliPath`, `dbPath` –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ID –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî "default", –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω —á–µ—Ä–µ–∑ –ø–æ–ª–µ `accountId`

</details>
