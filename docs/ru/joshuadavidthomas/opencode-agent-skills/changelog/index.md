---
title: "История версий: Эволюция функций | opencode-agent-skills"
sidebarTitle: "Что нового в версии"
subtitle: "История версий"
description: "Изучите историю версий плагина OpenCode Agent Skills. Этот туториал содержит все основные обновления функций, исправления ошибок, улучшения архитектуры и описания критических изменений от v0.1.0 до v0.6.4."
tags:
  - "Обновления версий"
  - "changelog"
  - "История релизов"
order: 3
---

# История версий

Этот документ содержит все обновления версий плагина OpenCode Agent Skills. Через историю версий вы можете узнать о пути эволюции функций, исправленных проблемах и улучшениях архитектуры.

::: tip Текущая версия
Последняя стабильная версия — **v0.6.4** (2026-01-20)
:::

## Хронология версий

| Версия | Дата релиза | Тип | Основное содержание |
| --- | --- | --- | --- |
| 0.6.4 | 2026-01-20 | Исправление | Парсинг YAML, поддержка Claude v2 |
| 0.6.3 | 2025-12-16 | Улучшение | Оптимизация подсказок рекомендаций навыков |
| 0.6.2 | 2025-12-15 | Исправление | Разделение имени навыка и имени директории |
| 0.6.1 | 2025-12-13 | Улучшение | Избежание повторных рекомендаций загруженных навыков |
| 0.6.0 | 2025-12-12 | Новая функция | Семантическое сопоставление, предвычисление embedding |
| 0.5.0 | 2025-12-11 | Улучшение | Нечеткое сопоставление предложений, рефакторинг |
| 0.4.1 | 2025-12-08 | Улучшение | Упрощение способа установки |
| 0.4.0 | 2025-12-05 | Улучшение | Рекурсивный поиск скриптов |
| 0.3.3 | 2025-12-02 | Исправление | Обработка символических ссылок |
| 0.3.2 | 2025-11-30 | Исправление | Сохранение режима агента |
| 0.3.1 | 2025-11-28 | Исправление | Проблема переключения модели |
| 0.3.0 | 2025-11-27 | Новая функция | Функция списка файлов |
| 0.2.0 | 2025-11-26 | Новая функция | Режим Superpowers |
| 0.1.0 | 2025-11-26 | Начальная | 4 инструмента, обнаружение в нескольких местах |

## Подробный журнал изменений

### v0.6.4 (2026-01-20)

**Исправления**:
- Исправлен парсинг YAML frontmatter для многострочных описаний навыков (поддержка блочных скаляров `|` и `>`), путем замены пользовательского парсера на библиотеку `yaml`
- Добавлена поддержка формата плагина Claude v2, `installed_plugins.json` теперь использует массив установленных плагинов вместо отдельного объекта

**Улучшения**:
- Обнаружение кэша плагина Claude Code теперь поддерживает новую вложенную структуру директорий (`cache/<marketplace>/<plugin>/<version>/skills/`)

### v0.6.3 (2025-12-16)

**Улучшения**:
- Оптимизированы подсказки оценки навыков, чтобы предотвратить отправку моделью сообщений типа "навыки не нужны" пользователю (пользователь не видит скрытые подсказки оценки)

### v0.6.2 (2025-12-15)

**Исправления**:
- Валидация навыков теперь позволяет имени директории отличаться от `name` в frontmatter SKILL.md. `name` в frontmatter является стандартным идентификатором, имя директории используется только для организации. Это соответствует спецификации Anthropic Agent Skills.

### v0.6.1 (2025-12-13)

**Улучшения**:
- Динамические рекомендации навыков теперь отслеживают уже загруженные навыки в каждой сессии, избегая повторных рекомендаций загруженных навыков, снижая избыточные подсказки и использование контекста

### v0.6.0 (2025-12-12)

**Добавлено**:
- **Семантическое сопоставление навыков**: после начальной инъекции списка навыков, последующие сообщения используют локальный embedding для сопоставления с описаниями навыков
- Добавлена зависимость `@huggingface/transformers` для генерации локальных embedding (квантованная версия all-MiniLM-L6-v2)
- При сопоставлении сообщений с доступными навыками внедряется 3-шаговая подсказка оценки (EVALUATE → DECIDE → ACTIVATE), поощряющая загрузку навыков (вдохновлено [блог-постом](https://scottspence.com/posts/how-to-make-claude-code-skills-activate-reliably) [@spences10](https://github.com/spences10))
- Дисковое кэширование embedding для низколатентного сопоставления (~/.cache/opencode-agent-skills/)
- Очистка сессий при событии `session.deleted`

### v0.5.0 (2025-12-11)

**Добавлено**:
- Добавлены предложения нечеткого сопоставления "Вы имели в виду..." во все инструменты (`use_skill`, `read_skill_file`, `run_skill_script`, `get_available_skills`)

**Улучшения**:
- **Критическое изменение**: инструмент `find_skills` переименован в `get_available_skills` для более четкого намерения
- **Внутреннее**: кодовая база реорганизована в независимые модули (`claude.ts`, `skills.ts`, `tools.ts`, `utils.ts`, `superpowers.ts`), повышена поддерживаемость
- **Внутреннее**: повышено качество кода путем удаления AI-генерированных комментариев и ненужного кода

### v0.4.1 (2025-12-08)

**Улучшения**:
- Способ установки теперь использует npm-пакет через OpenCode config вместо git clone + символическая ссылка

**Удалено**:
- Удален `INSTALL.md` (больше не нужен после упрощения установки)

### v0.4.0 (2025-12-05)

**Улучшения**:
- Обнаружение скриптов теперь выполняет рекурсивный поиск по всей директории навыков (максимальная глубина 10) вместо только корневой директории и поддиректории `scripts/`
- Скрипты теперь идентифицируются по относительным путям (например, `tools/build.sh`) вместо базовых имен
- Параметр `skill_name` в инструментах `read_skill_file`, `run_skill_script` и `use_skill` переименован в `skill`
- Параметр `script_name` в инструменте `run_skill_script` переименован в `script`

### v0.3.3 (2025-12-02)

**Исправления**:
- Исправлено обнаружение файлов и директорий для корректной обработки символических ссылок с использованием `fs.stat`

### v0.3.2 (2025-11-30)

**Исправления**:
- Сохранение режима агента при внедрении синтетических сообщений в начале сессии

### v0.3.1 (2025-11-28)

**Исправления**:
- Исправлено неожиданное переключение модели при использовании инструментов навыков путем явной передачи текущей модели в операции `noReply` (временное решение для проблемы opencode #4475)

### v0.3.0 (2025-11-27)

**Добавлено**:
- Добавлен список файлов в вывод `use_skill`

### v0.2.0 (2025-11-26)

**Добавлено**:
- Добавлена поддержка режима Superpowers
- Добавлено доказательство релиза

### v0.1.0 (2025-11-26)

**Добавлено**:
- Добавлен инструмент `use_skill` для загрузки содержимого навыков в контекст
- Добавлен инструмент `read_skill_file` для чтения вспомогательных файлов в директории навыков
- Добавлен инструмент `run_skill_script` для выполнения скриптов из директории навыков
- Добавлен инструмент `find_skills` для поиска и перечисления доступных навыков
- Добавлено обнаружение навыков в нескольких местах (на уровне проекта, пользователя и совместимые с Claude места)
- Добавлена валидация frontmatter в соответствии со спецификацией Anthropic Agent Skills Spec v1.0
- Добавлена автоматическая инъекция списка навыков при начале сессии и после сжатия контекста

**Новые участники**:
- Josh Thomas <josh@joshthomas.dev> (мейнтейнер)

## Обзор эволюции функций

| Функция | Версия введения | Путь эволюции |
| --- | --- | --- |
| 4 базовых инструмента | v0.1.0 | v0.5.0 добавлено нечеткое сопоставление |
| Обнаружение навыков в нескольких местах | v0.1.0 | v0.4.1 упрощена установка, v0.6.4 поддержка Claude v2 |
| Автоматическая инъекция контекста | v0.1.0 | v0.3.0 добавлен список файлов, v0.6.1 избежание повторных рекомендаций |
| Режим Superpowers | v0.2.0 | Постоянно стабильный |
| Рекурсивный поиск скриптов | v0.4.0 | v0.3.3 исправлены символические ссылки |
| Семантическое сопоставление рекомендаций | v0.6.0 | v0.6.1 избежание повторов, v0.6.3 оптимизация подсказок |
| Нечеткое сопоставление предложений | v0.5.0 | Постоянно стабильный |

## Описание критических изменений

### v0.6.0: Функция семантического сопоставления

Введена возможность семантического сопоставления на основе локальных embedding, позволяющая AI автоматически рекомендовать релевантные навыки на основе содержания сообщений пользователя, без необходимости запоминать имена навыков вручную.

- **Технические детали**: используется модель `all-MiniLM-L6-v2` от HuggingFace (квантование q8)
- **Механизм кэширования**: результаты embedding кэшируются в `~/.cache/opencode-agent-skills/`, повышая скорость последующих сопоставлений
- **Процесс сопоставления**: сообщение пользователя → embedding → вычисление косинусного сходства с описаниями навыков → Топ 5 рекомендаций (порог 0.35)

### v0.5.0: Рефакторинг и переименование инструментов

Архитектура кода реорганизована в модульный дизайн, имена инструментов стали более четкими:

- `find_skills` → `get_available_skills`
- `skill_name` → `skill`
- `script_name` → `script`

### v0.4.0: Улучшение механизма обнаружения скриптов

Обнаружение скриптов обновлено с "только корневая директория + scripts/" до "рекурсивный поиск по всей директории навыков" (максимальная глубина 10), поддерживая более гибкие способы организации скриптов.

### v0.2.0: Интеграция Superpowers

Добавлена поддержка режима рабочего процесса Superpowers, требуется установка навыка `using-superpowers` и установка переменной окружения `OPENCODE_AGENT_SKILLS_SUPERPOWERS_MODE=true`.

---

## Приложение: Ссылки на исходный код

<details>
<summary><strong>Нажмите, чтобы развернуть и посмотреть расположение исходного кода</strong></summary>

> Время обновления: 2026-01-24

| Функция | Путь к файлу | Номер строки |
| --- | --- | --- |
| Текущий номер версии | [`package.json`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/package.json#L3-L3) | 3 |
| История версий | [`CHANGELOG.md`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/CHANGELOG.md#L19-L152) | 19-152 |

**Ключевая информация о версиях**:
- `v0.6.4`: Текущая версия (2026-01-20)
- `v0.6.0`: Введение семантического сопоставления (2025-12-12)
- `v0.5.0`: Версия рефакторинга (2025-12-11)
- `v0.1.0`: Начальная версия (2025-11-26)

</details>
