---
title: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏: OAuth –∏ Refresh Token | Antigravity Tools"
sidebarTitle: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π Google —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏"
subtitle: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏: OAuth/Refresh Token –¥–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω—ã–π –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏"
description: "–ò–∑—É—á–∏—Ç–µ —Å–ø–æ—Å–æ–±—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ Antigravity Tools. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏–ª–∏ Refresh Token –≤—Ä—É—á–Ω—É—é, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç, –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–±–æ–µ–≤ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –ø—É–ª–∞ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π."
tags:
  - "—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏"
  - "OAuth"
  - "refresh_token"
  - "Google"
  - "Antigravity Tools"
prerequisite:
  - "start-getting-started"
duration: 15
order: 4
---

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏: OAuth/Refresh Token –¥–≤—É—Ö–∫–∞–Ω–∞–ª—å–Ω—ã–π –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–í Antigravity Tools ¬´–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏¬ª ‚Äî —ç—Ç–æ –∑–∞–ø–∏—Å—å `refresh_token` Google —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –º–æ–≥–ª–∏ —Ä–æ—Ç–∞—Ü–∏–æ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ. –í—ã –º–æ–∂–µ—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ OAuth –≤ –æ–¥–∏–Ω –∫–ª–∏–∫ –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–∏—Ç—å `refresh_token` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.

## –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å

- –î–æ–±–∞–≤–∏—Ç—å —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ Antigravity Tools —á–µ—Ä–µ–∑ OAuth –∏–ª–∏ Refresh Token
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–≤—Ä—É—á–Ω—É—é –æ—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
- –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º `refresh_token` –∏–ª–∏ —Å–±–æ–µ–º –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –Ω–∞ `localhost` –≤—ã –±—É–¥–µ—Ç–µ –∑–Ω–∞—Ç—å, –∫–∞–∫ —Å —ç—Ç–∏–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è

## –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

- –í—ã –Ω–∞–∂–∞–ª–∏ ¬´OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è¬ª, –Ω–æ –∫—Ä—É—Ç–∏—Ç—Å—è —Å–ø–∏–Ω–Ω–µ—Ä –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä —Å–æ–æ–±—â–∞–µ—Ç `localhost refused to connect`
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –Ω–æ –≤—ã–≤–æ–¥–∏—Ç ¬´–ù–µ –ø–æ–ª—É—á–µ–Ω Refresh Token¬ª
- –£ –≤–∞—Å —Ç–æ–ª—å–∫–æ `refresh_token`, –∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫‰∏ÄÊ¨°ÊÄß –º–∞—Å—Å–æ–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥

- –í—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç OAuth)
- –í–∞–º –±–æ–ª—å—à–µ –≤–∞–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏/—Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (Refresh Token –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ ¬´–∞–∫—Ç–∏–≤ –ø—É–ª–∞ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π¬ª)
- –í–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–Ω–æ–≥–æ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–∞—Å—Å–æ–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `refresh_token` (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞/JSON)

## üéí –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–∞—á–∞–ª—É

- –í—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏ –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å Antigravity Tools
- –í—ã –∑–Ω–∞–µ—Ç–µ, –≥–¥–µ –≤—Ö–æ–¥: –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `Accounts` (–º–∞—Ä—à—Ä—É—Ç —Å–º. `source/lbjlaq/Antigravity-Manager/src/App.tsx`)

::: info –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞
**OAuth**: –≤–∏–¥ ¬´–ø–µ—Ä–µ—Ö–æ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—Ö–æ–¥–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏¬ª. Antigravity Tools –ª–æ–∫–∞–ª—å–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ–∑–¥–∞—Å—Ç –∞–¥—Ä–µ—Å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (`http://localhost/127.0.0.1/[::1]:<port>/oauth-callback` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ IPv4/IPv6), –¥–æ–∂–¥–µ—Ç—Å—è `code` –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞, –∞ –∑–∞—Ç–µ–º –æ–±–º–µ–Ω—è–µ—Ç token. (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–º. `source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs`)

**refresh_token**: –≤–∏–¥ ¬´–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access_token¬ª. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–Ω–∞—á–∞–ª–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞ access_token, –∞ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π email –æ—Ç Google –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫. (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–º. `source/lbjlaq/Antigravity-Manager/src-tauri/src/commands/mod.rs`)
:::

## –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–°—É—Ç—å ¬´–¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏¬ª –≤ Antigravity Tools ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –¥–≤–µ –≤–µ—â–∏:

1) –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π `refresh_token`
2) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞ access_token, –∞ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π email –æ—Ç Google –∏ –∑–∞–ø–∏—Å–∞—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

–û–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ –≤—Ö–æ–¥–∞:

- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç JSON: –ø–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –≤–∞–º —è–≤–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å ¬´—É–ø—Ä–∞–≤–ª—è–µ–º–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª
- –ò–º–ø–æ—Ä—Ç –∏–∑ DB: –ø–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –≤—ã –±–µ—Ä–µ—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Ö–æ–¥–∞ Antigravity/IDE –∫–∞–∫ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç `state.vscdb`, —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä —Ñ–∞–π–ª–∞)
- –ò–º–ø–æ—Ä—Ç –∏–∑ V1: –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–º–ø–æ—Ä—Ç–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ V1

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å—Ç—å –ø—É—Ç—å ¬´–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è¬ª: –æ–Ω–∞ –±—É–¥–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞—Ç—å `refresh_token` –≤ DB, –µ—Å–ª–∏ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –∏–º–ø–æ—Ä—Ç –∏–∑ DB; –µ—Å–ª–∏ –æ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç, —Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫.

## –°–ª–µ–¥—É–π—Ç–µ –∑–∞ –Ω–∞–º–∏

### –®–∞–≥ 1: –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–ª–æ–≥ ¬´–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏¬ª

**–ü–æ—á–µ–º—É**
–í—Å–µ –≤—Ö–æ–¥—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –µ–¥–∏–Ω–æ–≥–ª–∞—Å–Ω–æ —Å–æ–±—Ä–∞–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `Accounts`.
 
–í Antigravity Tools –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É `Accounts`, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Add Account** —Å–ø—Ä–∞–≤–∞ (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `AddAccountDialog`).

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –≤—Å–ø–ª—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å —Ç—Ä–µ–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏: `OAuth` / `Refresh Token` / `Import` (—Å–º. `source/lbjlaq/Antigravity-Manager/src/components/accounts/AddAccountDialog.tsx`).

### –®–∞–≥ 2: –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ –æ–¥–∏–Ω –∫–ª–∏–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–æ—á–µ–º—É**
–≠—Ç–æ –ø—É—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç–æ–º: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä, –∞ –ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.

1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É `OAuth`.
2. –°–Ω–∞—á–∞–ª–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–∏–∞–ª–æ–≥–∞ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç `prepare_oauth_url` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL (–≤—ã–∑–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å–º. `AddAccountDialog.tsx:111-125`; –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ —Å–º. `oauth_server.rs`).
3. –ù–∞–∂–º–∏—Ç–µ **Start OAuth** (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É `startOAuthLogin()` / –±—ç–∫–µ–Ω–¥—É `start_oauth_login`), —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–ª–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –Ω–∞—á–∞–ª–æ –∂–¥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞.

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –í –¥–∏–∞–ª–æ–≥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–æ–ø–∏—Ä—É–µ–º–∞—è —Å—Å—ã–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∏–º—è —Å–æ–±—ã—Ç–∏—è: `oauth-url-generated`)
- –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Google; –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å, –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´Authorization Successful!¬ª (`oauth_success_html()`)

### –®–∞–≥ 3: –∫–æ–≥–¥–∞ OAuth –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å OAuth¬ª –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–ü–æ—á–µ–º—É**
–ü—Ä–æ—Ü–µ—Å—Å OAuth —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ —ç—Ç–∞–ø–∞: –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç `code`, –∑–∞—Ç–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `code` –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞ token. –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –Ω–µ –Ω–∞–∂–∏–º–∞–ª–∏ ¬´Start OAuth¬ª, –ø–æ–∫–∞ –≤—ã –≤—Ä—É—á–Ω—É—é –æ—Ç–∫—Ä–æ–µ—Ç–µ —Å—Å—ã–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤, –¥–∏–∞–ª–æ–≥ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è; –µ—Å–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å, –≤—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –Ω–∞–∂–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑.

1. –ï—Å–ª–∏ –≤—ã ¬´—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —Å—Å—ã–ª–∫—É –≤ —Å–≤–æ–π –±—Ä–∞—É–∑–µ—Ä¬ª (–∞ –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç —Å–æ–±—ã—Ç–∏–µ `oauth-callback-received` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç `completeOAuthLogin()` (—Å–º. `source/lbjlaq/Antigravity-Manager/src/components/accounts/AddAccountDialog.tsx:67-109`).
2. –ï—Å–ª–∏ –≤—ã –Ω–µ –≤–∏–¥–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –Ω–∞–∂–º–∏—Ç–µ –≤ –¥–∏–∞–ª–æ–≥–µ –∫–Ω–æ–ø–∫—É **Finish OAuth** (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±—ç–∫–µ–Ω–¥—É `complete_oauth_login`).

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ–± —É—Å–ø–µ—Ö–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è; –≤ —Å–ø–∏—Å–∫–µ `Accounts` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å.

::: tip –°–æ–≤–µ—Ç: –ø—Ä–∏ —Å–±–æ–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Å–Ω–∞—á–∞–ª–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É
–ë—ç–∫–µ–Ω–¥ –±—É–¥–µ—Ç —Å—Ç–∞—Ä–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å IPv6 `::1` –∏ IPv4 `127.0.0.1`, –∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –≤—ã–±–µ—Ä–µ—Ç `localhost/127.0.0.1/[::1]` –∫–∞–∫ –∞–¥—Ä–µ—Å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å ¬´–±—Ä–∞—É–∑–µ—Ä —Ä–∞–∑–±–∏—Ä–∞–µ—Ç localhost –∫–∞–∫ IPv6¬ª –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ —Å–±–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. (—Å–º. `source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs:53-113`)
:::

### –®–∞–≥ 4: —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Refresh Token (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç)

**–ü–æ—á–µ–º—É**
–ö–æ–≥–¥–∞ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å `refresh_token` (–∏–ª–∏ –≤–∞–º –±–æ–ª—å—à–µ –≤–∞–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏), –ø—Ä—è–º–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Refresh Token –±–æ–ª–µ–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ.

1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Refresh Token`.
2. –í—Å—Ç–∞–≤—å—Ç–µ `refresh_token` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º—ã –≤–≤–æ–¥–∞ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å –∏ –º–∞—Å—Å–æ–≤–æ –¥–æ–±–∞–≤–ª—è—Ç—å):

| –¢–∏–ø –≤–≤–æ–¥–∞ | –ü—Ä–∏–º–µ—Ä | –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ |
|--- | --- | ---|
| –ß–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç token | `1//abc...` | –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ: `/1\/\/[a-zA-Z0-9_\-]+/g` (—Å–º. `AddAccountDialog.tsx:213-220`) |
| –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –±–æ–ª—å—à–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞ | –ª–æ–≥–∏/—ç–∫—Å–ø–æ—Ä—Ç —Ç–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ `1//...` | –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –º–∞—Å—Å–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è (—Å–º. `AddAccountDialog.tsx:213-224`) |
| –ú–∞—Å—Å–∏–≤ JSON | `[{"refresh_token":"1//..."}]` | –†–∞–∑–±–æ—Ä –º–∞—Å—Å–∏–≤–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ `item.refresh_token` (—Å–º. `AddAccountDialog.tsx:198-207`) |

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è **Confirm** –¥–∏–∞–ª–æ–≥ –±—É–¥–µ—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤—ã–∑—ã–≤–∞—Ç—å `onAdd("", token)` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ token (—Å–º. `AddAccountDialog.tsx:231-248`), –≤ –∏—Ç–æ–≥–µ –ø–µ—Ä–µ–π–¥–µ—Ç –∫ –±—ç–∫–µ–Ω–¥—É `add_account`.

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**:
- –î–∏–∞–ª–æ–≥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä `1/5`)
- –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ –≤ —Å–ø–∏—Å–∫–µ `Accounts` –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

### –®–∞–≥ 5: –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ ¬´–ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –¥–æ—Å—Ç—É–ø–µ–Ω¬ª

**–ü–æ—á–µ–º—É**
–£—Å–ø–µ—à–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–≤–Ω–æ ¬´–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –º–æ–∂–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬ª. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±—ç–∫–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç ¬´–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–≤–æ—Ç—ã¬ª, –∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ Proxy –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å token pool, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–≤—É–º—è —Å–∏–≥–Ω–∞–ª–∞–º–∏:

1. –£—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç email (email –±–µ—Ä–µ—Ç—Å—è –æ—Ç –±—ç–∫–µ–Ω–¥–∞ `get_user_info`, –∞ –Ω–µ email, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤–≤–µ–ª–∏).
2. –ö–≤–æ—Ç–∞/–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è (–±—ç–∫–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç `internal_refresh_account_quota`)

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å**: –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –Ω–∞–∂–∏–º–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –Ω–∞—á–∏–Ω–∞—é—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–≤–æ—Ç–µ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ

- [ ] –í —Å–ø–∏—Å–∫–µ `Accounts` –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å email
- [ ] –ù–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è ¬´loading¬ª –¥–æ–ª—å—à–µ –≤–∞—à–µ–≥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–ø–æ—Å–ª–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ OAuth –¥–æ–ª–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è)
- [ ] –ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å Proxy, –Ω–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ (–±—ç–∫–µ–Ω–¥ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å)

## –ü—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è

### 1) OAuth –≤—ã–¥–∞–µ—Ç ¬´–ù–µ –ø–æ–ª—É—á–µ–Ω Refresh Token¬ª

–ë—ç–∫–µ–Ω–¥ –ø—Ä–∏ `start_oauth_login/complete_oauth_login` –±—É–¥–µ—Ç —è–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ `refresh_token`; –µ—Å–ª–∏ –Ω–µ—Ç, –≤–µ—Ä–Ω–µ—Ç —Ç–µ–∫—Å—Ç —Å —Ä–µ—à–µ–Ω–∏–µ–º (—Å–º. `source/lbjlaq/Antigravity-Manager/src-tauri/src/commands/mod.rs:45-56`).

–°–æ–≥–ª–∞—Å–Ω–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://myaccount.google.com/permissions`
2. –û—Ç–∑–æ–≤–∏—Ç–µ –¥–æ—Å—Ç—É–ø **Antigravity Tools**
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–Ω–æ–≤–∞ –ø—Ä–æ–π–¥–∏—Ç–µ OAuth

> –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ø—É—Ç—å Refresh Token —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞.

### 2) –ë—Ä–∞—É–∑–µ—Ä —Å–æ–æ–±—â–∞–µ—Ç `localhost refused to connect`

–û–±—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ OAuth —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–¥—Ä–µ—Å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞. –î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–±–æ—è –±—ç–∫–µ–Ω–¥ –±—É–¥–µ—Ç:

- –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å `127.0.0.1` –∏ `::1`
- –ö–æ–≥–¥–∞ –æ–±–∞ –¥–æ—Å—Ç—É–ø–Ω—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `localhost`, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `127.0.0.1` –∏–ª–∏ `[::1]`

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–º. `source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs:53-113`.

### 3) –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –æ—Ç–º–µ–Ω–∏—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É OAuth

–ö–æ–≥–¥–∞ –¥–∏–∞–ª–æ–≥ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è —Å `OAuth` –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤—ã–∑–æ–≤–µ—Ç `cancelOAuthLogin()` –∏ –æ—á–∏—Å—Ç–∏—Ç URL (—Å–º. `AddAccountDialog.tsx:127-136`).

–ï—Å–ª–∏ –≤—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–µ —Å–ø–µ—à–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∫–ª–∞–¥–∫—É.

### 4) –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä Refresh Token

| –ü—Ä–∏–º–µ—Ä | –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –ª–∏ | –ü—Ä–∏—á–∏–Ω–∞ |
|--- | --- | ---|
| `1//0gAbC...` | ‚úì | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª—É –ø—Ä–µ—Ñ–∏–∫—Å–∞ `1//` (—Å–º. `AddAccountDialog.tsx:215-219`) |
| `ya29.a0...` | ‚úó | –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª—É –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–º –≤–≤–æ–¥–æ–º |

## –ò—Ç–æ–≥ —É—Ä–æ–∫–∞

- OAuth: –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ¬´–±—ã—Å—Ç—Ä–æ¬ª, —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –≤ –≤–∞—à —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –±—Ä–∞—É–∑–µ—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ/—Ä—É—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- Refresh Token: –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ¬´–Ω–∞–¥–µ–∂–Ω–æ –∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∞—Ü–∏–∏¬ª, –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∞—Å—Å–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ `1//...` –∏–∑ —Ç–µ–∫—Å—Ç–∞/JSON
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `refresh_token` —Å–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –æ–± –æ—à–∏–±–∫–µ: –æ—Ç–∑–æ–≤–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∑–∞—Ç–µ–º –∑–∞–Ω–æ–≤–æ –ø—Ä–æ–π–¥–∏—Ç–µ OAuth, –ª–∏–±–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ Refresh Token

## –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–∫—É

> –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ –º—ã –¥–µ–ª–∞–µ–º –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ: –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ ¬´–∞–∫—Ç–∏–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∞—Ü–∏–∏¬ª.
>
> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –∏–∑—É—á–µ–Ω–∏—é **[–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏—è: –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç, –≥–æ—Ä—è—á–∞—è –º–∏–≥—Ä–∞—Ü–∏—è V1/DB](/ru/lbjlaq/Antigravity-Manager/start/backup-migrate/)**.
>
> –í—ã —É–∑–Ω–∞–µ—Ç–µ:
> - –ö–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ —Ñ–∞–π–ª JSON (—Ç–æ–ª—å–∫–æ email + refresh_token)
> - –ö–∞–∫ –Ω–∞ –Ω–æ–≤–æ–π –º–∞—à–∏–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç JSON –∏ –±—ã—Å—Ç—Ä–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É–ª —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

<details>
<summary><strong>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞</strong></summary>

> –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-23

| –§—É–Ω–∫—Ü–∏—è | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É | –°—Ç—Ä–æ–∫–∞ |
|--- | --- | ---|
| –°—Ç—Ä–∞–Ω–∏—Ü–∞ Accounts –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è | [`src/pages/Accounts.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/Accounts.tsx#L267-L731) | 267-731 |
| OAuth URL –ø—Ä–µ–¥–≥–µ–Ω–µ—Ä–∞—Ü–∏—è + —Å–æ–±—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L49-L125) | 49-125 |
| –°–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ OAuth –∑–∞–ø—É—Å–∫–∞–µ—Ç `completeOAuthLogin()` | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L67-L109) | 67-109 |
| –ü–∞–∫–µ—Ç–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è Refresh Token | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L185-L268) | 185-268 |
| –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã Tauri (add/OAuth/cancel) | [`src/services/accountService.ts`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/services/accountService.ts#L5-L91) | 5-91 |
| –ë—ç–∫–µ–Ω–¥ add_account: –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç email, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç refresh_token –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ email –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫ | [`src-tauri/src/commands/mod.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/commands/mod.rs#L19-L60) | 19-60 |
| –ë—ç–∫–µ–Ω–¥ OAuth: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ refresh_token –∏ –¥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ —Å –æ—Ç–æ–∑–≤–æ–º | [`src-tauri/src/commands/mod.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/commands/mod.rs#L38-L79) | 38-79 |
| –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ OAuth: –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç IPv4/IPv6 –∏ –≤—ã–±–∏—Ä–∞–µ—Ç redirect_uri | [`src-tauri/src/modules/oauth_server.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/oauth_server.rs#L43-L113) | 43-113 |
|--- | --- | ---|

**–ö–ª—é—á–µ–≤—ã–µ –∏–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏–π**:
- `oauth-url-generated`: –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ OAuth URL –±—ç–∫–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å–º. `oauth_server.rs:250-252`)
- `oauth-callback-received`: –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∏ —Ä–∞–∑–±–æ—Ä–∞ code –±—ç–∫–µ–Ω–¥ —É–≤–µ–¥–æ–º–ª—è–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å–º. `oauth_server.rs:177-180` / `oauth_server.rs:232-235`)

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã**:
- `prepare_oauth_url`: –ø—Ä–µ–¥–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (—Å–º. `src-tauri/src/commands/mod.rs:469-473`)
- `start_oauth_login`: –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –∂–¥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (—Å–º. `src-tauri/src/commands/mod.rs:339-401`)
- `complete_oauth_login`: –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä, —Ç–æ–ª—å–∫–æ –∂–¥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–±–º–µ–Ω –Ω–∞ token (—Å–º. `src-tauri/src/commands/mod.rs:405-467`)
- `add_account`: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å –ø–æ–º–æ—â—å—é refresh_token (—Å–º. `src-tauri/src/commands/mod.rs:19-60`)

</details>
