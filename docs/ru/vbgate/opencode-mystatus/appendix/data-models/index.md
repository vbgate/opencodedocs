---
title: "–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç—ã | opencode-mystatus"
sidebarTitle: "–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö"
subtitle: "–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç—ã API"
description: "–ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API –¥–ª—è 5 –ø–ª–∞—Ç—Ñ–æ—Ä–º: OpenAI, Êô∫Ë∞± AI, Z.ai, GitHub Copilot, Google Cloud."
tags:
  - "–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö"
  - "–§–∞–π–ª—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"
  - "–û—Ç–≤–µ—Ç API"
prerequisite:
  - "start-quick-start"
order: 1
---

# –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API

> üí° **–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**: –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ø–ª–∞–≥–∏–Ω —á–∏—Ç–∞–µ—Ç –∏ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º, –∑–¥–µ—Å—å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö.

## –ß—Ç–æ –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –¥–µ–ª–∞—Ç—å

- –ü–æ–π–º–∏—Ç–µ, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–∏—Ç–∞–µ—Ç –ø–ª–∞–≥–∏–Ω
- –ü–æ–π–º–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –ó–Ω–∞–π—Ç–µ, –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–ª–∞–≥–∏–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞)
- –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API (5 –ø–ª–∞—Ç—Ñ–æ—Ä–º)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: `~/.local/share/opencode/auth.json`

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenCode, –ø–ª–∞–≥–∏–Ω —á–∏—Ç–∞–µ—Ç –æ—Ç—Å—é–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAI„ÄÅÊô∫Ë∞± AI„ÄÅZ.ai„ÄÅGitHub Copilot.

```typescript
interface AuthData {
  /** OpenAI OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */
  openai?: OpenAIAuthData;

  /** API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Êô∫Ë∞± AI */
  "zhipuai-coding-plan"?: ZhipuAuthData;

  /** API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Z.ai */
  "zai-coding-plan"?: ZhipuAuthData;

  /** GitHub Copilot OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */
  "github-copilot"?: CopilotAuthData;
}
```

#### –î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAI

```typescript
interface OpenAIAuthData {
  type: string;        // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "oauth"
  access?: string;     // OAuth Access Token
  refresh?: string;    // OAuth Refresh Token
  expires?: number;    // –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
}
```

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth OpenCode

#### –î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Êô∫Ë∞± AI / Z.ai

```typescript
interface ZhipuAuthData {
  type: string;   // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "api"
  key?: string;    // API Key
}
```

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: API Key, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ OpenCode

#### –î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ GitHub Copilot

```typescript
interface CopilotAuthData {
  type: string;        // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "oauth"
  refresh?: string;     // OAuth Token
  access?: string;      // Copilot Session Token (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  expires?: number;    // –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
}
```

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth OpenCode

---

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Copilot PAT: `~/.config/opencode/copilot-quota-token.json`

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Fine-grained PAT (Personal Access Token) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫–≤–æ—Ç—ã —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API GitHub (–±–µ–∑ –ø—Ä–∞–≤ Copilot).

```typescript
interface CopilotQuotaConfig {
  /** Fine-grained PAT (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∞ —á—Ç–µ–Ω–∏—è "Plan") */
  token: string;

  /** –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ API) */
  username: string;

  /** –¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ Copilot (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç –∫–≤–æ—Ç—ã) */
  tier: CopilotTier;
}

/** –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–¥–ø–∏—Å–∫–∏ Copilot */
type CopilotTier = "free" | "pro" | "pro+" | "business" | "enterprise";
```

**–õ–∏–º–∏—Ç—ã –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –∫–≤–æ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–¥–ø–∏—Å–∫–∏**:

| tier      | –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –∫–≤–æ—Ç–∞ (Premium Requests) |
| --------- | --------------------------- |
| `free`    | 50                          |
| `pro`     | 300                         |
| `pro+`    | 1,500                       |
| `business` | 300                         |
| `enterprise` | 1,000                     |

---

### –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å Google Cloud: `~/.config/opencode/antigravity-accounts.json`

–§–∞–π–ª —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–ª–∞–≥–∏–Ω–æ–º `opencode-antigravity-auth`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—á—ë—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.

```typescript
interface AntigravityAccountsFile {
  version: number;               // –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞
  accounts: AntigravityAccount[];
}

interface AntigravityAccount {
  /** –ü–æ—á—Ç–∞ Google (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è) */
  email?: string;

  /** OAuth Refresh Token (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  refreshToken: string;

  /** Google Project ID (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö) */
  projectId?: string;

  /** ID —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö) */
  managedProjectId?: string;

  /** –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) */
  addedAt: number;

  /** –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) */
  lastUsed: number;

  /** –í—Ä–µ–º—è —Å–±—Ä–æ—Å–∞ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ (–∫–ª—é—á –º–æ–¥–µ–ª–∏ ‚Üí –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞) */
  rateLimitResetTimes?: Record<string, number>;
}
```

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ OAuth –ø–ª–∞–≥–∏–Ω–∞ `opencode-antigravity-auth`

---

## –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ API

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ OpenAI

**–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API**: `GET https://chatgpt.com/backend-api/wham/usage`

**–ú–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Bearer Token (OAuth Access Token)

```typescript
interface OpenAIUsageResponse {
  /** –¢–∏–ø –ø–ª–∞–Ω–∞: plus„ÄÅteam„ÄÅpro –∏ —Ç. –¥. */
  plan_type: string;

  /** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏–º–∏—Ç–µ –∫–≤–æ—Ç—ã */
  rate_limit: {
    /** –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏ –ª–∏–º–∏—Ç */
    limit_reached: boolean;

    /** –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ (3 —á–∞—Å–∞) */
    primary_window: RateLimitWindow;

    /** –í—Ç–æ—Ä–∏—á–Ω–æ–µ –æ–∫–Ω–æ (24 —á–∞—Å–∞, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
    secondary_window: RateLimitWindow | null;
  } | null;
}

/** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–∫–Ω–µ –ª–∏–º–∏—Ç–∞ */
interface RateLimitWindow {
  /** –ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ */
  used_percent: number;

  /** –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–∫–Ω–∞ –ª–∏–º–∏—Ç–∞ (—Å–µ–∫—É–Ω–¥—ã) */
  limit_window_seconds: number;

  /** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥ –¥–æ —Å–±—Ä–æ—Å–∞ */
  reset_after_seconds: number;
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:

```json
{
  "plan_type": "team",
  "rate_limit": {
    "limit_reached": false,
    "primary_window": {
      "used_percent": 15,
      "limit_window_seconds": 10800,
      "reset_after_seconds": 9000
    },
    "secondary_window": {
      "used_percent": 23,
      "limit_window_seconds": 86400,
      "reset_after_seconds": 43200
    }
  }
}
```

---

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Êô∫Ë∞± AI / Z.ai

**–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API**:
- Êô∫Ë∞± AI: `GET https://bigmodel.cn/api/monitor/usage/quota/limit`
- Z.ai: `GET https://api.z.ai/api/monitor/usage/quota/limit`

**–ú–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Authorization Header (API Key)

```typescript
interface QuotaLimitResponse {
  code: number;   // 200 –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
  msg: string;    // —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ ("success" –ø—Ä–∏ —É—Å–ø–µ—Ö–µ)
  data: {
    limits: UsageLimitItem[];
  };
  success: boolean;
}

/** –û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –ª–∏–º–∏—Ç–∞ */
interface UsageLimitItem {
  /** –¢–∏–ø –ª–∏–º–∏—Ç–∞ */
  type: "TOKENS_LIMIT" | "TIME_LIMIT";

  /** –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ */
  currentValue: number;

  /** –û–±—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ */
  usage: number;

  /** –ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è */
  percentage: number;

  /** –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–±—Ä–æ—Å–∞ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è TOKENS_LIMIT) */
  nextResetTime?: number;
}
```

**–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –ª–∏–º–∏—Ç–∞**:

| type          | –û–ø–∏—Å–∞–Ω–∏–µ               | –ü–µ—Ä–∏–æ–¥ —Å–±—Ä–æ—Å–∞  |
| ------------- | ------------------ | --------- |
| `TOKENS_LIMIT` | –ª–∏–º–∏—Ç Token –∑–∞ 5 —á–∞—Å–æ–≤  | 5 —á–∞—Å–æ–≤   |
| `TIME_LIMIT`   | –µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –∫–≤–æ—Ç–∞ MCP      | 1 –º–µ—Å—è—Ü   |

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:

```json
{
  "code": 200,
  "msg": "success",
  "success": true,
  "data": {
    "limits": [
      {
        "type": "TOKENS_LIMIT",
        "currentValue": 500000,
        "usage": 10000000,
        "percentage": 5,
        "nextResetTime": 1737926400000
      },
      {
        "type": "TIME_LIMIT",
        "currentValue": 120,
        "usage": 2000,
        "percentage": 6
      }
    ]
  }
}
```

---

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ GitHub Copilot

Copilot –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–∞ API, —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ —Ä–∞–∑–Ω—ã–µ.

#### –°–ø–æ—Å–æ–± 1: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤ Copilot)

**–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API**: `GET https://api.github.com/copilot_internal/user`

**–ú–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Bearer Token (OAuth –∏–ª–∏ Token –ø–æ—Å–ª–µ –æ–±–º–µ–Ω–∞)

```typescript
interface CopilotUsageResponse {
  /** –¢–∏–ø SKU (–¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫) */
  access_type_sku: string;

  /** ID –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è */
  analytics_tracking_id: string;

  /** –î–∞—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è */
  assigned_date: string;

  /** –ú–æ–∂–Ω–æ –ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–ª–∞–Ω */
  can_signup_for_limited: boolean;

  /** –í–∫–ª—é—á—ë–Ω –ª–∏ —á–∞—Ç */
  chat_enabled: boolean;

  /** –¢–∏–ø –ø–ª–∞–Ω–∞ Copilot */
  copilot_plan: string;

  /** –î–∞—Ç–∞ —Å–±—Ä–æ—Å–∞ –∫–≤–æ—Ç—ã (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM) */
  quota_reset_date: string;

  /** –°–Ω–∏–º–∫–∏ –∫–≤–æ—Ç—ã */
  quota_snapshots: QuotaSnapshots;
}

/** –°–Ω–∏–º–∫–∏ –∫–≤–æ—Ç—ã */
interface QuotaSnapshots {
  /** –ö–≤–æ—Ç–∞ —á–∞—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  chat?: QuotaDetail;

  /** –ö–≤–æ—Ç–∞ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  completions?: QuotaDetail;

  /** Premium Interactions (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  premium_interactions: QuotaDetail;
}

/** –î–µ—Ç–∞–ª–∏ –∫–≤–æ—Ç—ã */
interface QuotaDetail {
  /** –õ–∏–º–∏—Ç –∫–≤–æ—Ç—ã */
  entitlement: number;

  /** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—Ä—Ö–ª–∏–º–∏—Ç–∞ */
  overage_count: number;

  /** –†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ */
  overage_permitted: boolean;

  /** –û—Å—Ç–∞–≤—à–∏–π—Å—è –ø—Ä–æ—Ü–µ–Ω—Ç */
  percent_remaining: number;

  /** ID –∫–≤–æ—Ç—ã */
  quota_id: string;

  /** –û—Å—Ç–∞–≤—à–∞—è—Å—è –∫–≤–æ—Ç–∞ */
  quota_remaining: number;

  /** –û—Å—Ç–∞–≤—à–µ–µ—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å quota_remaining) */
  remaining: number;

  /** –ë–µ–∑–ª–∏–º–∏—Ç–µ–Ω –ª–∏ */
  unlimited: boolean;
}
```

#### –°–ø–æ—Å–æ–± 2: –ü—É–±–ª–∏—á–Ω—ã–π Billing API (—Ç—Ä–µ–±—É–µ—Ç Fine-grained PAT)

**–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API**: `GET https://api.github.com/users/{username}/settings/billing/premium_request/usage`

**–ú–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Bearer Token (Fine-grained PAT, —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∞ —á—Ç–µ–Ω–∏—è "Plan")

```typescript
interface BillingUsageResponse {
  /** –í—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥ */
  timePeriod: {
    year: number;
    month?: number;
  };

  /** –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  user: string;

  /** –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  usageItems: BillingUsageItem[];
}

/** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç */
interface BillingUsageItem {
  /** –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ */
  product: string;

  /** –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä SKU */
  sku: string;

  /** –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  model?: string;

  /** –¢–∏–ø –µ–¥–∏–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "requests") */
  unitType: string;

  /** –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏) */
  grossQuantity: number;

  /** –ß–∏—Å—Ç–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏) */
  netQuantity: number;

  /** –õ–∏–º–∏—Ç –∫–≤–æ—Ç—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
  limit?: number;
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:

```json
{
  "timePeriod": {
    "year": 2026,
    "month": 1
  },
  "user": "octocat",
  "usageItems": [
    {
      "product": "GitHub Copilot",
      "sku": "Copilot Premium Request",
      "model": "gpt-4o",
      "unitType": "requests",
      "grossQuantity": 229,
      "netQuantity": 229,
      "limit": 300
    },
    {
      "product": "GitHub Copilot",
      "sku": "Copilot Premium Request",
      "model": "claude-3-5-sonnet",
      "unitType": "requests",
      "grossQuantity": 71,
      "netQuantity": 71,
      "limit": 300
    }
  ]
}
```

---

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Google Cloud

**–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ API**: `POST https://cloudcode-pa.googleapis.com/v1internal:fetchAvailableModels`

**–ú–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**: Bearer Token (OAuth Access Token)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "project": "your-project-id"
}
```

```typescript
interface GoogleQuotaResponse {
  /** –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π (–∫–ª—é—á ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏) */
  models: Record<
    string,
    {
      /** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–≤–æ—Ç–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
      quotaInfo?: {
        /** –û—Å—Ç–∞–≤—à–∞—è—Å—è –¥–æ–ª—è (0-1) */
        remainingFraction?: number;

        /** –í—Ä–µ–º—è —Å–±—Ä–æ—Å–∞ (—Ñ–æ—Ä–º–∞—Ç ISO 8601) */
        resetTime?: string;
      };
    }
  >;
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:

```json
{
  "models": {
    "gemini-3-pro-high": {
      "quotaInfo": {
        "remainingFraction": 0.83,
        "resetTime": "2026-01-23T20:00:00Z"
      }
    },
    "gemini-3-pro-image": {
      "quotaInfo": {
        "remainingFraction": 0.91,
        "resetTime": "2026-01-23T20:00:00Z"
      }
    },
    "gemini-3-flash": {
      "quotaInfo": {
        "remainingFraction": 1.0,
        "resetTime": "2026-01-23T20:00:00Z"
      }
    },
    "claude-opus-4-5-thinking": {
      "quotaInfo": {
        "remainingFraction": 0.0,
        "resetTime": "2026-01-25T00:00:00Z"
      }
    }
  }
}
```

**–û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ 4 –º–æ–¥–µ–ª–∏**:

| –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è     | –ö–ª—é—á –º–æ–¥–µ–ª–∏                                  | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª—é—á              |
| ------------ | ----------------------------------------- | --------------------- |
| G3 Pro       | `gemini-3-pro-high`                        | `gemini-3-pro-low`    |
| G3 Image     | `gemini-3-pro-image`                      | -                     |
| G3 Flash     | `gemini-3-flash`                          | -                     |
| Claude       | `claude-opus-4-5-thinking`                | `claude-opus-4-5`     |

---

## –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

```typescript
interface QueryResult {
  /** –£—Å–ø–µ—à–Ω–æ –ª–∏ */
  success: boolean;

  /** –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ */
  output?: string;

  /** –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ */
  error?: string;
}
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```typescript
/** –ü–æ—Ä–æ–≥ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø—Ä–æ—Ü–µ–Ω—Ç) */
export const HIGH_USAGE_THRESHOLD = 80;

/** –í—Ä–µ–º—è —Ç–∞–π–º-–∞—É—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ API (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) */
export const REQUEST_TIMEOUT_MS = 10000;
```

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É

<details>
<summary><strong>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞</strong></summary>

> –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-23

| –§—É–Ω–∫—Ü–∏—è              | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É                                                                                              | –ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏    |
| ----------------- | --------------------------------------------------------------------------------------------------- | ------- |
| –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏      | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L99-L104)        | 99-104  |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAI       | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L28-L33)         | 28-33   |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Êô∫Ë∞± AI      | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L38-L41)         | 38-41   |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Copilot      | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L46-L51)         | 46-51   |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Copilot PAT  | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L66-L73)         | 66-73   |
| –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å Antigravity  | [`plugin/lib/types.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/types.ts#L78-L94)         | 78-94   |
| –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ OpenAI   | [`plugin/lib/openai.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/openai.ts#L29-L36)         | 29-36   |
| –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Êô∫Ë∞± AI  | [`plugin/lib/zhipu.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/zhipu.ts#L43-L50)         | 43-50   |
| –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API Copilot   | [`plugin/lib/copilot.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/copilot.ts#L47-L58)        | 47-58   |
| Billing API Copilot | [`plugin/lib/copilot.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/copilot.ts#L80-L84)        | 80-84   |
| –û—Ç–≤–µ—Ç Google Cloud  | [`plugin/lib/google.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/lib/google.ts#L27-L37)       | 27-37   |

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
- `HIGH_USAGE_THRESHOLD = 80`Ôºö–ø–æ—Ä–æ–≥ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (types.ts:111)
- `REQUEST_TIMEOUT_MS = 10000`Ôºö–≤—Ä–µ–º—è —Ç–∞–π–º-–∞—É—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ API (types.ts:114)

**–ö–ª—é—á–µ–≤—ã–µ —Ç–∏–ø—ã**:
- `QueryResult`Ôºö—Ç–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ (types.ts:15-19)
- `CopilotTier`Ôºö–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–¥–ø–∏—Å–∫–∏ Copilot (types.ts:57)

</details>
