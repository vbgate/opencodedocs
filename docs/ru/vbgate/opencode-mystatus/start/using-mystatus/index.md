---
title: "Использование: запрос квот ИИ | opencode-mystatus"
sidebarTitle: "Использование"
subtitle: "Использование: запрос квот ИИ"
description: "Узнайте два способа запроса квот ИИ: слэш-команда /mystatus и вопросы на естественном языке. Плагин opencode-mystatus быстро показывает использование квот OpenAI, Zhipu AI, Z.ai, GitHub Copilot и Google Cloud."
tags:
  - "Быстрый старт"
  - "Слэш-команда"
  - "Естественный язык"
prerequisite:
  - "start-quick-start"
order: 2
---

# Использование mystatus: слэш-команды и естественный язык

## Чему вы научитесь

- Использовать слэш-команду `/mystatus` для единого запроса квот всех ИИ-платформ
- Задавать вопросы на естественном языке, чтобы OpenCode автоматически вызывал инструмент mystatus
- Понимать различия между двумя способами вызова и сценарии применения

## Ваша текущая проблема

Вы используете несколько ИИ-платформ для разработки (OpenAI, Zhipu AI, GitHub Copilot и др.), хотите знать, сколько осталось квот на каждой платформе, но не хотите входить на каждую платформу по отдельности — это слишком неудобно.

## Когда использовать этот метод

- **При необходимости быстрого просмотра квот всех платформ**: проверка перед ежедневной разработкой для рационального планирования использования
- **При необходимости узнать конкретную квоту платформы**: например, хотите подтвердить, скоро ли закончится OpenAI
- **При необходимости проверить работоспособность конфигурации**: только что настроили новый аккаунт, нужно проверить, можно ли нормально запросить

::: info Предварительная проверка

В этом руководстве предполагается, что вы уже [установили плагин opencode-mystatus](/ru/vbgate/opencode-mystatus/start/quick-start/). Если не установили, пожалуйста, сначала выполните шаги установки.

:::

## Основная идея

opencode-mystatus предлагает два способа вызова инструмента mystatus:

1. **Слэш-команда `/mystatus`**: быстрый, прямой, однозначный, подходит для частых запросов
2. **Вопросы на естественном языке**: более гибкий, подходит для запросов в конкретных сценариях

Оба способа вызывают один и тот же инструмент `mystatus`, инструмент параллельно запрашивает квоты всех настроенных ИИ-платформ, возвращает результат с индикатором прогресса, статистикой использования и обратным отсчётом.

## Пошаговое выполнение

### Шаг 1: Используйте слэш-команду для запроса квот

В OpenCode введите следующую команду:

```bash
/mystatus
```

**Почему**
Слэш-команда — это механизм быстрых команд OpenCode, можно быстро вызвать предопределённый инструмент. Команда `/mystatus` напрямую вызывает инструмент mystatus, дополнительных параметров не требуется.

**Вы должны увидеть**:
OpenCode вернёт информацию о квотах всех настроенных платформ, формат следующий:

```
## OpenAI 账号额度

Account:        user@example.com (team)

3小时限额
█████████████████████████ 剩余 85%
重置: 2h 30m后

## 智谱 AI 账号额度

Account:        9c89****AQVM (Coding Plan)

5小时 token 限额
█████████████████████████ 剩余 95%
已用: 0.5M / 10.0M
重置: 4h后
```

Каждая платформа отобразит:
- Информация об аккаунте (email или замаскированный API Key)
- Индикатор прогресса (визуальное отображение остатка)
- Обратный отсчёт до сброса
- Использованное и общее количество (часть платформ)

### Шаг 2: Задайте вопрос на естественном языке

Кроме слэш-команды, вы можете задать вопрос на естественном языке, OpenCode автоматически распознает намерение и вызовет инструмент mystatus.

Попробуйте эти способы задать вопрос:

```bash
Check my OpenAI quota
```

или

```bash
How much Codex quota do I have left?
```

или

```bash
Show my AI account status
```

**Почему**
Запросы на естественном языке более соответствуют обычным диалогам, подходят для постановки вопросов в конкретных сценариях разработки. OpenCode распознает, что вы хотите запросить квоту, через семантическое сопоставление и автоматически вызовет инструмент mystatus.

**Вы должны увидеть**:
Результат вывода такой же, как у слэш-команды, отличается только способ вызова.

### Шаг 3: Понимание настройки слэш-команды

Как работает слэш-команда `/mystatus`? Она определена в файле конфигурации OpenCode.

Откройте `~/.config/opencode/opencode.json`, найдите часть `command`:

```json
{
  "plugin": ["opencode-mystatus"],
  "command": {
    "mystatus": {
      "description": "Query quota usage for all AI accounts",
      "template": "Use the mystatus tool to query quota usage. Return the result as-is without modification."
    }
  }
}
```

**Описание ключевых параметров**:

| Параметр   | Значение                                   | Назначение                                 |
| ---------- | ------------------------------------------ | ------------------------------------------ |
| `description` | "Query quota usage for all AI accounts" | Описание в списке команд                    |
| `template`    | "Use to mystatus tool..."              | Указывает OpenCode, как обрабатывать эту команду |

**Зачем нужен template**
template — это "инструкция" для OpenCode, указывающая: когда пользователь вводит `/mystatus`, вызвать инструмент mystatus и вернуть результат как есть (без изменений).

## Контрольная точка ✅

Убедитесь, что вы освоили два способа использования:

| Навык              | Метод проверки                 | Ожидаемый результат                       |
| ------------------- | ------------------------------ | ---------------------------------------- |
| Слэш-команда запрос | Введите `/mystatus`           | Отображается информация о квотах всех платформ |
| Запрос на естественном языке | Введите "Check my OpenAI quota" | Отображается информация о квотах         |
| Понимание настройки | Проверьте opencode.json         | Найдена конфигурация команды mystatus    |

## Предупреждения о типичных ошибках

### Частая ошибка 1: Слэш-команда не отвечает

**Проявление**: после ввода `/mystatus` никакой реакции

**Причина**: файл конфигурации OpenCode неправильно настроен слэш-команду

**Решение**:
1. Откройте `~/.config/opencode/opencode.json`
2. Убедитесь, что часть `command` содержит конфигурацию `mystatus` (см. шаг 3)
3. Перезапустите OpenCode

### Частая ошибка 2: Вопрос на естественном языке не вызывает инструмент mystatus

**Проявление**: после ввода "Check my OpenAI quota" OpenCode не вызывает инструмент mystatus, а пытается ответить сам

**Причина**: OpenCode неправильно распознал ваше намерение

**Решение**:
1. Попробуйте более чёткое выражение: "Use mystatus tool to check my OpenAI quota"
2. Или используйте слэш-команду `/mystatus`, это более надёжно

### Частая ошибка 3: Отображение "未找到任何已配置的账号"

**Проявление**: после выполнения `/mystatus` отображается "未找到任何已配置的账号"

**Причина**: ещё не настроены данные аутентификации ни одной платформы

**Решение**:
- Настройте данные аутентификации минимум одной платформы (OpenAI, Zhipu AI, Z.ai, GitHub Copilot или Google Cloud)
- Подробности см. в описании настройки в руководстве [Быстрый старт](/ru/vbgate/opencode-mystatus/start/quick-start/)

## Итог урока

Инструмент mystatus предлагает два способа использования:
1. **Слэш-команда `/mystatus`**: быстрый и прямой, подходит для частых запросов
2. **Вопросы на естественном языке**: более гибкий, подходит для конкретных сценариев

Оба способа параллельно запрашивают квоты всех настроенных ИИ-платформ, возвращают результат с индикатором прогресса и обратным отсчётом. Настройка слэш-команды определена в `~/.config/opencode/opencode.json`, через template указывается, как OpenCode вызывает инструмент mystatus.

## Следующий урок

> В следующем уроке мы изучим **[Понимание вывода: индикатор прогресса, время сброса и несколько аккаунтов](/ru/vbgate/opencode-mystatus/start/understanding-output/)**.
>
> Вы научитесь:
> - Как интерпретировать индикатор прогресса
> - Как рассчитывается обратный отсчёт времени сброса
> - Формат вывода при наличии нескольких аккаунтов
> - Принципы генерации индикатора прогресса

---

## Приложение: ссылка на исходный код

<details>
<summary><strong>Нажмите, чтобы раскрыть расположение исходного кода</strong></summary>

> Обновлено: 2026-01-23

| Функция | Путь к файлу | Строка |
| --- | --- | --- |
| Определение инструмента mystatus | [`plugin/mystatus.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/mystatus.ts) | 29-33 |
| Описание инструмента | [`plugin/mystatus.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/mystatus.ts) | 30-31 |
| Настройка слэш-команды | [`command/mystatus.md`](https://github.com/vbgate/opencode-mystatus/blob/main/command/mystatus.md) | 1-6 |
| Параллельный запрос всех платформ | [`plugin/mystatus.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/mystatus.ts) | 49-56 |
| Сбор и объединение результатов | [`plugin/mystatus.ts`](https://github.com/vbgate/opencode-mystatus/blob/main/plugin/mystatus.ts) | 58-89 |

**Ключевые константы**:
Нет (в этом разделе в основном описываются способы вызова, не затрагиваются конкретные константы)

**Ключевые функции**:
- `mystatus()`: основная функция инструмента mystatus, читает файл аутентификации и параллельно запрашивает все платформы (`plugin/mystatus.ts:29-33`)
- `collectResult()`: собирает результаты запроса в массивы results и errors (`plugin/mystatus.ts:100-116`)

</details>
