---
title: "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫: –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º | Plannotator"
sidebarTitle: "–ë—ã—Å—Ç—Ä–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫"
subtitle: "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫: –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º"
description: "–ò–∑—É—á–∏—Ç–µ –º–µ—Ç–æ–¥—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫ Plannotator: –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤, –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤, –æ—Ç–ª–∞–¥–∫–∞ Hook event, –ø—Ä–æ–±–ª–µ–º—ã –±—Ä–∞—É–∑–µ—Ä–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏."
tags:
  - "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫"
  - "–û—Ç–ª–∞–¥–∫–∞"
  - "–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏"
  - "–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤"
prerequisite:
  - "start-getting-started"
order: 2
---

# –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ Plannotator

## –ß–µ–º—É –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- –ë—ã—Å—Ç—Ä–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º—ã (–∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–∞, –ø–∞—Ä—Å–∏–Ω–≥ Hook event, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Git –∏ —Ç.–¥.)
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- –û—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏–ª–∏ Devcontainer

## –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

Plannotator –≤–Ω–µ–∑–∞–ø–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å, –±—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∏–ª–∏ Hook –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö. –í—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏, –∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –ø—Ä–æ–±–æ–≤–∞–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª

–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

- –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Hook –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç, –∏ –∑–∞–ø—É—Å–∫ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞–Ω–∞ –∏–ª–∏ –∫–æ–¥-—Ä–µ–≤—å—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Obsidian/Bear –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Git diff –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–æ–±–ª–µ–º—ã Plannotator –æ–±—ã—á–Ω–æ –¥–µ–ª—è—Ç—Å—è –Ω–∞ —Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

1. **–ü—Ä–æ–±–ª–µ–º—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–∞, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—ë–º –∫ –±—Ä–∞—É–∑–µ—Ä—É
2. **–ü—Ä–æ–±–ª–µ–º—ã –¥–∞–Ω–Ω—ã—Ö**: –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ Hook event, –ø—É—Å—Ç–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–ª–∞–Ω–∞, –∞–Ω–æ–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. **–ü—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Obsidian/Bear, –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ

–ö–ª—é—á –∫ –æ—Ç–ª–∞–¥–∫–µ ‚Äî **–ø—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–≤–æ–¥–∞ –ª–æ–≥–æ–≤**. Plannotator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `console.error` –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–æ–∫ –≤ stderr –∏ `console.log` –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ–±—ã—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ stdout. –†–∞–∑–ª–∏—á–µ–Ω–∏–µ —ç—Ç–∏—Ö –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø—Ä–æ–±–ª–µ–º—ã.

---

## üéí –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- ‚úÖ Plannotator —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–ø–ª–∞–≥–∏–Ω Claude Code –∏–ª–∏ OpenCode)
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π
- ‚úÖ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

---

## –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ –ª–æ–≥–æ–≤

**–ó–∞—á–µ–º**

–í—Å–µ –æ—à–∏–±–∫–∏ Plannotator –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stderr. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ ‚Äî –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å**

#### –í Claude Code

–ö–æ–≥–¥–∞ Hook –∑–∞–ø—É—Å–∫–∞–µ—Ç Plannotator, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Claude Code:

```bash
# –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å
Error: Port 54321 in use after 5 retries (set PLANNOTATOR_PORT to use different port)
```

#### –í OpenCode

OpenCode –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç stderr CLI –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –µ–≥–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

```
[stderr] Failed to parse hook event from stdin
[stderr] No plan content in hook event
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

- –ï—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ—Ç, stderr –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–∂–∏–¥–∞–µ–º—ã–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫ –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω —Ç–∏–ø –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, EADDRINUSE), —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

### –®–∞–≥ 2: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞

**–ó–∞—á–µ–º**

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Plannotator –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—Ç—É. –ï—Å–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç, —Å–µ—Ä–≤–µ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É 5 —Ä–∞–∑ (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 500 –º—Å –∫–∞–∂–¥—ã–π —Ä–∞–∑), –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:

```
Error: Port 54321 in use after 5 retries (set PLANNOTATOR_PORT to use different port)
```

**–†–µ—à–µ–Ω–∏–µ**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ—Ä—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `PLANNOTATOR_PORT`, –∏ Plannotator –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ—Ä—Ç.

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ —Å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º –∑–∞–Ω—è—Ç–æ–≥–æ

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ), –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –∑–∞–Ω—è—Ç—ã–π –ø–æ—Ä—Ç:

```bash
# macOS/Linux
lsof -ti:54321 | xargs kill -9

# Windows PowerShell
Get-NetTCPConnection -LocalPort 54321 | ForEach-Object { Stop-Process -Id $_.OwningProcess -Force }
```

–ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π –ø–æ—Ä—Ç:

```bash
# macOS/Linux/WSL
export PLANNOTATOR_PORT=54322

# Windows PowerShell
$env:PLANNOTATOR_PORT = "54322"
```

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚úÖ**:

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Plannotator —Å–Ω–æ–≤–∞ ‚Äî –±—Ä–∞—É–∑–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç–∞

---

### –®–∞–≥ 3: –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Hook event

**–ó–∞—á–µ–º**

Hook event ‚Äî —ç—Ç–æ JSON-–¥–∞–Ω–Ω—ã–µ, —Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –∏–∑ stdin. –ï—Å–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —É–¥–∞–ª—Å—è, Plannotator –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É.

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:

```
Failed to parse hook event from stdin
No plan content in hook event
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:

1. Hook event –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º JSON
2. –í Hook event –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `tool_input.plan`
3. –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è Hook

**–ú–µ—Ç–æ–¥—ã –æ—Ç–ª–∞–¥–∫–∏**

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ Hook event

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Hook server –≤—ã–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ stdin:

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ hook/server/index.ts
# –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 91 –¥–æ–±–∞–≤—å—Ç–µ:
console.error("[DEBUG] Hook event:", eventJson);
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

```json
{
  "tool_input": {
    "plan": "# Implementation Plan\n\n## Task 1\n..."
  },
  "permission_mode": "default"
}
```

**–†–µ—à–µ–Ω–∏–µ**:

- –ï—Å–ª–∏ `tool_input.plan` –ø—É—Å—Ç –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ AI Agent —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –ø–ª–∞–Ω
- –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç JSON –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Hook
- –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è Hook –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞, –æ–±–Ω–æ–≤–∏—Ç–µ Plannotator –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

---

### –®–∞–≥ 4: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –±—Ä–∞—É–∑–µ—Ä–∞

**–ó–∞—á–µ–º**

Plannotator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `openBrowser` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞. –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —É–¥–∞—ë—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ –±—Ä–∞—É–∑–µ—Ä—É.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:

1. –ë—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
2. –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –±—Ä–∞—É–∑–µ—Ä—É
3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Å—Ä–µ–¥–µ WSL
4. –í —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)

**–ú–µ—Ç–æ–¥—ã –æ—Ç–ª–∞–¥–∫–∏**

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $PLANNOTATOR_REMOTE

# Windows PowerShell
echo $env:PLANNOTATOR_REMOTE
```

–ï—Å–ª–∏ –≤—ã–≤–æ–¥ `1` –∏–ª–∏ `true`, —ç—Ç–æ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Ä–µ–∂–∏–º, –∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

#### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

```bash
# macOS
open "http://localhost:54321"

# Linux
xdg-open "http://localhost:54321"

# Windows
start http://localhost:54321
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

- –ï—Å–ª–∏ —Ä—É—á–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —É—Å–ø–µ—à–Ω–æ, —Å–µ—Ä–≤–µ—Ä Plannotator —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
- –ï—Å–ª–∏ —Ä—É—á–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL (–ø–æ—Ä—Ç –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)

**–†–µ—à–µ–Ω–∏–µ**:

#### –í–∞—Ä–∏–∞–Ω—Ç A: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (macOS)

```bash
export PLANNOTATOR_BROWSER="Google Chrome"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
export PLANNOTATOR_BROWSER="/Applications/Google Chrome.app"
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (Linux)

```bash
export PLANNOTATOR_BROWSER="/usr/bin/firefox"
```

#### –í–∞—Ä–∏–∞–Ω—Ç C: –†—É—á–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ (Devcontainer/SSH)

```bash
# Plannotator –≤—ã–≤–µ–¥–µ—Ç URL –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Ä—Ç–µ
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤:
ssh -L 19432:localhost:19432 user@remote
```

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–∫–æ–¥-—Ä–µ–≤—å—é)

**–ó–∞—á–µ–º**

–§—É–Ω–∫—Ü–∏—è –∫–æ–¥-—Ä–µ–≤—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–º–∞–Ω–¥ Git. –ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∞–Ω–æ–º–∞–ª—å–Ω–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç –∫–æ–º–º–∏—Ç–æ–≤, Detached HEAD), diff –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º –∏–ª–∏ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:

```
Git diff error for uncommitted: Error: Command failed: git diff HEAD
```

**–ú–µ—Ç–æ–¥—ã –æ—Ç–ª–∞–¥–∫–∏**

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –ª–∏ –≤—ã –≤ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
git status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏
git branch

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–º–∏—Ç–æ–≤
git log --oneline -1
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

- –ï—Å–ª–∏ –≤—ã–≤–æ–¥ `fatal: not a git repository`, —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
- –ï—Å–ª–∏ –≤—ã–≤–æ–¥ `HEAD detached at <commit>`, –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Detached HEAD
- –ï—Å–ª–∏ –≤—ã–≤–æ–¥ `fatal: your current branch 'main' has no commits yet`, –∫–æ–º–º–∏—Ç–æ–≤ –µ—â—ë –Ω–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:

#### –ü—Ä–æ–±–ª–µ–º–∞ A: –ù–µ –≤ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git init
git add .
git commit -m "Initial commit"
```

#### –ü—Ä–æ–±–ª–µ–º–∞ B: –°–æ—Å—Ç–æ—è–Ω–∏–µ Detached HEAD

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫—É
git checkout main
# –ò–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–∏
git checkout -b feature-branch
```

#### –ü—Ä–æ–±–ª–µ–º–∞ C: –ù–µ—Ç –∫–æ–º–º–∏—Ç–æ–≤

```bash
# –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ diff –Ω—É–∂–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç
git add .
git commit -m "Initial commit"
```

#### –ü—Ä–æ–±–ª–µ–º–∞ D: –ü—É—Å—Ç–æ–π diff (–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "test" >> test.txt
git add test.txt

# –°–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ /plannotator-review
```

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚úÖ**:

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/plannotator-review` —Å–Ω–æ–≤–∞ ‚Äî diff –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –ø—É—Å—Ç–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –Ω–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### –®–∞–≥ 6: –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Obsidian/Bear

**–ó–∞—á–µ–º**

–û—à–∏–±–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Obsidian/Bear –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–∞, –Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –û—à–∏–±–∫–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stderr.

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:

```
[Obsidian] Save failed: Vault not found
[Bear] Save failed: Failed to open Bear
```

**–ú–µ—Ç–æ–¥—ã –æ—Ç–ª–∞–¥–∫–∏**

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Obsidian

**macOS**:
```bash
cat ~/Library/Application\ Support/obsidian/obsidian.json
```

**Windows**:
```powershell
cat $env:APPDATA\obsidian\obsidian.json
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

```json
{
  "vaults": {
    "/path/to/vault": {
      "path": "/path/to/vault",
      "ts": 1234567890
    }
  }
}
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Bear (macOS)

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ URL scheme Bear
open "bear://x-callback-url/create?title=Test&text=Hello"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Bear –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É
- –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, Bear —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–†–µ—à–µ–Ω–∏–µ**:

#### –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Obsidian

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Obsidian –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–∏ –∫ vault
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É –≤ Obsidian –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

#### –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Bear

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Bear –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `bear://x-callback-url`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–∫–ª—é—á—ë–Ω –ª–∏ x-callback-url –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Bear

---

### –®–∞–≥ 7: –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫ (—Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏)

**–ó–∞—á–µ–º**

–ò–Ω–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥—Ä–æ–±–Ω—ã, –∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å**

#### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ Bun

```bash
export DEBUG="*"
plannotator review

# Windows PowerShell
$env:DEBUG = "*"
plannotator review
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ Plannotator

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–≤–æ–¥—è—Ç—Å—è —á–µ—Ä–µ–∑ `console.error`. –ö–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

- `packages/server/index.ts:260` ‚Äî –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `packages/server/git.ts:141` ‚Äî –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ Git diff
- `apps/hook/server/index.ts:100-106` ‚Äî –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Hook event

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:

```bash
# –£—Å–ø–µ—à–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Obsidian
[Obsidian] Saved plan to: /path/to/vault/Plan - 2026-01-24.md

# –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
[Obsidian] Save failed: Cannot write to directory
[Bear] Save failed: Failed to open Bear

# –û—à–∏–±–∫–∞ Git diff
Git diff error for uncommitted: Error: Command failed: git diff HEAD
```

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚úÖ**:

- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ stderr

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:

```bash
# –°–º–æ—Ç—Ä–∏–º —Ç–æ–ª—å–∫–æ stdout, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º stderr
plannotator review 2>/dev/null
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ stdout, –∏ stderr
plannotator review
# –ò–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤
plannotator review 2>error.log
```

### ‚ùå –°–ª–µ–ø–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:

- –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å, –Ω–µ –≤—ã—è—Å–Ω—è—è –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:

- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ ‚Äî —Ç–æ–ª—å–∫–æ –∫—Ä–∞–π–Ω—è—è –º–µ—Ä–∞

### ‚ùå –û–∂–∏–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:

```bash
export PLANNOTATOR_REMOTE=1
plannotator review
# –û–∂–∏–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç)
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:

```bash
export PLANNOTATOR_REMOTE=1
plannotator review
# –ó–∞–ø–∏—à–∏—Ç–µ –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–π URL –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤
```

---

## –ò—Ç–æ–≥–∏ —Ä–∞–∑–¥–µ–ª–∞

- Plannotator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `console.error` –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–æ–∫ –≤ stderr –∏ `console.log` –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ–±—ã—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ stdout
- –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã: –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–∞, –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ Hook event, –±—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∞–Ω–æ–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –æ—à–∏–±–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ö–ª—é—á –∫ –æ—Ç–ª–∞–¥–∫–µ: –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ ‚Üí –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è
- –í —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å URL –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤

---

## –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫

> –í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã –∏–∑—É—á–∏–º **[–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã](../common-problems/)**.
>
> –í—ã —É–∑–Ω–∞–µ—Ç–µ:
> - –ö–∞–∫ —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
> - –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
> - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É

<details>
<summary><strong>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞</strong></summary>

> –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2026-01-24

| –§—É–Ω–∫—Ü–∏—è | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É | –°—Ç—Ä–æ–∫–∏ |
| --- | --- | --- |
| –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–æ—Ä—Ç–∞ | [`packages/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/index.ts#L79-L80) | 79-80 |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ EADDRINUSE | [`packages/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/index.ts#L320-L334) | 320-334 |
| –ü–∞—Ä—Å–∏–Ω–≥ Hook event | [`apps/hook/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/hook/server/index.ts#L91-L107) | 91-107 |
| –û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ | [`packages/server/browser.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/browser.ts#L45-L74) | 45-74 |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Git diff | [`packages/server/git.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/git.ts#L139-L144) | 139-144 |
| –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Obsidian | [`packages/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/index.ts#L242-L246) | 242-246 |
| –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Bear | [`packages/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/index.ts#L252-L256) | 252-256 |

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
- `MAX_RETRIES = 5`: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–æ—Ä—Ç–∞
- `RETRY_DELAY_MS = 500`: –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
- `startPlannotatorServer()`: –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–≤—å—é –ø–ª–∞–Ω–æ–≤
- `startReviewServer()`: –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∫–æ–¥-—Ä–µ–≤—å—é
- `openBrowser()`: –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
- `runGitDiff()`: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã Git diff
- `saveToObsidian()`: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –≤ Obsidian
- `saveToBear()`: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –≤ Bear

</details>
