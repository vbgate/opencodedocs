---
title: "è¨ˆç•«æ‰¹è¨»: å››ç¨®è¨»è§£é¡å‹ | Plannotator"
sidebarTitle: "æ–°å¢å››ç¨®è¨»è§£é¡å‹"
subtitle: "è¨ˆç•«æ‰¹è¨»: å››ç¨®è¨»è§£é¡å‹"
description: "æŒæ¡ Plannotator å››ç¨®è¨»è§£é¡å‹çš„ä½¿ç”¨æ–¹æ³•ã€‚å­¸ç¿’åˆªé™¤ã€å–ä»£ã€æ’å…¥ã€è©•è«–çš„æ–°å¢æŠ€å·§ï¼Œæ”¯æ´ type-to-comment å¿«æ·è¼¸å…¥å’Œåœ–ç‰‡é™„ä»¶ï¼Œæå‡è¨ˆç•«å¯©æŸ¥æ•ˆç‡ã€‚"
tags:
  - "è¨ˆç•«è¨»è§£"
  - "è¨»è§£é¡å‹"
  - "åˆªé™¤"
  - "å–ä»£"
  - "æ’å…¥"
  - "è©•è«–"
  - "type-to-comment"
  - "åœ–ç‰‡é™„ä»¶"
prerequisite:
  - "platforms-plan-review-basics"
order: 2
---

# æ–°å¢è¨ˆç•«è¨»è§£ï¼šæŒæ¡å››ç¨®è¨»è§£é¡å‹

## å­¸å®Œä½ èƒ½åšä»€éº¼

- âœ… é¸å–è¨ˆç•«æ–‡å­—ï¼Œæ–°å¢å››ç¨®ä¸åŒé¡å‹çš„è¨»è§£ï¼ˆåˆªé™¤ã€å–ä»£ã€æ’å…¥ã€è©•è«–ï¼‰
- âœ… ä½¿ç”¨ type-to-comment å¿«æ·éµç›´æ¥è¼¸å…¥è©•è«–
- âœ… åœ¨è¨»è§£ä¸­é™„åŠ åœ–ç‰‡ï¼ˆåƒè€ƒåœ–ã€æˆªåœ–ç­‰ï¼‰
- âœ… ç†è§£æ¯ç¨®è¨»è§£é¡å‹çš„å«ç¾©å’Œä½¿ç”¨æƒ…å¢ƒ
- âœ… æª¢è¦–è¨»è§£åŒ¯å‡ºå¾Œçš„ Markdown æ ¼å¼

## ä½ ç¾åœ¨çš„å›°å¢ƒ

**å•é¡Œ 1**ï¼šçŸ¥é“è¦åˆªé™¤æŸæ®µå…§å®¹ï¼Œä½†é¸å–æ–‡å­—å¾Œä¸çŸ¥é“é»æ“Šå“ªå€‹æŒ‰éˆ•ã€‚

**å•é¡Œ 2**ï¼šæƒ³å–ä»£ä¸€æ®µç¨‹å¼ç¢¼ï¼Œä½†å·¥å…·åˆ—è£¡åªæœ‰ã€Œåˆªé™¤ã€å’Œã€Œè©•è«–ã€ï¼Œæ²’æœ‰ã€Œå–ä»£ã€é¸é …ã€‚

**å•é¡Œ 3**ï¼šé¸å–å¤šè¡Œæ–‡å­—æƒ³ç›´æ¥è¼¸å…¥è©•è«–ï¼Œæ¯æ¬¡éƒ½è¦å…ˆé»æ“Šã€ŒCommentã€æŒ‰éˆ•ï¼Œæ•ˆç‡ä½ã€‚

**å•é¡Œ 4**ï¼šæƒ³çµ¦æŸæ®µç¨‹å¼ç¢¼é™„åŠ åƒè€ƒåœ–ï¼Œä½†ä¸çŸ¥é“æ€éº¼ä¸Šå‚³åœ–ç‰‡ã€‚

**Plannotator èƒ½å¹«ä½ **ï¼š
- æ¸…æ™°çš„æŒ‰éˆ•åœ–ç¤ºï¼Œä¸€çœ¼çœ‹å‡ºåˆªé™¤ã€å–ä»£ã€æ’å…¥ã€è©•è«–çš„å€åˆ¥
- type-to-comment å¿«æ·éµï¼Œç›´æ¥è¼¸å…¥ç„¡éœ€é»æ“ŠæŒ‰éˆ•
- è¨»è§£ä¸­æ”¯æ´åœ–ç‰‡é™„ä»¶ï¼Œæ–¹ä¾¿æ–°å¢åƒè€ƒåœ–
- è¨»è§£è‡ªå‹•è½‰æ›ç‚ºçµæ§‹åŒ– Markdownï¼ŒAI æº–ç¢ºç†è§£

## ä»€éº¼æ™‚å€™ç”¨é€™ä¸€æ‹›

**ä½¿ç”¨æƒ…å¢ƒ**ï¼š
- å¯©æŸ¥ AI ç”¢ç”Ÿçš„å¯¦æ–½è¨ˆç•«ï¼Œéœ€è¦ç²¾ç¢ºå›é¥‹ä¿®æ”¹æ„è¦‹
- æŸæ®µå…§å®¹ä¸éœ€è¦ï¼ˆåˆªé™¤ï¼‰
- æŸæ®µå…§å®¹éœ€è¦æ”¹æˆå¦ä¸€ç¨®å¯«æ³•ï¼ˆå–ä»£ï¼‰
- æŸæ®µå…§å®¹å¾Œé¢éœ€è¦è£œå……èªªæ˜ï¼ˆæ’å…¥ï¼‰
- å°æŸæ®µå…§å®¹æœ‰ç–‘å•æˆ–å»ºè­°ï¼ˆè©•è«–ï¼‰

**ä¸é©ç”¨æƒ…å¢ƒ**ï¼š
- åªæ˜¯æ•´é«”æ‰¹å‡†æˆ–æ‹’çµ•è¨ˆç•«ï¼ˆç„¡éœ€è¨»è§£ï¼Œç›´æ¥æ±ºç­–å³å¯ï¼‰
- å·²ç¶“åœ¨å¯©æŸ¥ç¨‹å¼ç¢¼è®Šæ›´ï¼ˆä½¿ç”¨ç¨‹å¼ç¢¼å¯©æŸ¥åŠŸèƒ½ï¼‰

## ğŸ’ é–‹å§‹å‰çš„æº–å‚™

**å‰ç½®æ¢ä»¶**ï¼š
- âœ… å·²å®Œæˆ [è¨ˆç•«å¯©æŸ¥åŸºç¤](../plan-review-basics/) æ•™å­¸
- âœ… ç­è§£å¦‚ä½•è§¸ç™¼ Plannotator è¨ˆç•«å¯©æŸ¥ä»‹é¢

**æœ¬èª²å‡è¨­**ï¼š
- ä½ å·²ç¶“é–‹å•Ÿäº† Plannotator è¨ˆç•«å¯©æŸ¥é é¢
- é é¢ä¸­é¡¯ç¤ºäº†ä¸€å€‹ AI ç”¢ç”Ÿçš„ Markdown è¨ˆç•«

## æ ¸å¿ƒæ€è·¯

### è¨»è§£é¡å‹è©³è§£

Plannotator æ”¯æ´å››ç¨®è¨ˆç•«è¨»è§£é¡å‹ï¼ˆå¤–åŠ ä¸€ç¨®å…¨åŸŸè©•è«–ï¼‰ï¼š

| è¨»è§£é¡å‹ | åœ–ç¤º | ç”¨é€” | æ˜¯å¦éœ€è¦è¼¸å…¥å…§å®¹ |
|--- | --- | --- | ---|
| **åˆªé™¤ (DELETION)** | ğŸ—‘ï¸ | æ¨™è¨˜æ­¤å…§å®¹æ‡‰å¾è¨ˆç•«ä¸­ç§»é™¤ | âŒ ä¸éœ€è¦ |
| **è©•è«– (COMMENT)** | ğŸ’¬ | å°é¸å–å…§å®¹æå‡ºå•é¡Œæˆ–å»ºè­° | âœ… éœ€è¦è¼¸å…¥è©•è«– |
| **å–ä»£ (REPLACEMENT)** | é€éè©•è«–å¯¦ç¾ | ç”¨æ–°å…§å®¹å–ä»£é¸å–å…§å®¹ | âœ… éœ€è¦è¼¸å…¥æ–°å…§å®¹ |
| **æ’å…¥ (INSERTION)** | é€éè©•è«–å¯¦ç¾ | åœ¨é¸å–å…§å®¹å¾Œæ’å…¥æ–°å…§å®¹ | âœ… éœ€è¦è¼¸å…¥æ–°å…§å®¹ |
| **å…¨åŸŸè©•è«– (GLOBAL_COMMENT)** | é é¢åº•éƒ¨è¼¸å…¥æ¡† | å°æ•´å€‹è¨ˆç•«æå‡ºå›é¥‹ | âœ… éœ€è¦è¼¸å…¥è©•è«– |

**ç‚ºä»€éº¼å–ä»£å’Œæ’å…¥æ²’æœ‰ç¨ç«‹æŒ‰éˆ•ï¼Ÿ**

å› ç‚ºå¾åŸå§‹ç¢¼å¯¦ç¾ä¾†çœ‹ï¼Œå–ä»£å’Œæ’å…¥æœ¬è³ªä¸Šæ˜¯ç‰¹æ®Šçš„è©•è«–é¡å‹ï¼ˆ`packages/ui/utils/parser.ts:287-296`ï¼‰ï¼š
- **å–ä»£**ï¼šè©•è«–å…§å®¹ä½œç‚ºå–ä»£çš„æ–°æ–‡å­—
- **æ’å…¥**ï¼šè©•è«–å…§å®¹ä½œç‚ºæ’å…¥çš„æ–°æ–‡å­—

å®ƒå€‘éƒ½ä½¿ç”¨ **è©•è«– (COMMENT)** æŒ‰éˆ•å»ºç«‹ï¼Œå€åˆ¥åœ¨æ–¼ä½ å¦‚ä½•æè¿°æ„åœ–ã€‚

### å·¥å…·åˆ—å·¥ä½œæµç¨‹

```
é¸å–æ–‡å­— â†’ å·¥å…·åˆ—å½ˆå‡ºï¼ˆé¸å–®æ­¥é©Ÿï¼‰
                 â”‚
                 â”œâ”€â”€ é»æ“Š Delete â†’ ç«‹å³å»ºç«‹åˆªé™¤è¨»è§£
                 â”œâ”€â”€ é»æ“Š Comment â†’ é€²å…¥è¼¸å…¥æ­¥é©Ÿ â†’ è¼¸å…¥å…§å®¹ â†’ å„²å­˜
                 â””â”€â”€ ç›´æ¥è¼¸å…¥å­—å…ƒ â†’ type-to-comment â†’ è‡ªå‹•é€²å…¥è¼¸å…¥æ­¥é©Ÿ
```

**å…©å€‹æ­¥é©Ÿçš„å€åˆ¥**ï¼š
- **é¸å–®æ­¥é©Ÿ**ï¼šé¸æ“‡æ“ä½œé¡å‹ï¼ˆåˆªé™¤ã€è©•è«–ã€å–æ¶ˆï¼‰
- **è¼¸å…¥æ­¥é©Ÿ**ï¼šè¼¸å…¥è©•è«–å…§å®¹æˆ–é™„åŠ åœ–ç‰‡ï¼ˆå¾è©•è«–/å–ä»£/é€²å…¥ï¼‰

### type-to-comment å¿«æ·éµ

é€™æ˜¯æå‡æ•ˆç‡çš„é—œéµåŠŸèƒ½ã€‚ç•¶ä½ é¸å–ä¸€æ®µæ–‡å­—å¾Œï¼Œ**ç›´æ¥é–‹å§‹æ‰“å­—**ï¼ˆä¸éœ€è¦é»æ“Šä»»ä½•æŒ‰éˆ•ï¼‰ï¼Œå·¥å…·åˆ—æœƒè‡ªå‹•ï¼š
1. åˆ‡æ›åˆ°ã€Œè©•è«–ã€æ¨¡å¼
2. å°‡ä½ è¼¸å…¥çš„ç¬¬ä¸€å€‹å­—å…ƒæ”¾å…¥è¼¸å…¥æ¡†
3. æ¸¸æ¨™è‡ªå‹•å®šä½åˆ°è¼¸å…¥æ¡†æœ«å°¾

åŸå§‹ç¢¼å¯¦ç¾ä½ç½®ï¼š`packages/ui/components/AnnotationToolbar.tsx:127-147`

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šå•Ÿå‹•è¨ˆç•«å¯©æŸ¥

**ç‚ºä»€éº¼**
éœ€è¦ä¸€å€‹å¯¦éš›çš„è¨ˆç•«ä¾†ç·´ç¿’æ–°å¢è¨»è§£ã€‚

**æ“ä½œ**

åœ¨ Claude Code æˆ– OpenCode ä¸­è§¸ç™¼è¨ˆç•«å¯©æŸ¥ï¼š

```bash
# Claude Code ç¯„ä¾‹ï¼šè®“ AI ç”¢ç”Ÿè¨ˆç•«å¾Œï¼Œå®ƒæœƒå‘¼å« ExitPlanMode
"è«‹ç”¢ç”Ÿä¸€å€‹ä½¿ç”¨è€…èªè­‰åŠŸèƒ½çš„å¯¦æ–½è¨ˆç•«"

# ç­‰å¾… AI å®Œæˆè¨ˆç•«ï¼ŒPlannotator æœƒè‡ªå‹•åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿ
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- ç€è¦½å™¨é–‹å•Ÿè¨ˆç•«å¯©æŸ¥é é¢
- é é¢é¡¯ç¤ºä¸€å€‹ Markdown æ ¼å¼çš„å¯¦æ–½è¨ˆç•«

### ç¬¬ 2 æ­¥ï¼šæ–°å¢åˆªé™¤è¨»è§£

**ç‚ºä»€éº¼**
åˆªé™¤è¨»è§£ç”¨æ–¼æ¨™è¨˜ä¸å¸Œæœ›å‡ºç¾åœ¨æœ€çµ‚è¨ˆç•«ä¸­çš„å…§å®¹ã€‚

**æ“ä½œ**

1. åœ¨è¨ˆç•«ä¸­æ‰¾åˆ°ä½ ä¸éœ€è¦çš„æ®µè½ï¼ˆä¾‹å¦‚æŸå€‹ä¸ç›¸é—œçš„åŠŸèƒ½æè¿°ï¼‰
2. æ»‘é¼ é¸å–æ–‡å­—
3. å·¥å…·åˆ—è‡ªå‹•å½ˆå‡ºï¼Œé»æ“Š **åˆªé™¤æŒ‰éˆ•ï¼ˆğŸ—‘ï¸ï¼‰**

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- è¢«é¸å–çš„æ–‡å­—é¡¯ç¤ºç‚ºåˆªé™¤æ¨£å¼ï¼ˆé€šå¸¸æ˜¯åˆªé™¤ç·šæˆ–ç´…è‰²èƒŒæ™¯ï¼‰
- å·¥å…·åˆ—è‡ªå‹•é—œé–‰

::: tip åˆªé™¤è¨»è§£çš„ç‰¹é»
åˆªé™¤è¨»è§£**ä¸éœ€è¦è¼¸å…¥ä»»ä½•å…§å®¹**ã€‚é»æ“Šåˆªé™¤æŒ‰éˆ•å¾Œï¼Œè¨»è§£ç«‹å³å»ºç«‹å®Œæˆã€‚
:::

### ç¬¬ 3 æ­¥ï¼šä½¿ç”¨ type-to-comment æ–°å¢è©•è«–

**ç‚ºä»€éº¼**
è©•è«–æ˜¯æœ€å¸¸ç”¨çš„è¨»è§£é¡å‹ï¼Œtype-to-comment èƒ½è®“ä½ å°‘é»ä¸€æ¬¡æŒ‰éˆ•ã€‚

**æ“ä½œ**

1. åœ¨è¨ˆç•«ä¸­é¸å–æ–‡å­—ï¼ˆä¾‹å¦‚æŸå€‹å‡½å¼åç¨±æˆ–æè¿°ï¼‰
2. **ä¸è¦é»æ“Šä»»ä½•æŒ‰éˆ•ï¼Œç›´æ¥é–‹å§‹æ‰“å­—**
3. è¼¸å…¥ä½ çš„è©•è«–å…§å®¹ï¼ˆä¾‹å¦‚ï¼šã€Œé€™å€‹å‡½å¼åç¨±ä¸å¤ æ¸…æ™°ã€ï¼‰
4. æŒ‰ `Enter` éµå„²å­˜ï¼Œæˆ–é»æ“Š **Save** æŒ‰éˆ•

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å·¥å…·åˆ—è‡ªå‹•åˆ‡æ›åˆ°è¼¸å…¥æ¡†æ¨¡å¼
- ä½ è¼¸å…¥çš„ç¬¬ä¸€å€‹å­—å…ƒå·²ç¶“åœ¨è¼¸å…¥æ¡†ä¸­
- æ¸¸æ¨™è‡ªå‹•å®šä½åˆ°è¼¸å…¥æ¡†æœ«å°¾
- æŒ‰ `Enter` å¾Œï¼Œé¸å–çš„æ–‡å­—é¡¯ç¤ºç‚ºè©•è«–æ¨£å¼ï¼ˆé€šå¸¸æ˜¯é»ƒè‰²èƒŒæ™¯ï¼‰

::: tip type-to-comment çš„å¿«æ·éµ
- `Enter`ï¼šå„²å­˜è¨»è§£ï¼ˆå¦‚æœè¼¸å…¥æ¡†æœ‰å…§å®¹ï¼‰
- `Shift + Enter`ï¼šæ›è¡Œï¼ˆè¼¸å…¥å¤šè¡Œè©•è«–æ™‚ä½¿ç”¨ï¼‰
- `Escape`ï¼šå–æ¶ˆè¼¸å…¥ï¼Œè¿”å›é¸å–®æ­¥é©Ÿ
:::

### ç¬¬ 4 æ­¥ï¼šæ–°å¢å–ä»£è¨»è§£

**ç‚ºä»€éº¼**
å–ä»£è¨»è§£ç”¨æ–¼ç”¨æ–°å…§å®¹å–ä»£é¸å–å…§å®¹ï¼ŒAI æœƒæ ¹æ“šä½ çš„è¨»è§£ä¿®æ”¹è¨ˆç•«ã€‚

**æ“ä½œ**

1. åœ¨è¨ˆç•«ä¸­é¸å–æ–‡å­—ï¼ˆä¾‹å¦‚ã€Œä½¿ç”¨ JWT token é€²è¡Œèªè­‰ã€ï¼‰
2. ä½¿ç”¨ type-to-comment æˆ–é»æ“Šè©•è«–æŒ‰éˆ•
3. åœ¨è¼¸å…¥æ¡†ä¸­è¼¸å…¥æ–°çš„å…§å®¹ï¼ˆä¾‹å¦‚ï¼šã€Œä½¿ç”¨ session cookie é€²è¡Œèªè­‰ã€ï¼‰
4. æŒ‰ `Enter` å„²å­˜

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- é¸å–çš„æ–‡å­—é¡¯ç¤ºç‚ºè©•è«–æ¨£å¼
- è¨»è§£å´é‚Šæ¬„ä¸­é¡¯ç¤ºä½ çš„è©•è«–å…§å®¹

**åŒ¯å‡ºå¾Œçš„æ ¼å¼**ï¼ˆ`packages/ui/utils/parser.ts:292-296`ï¼‰ï¼š

```markdown
## 1. Change this

**From:**
```
ä½¿ç”¨ JWT token é€²è¡Œèªè­‰
```

**To:**
```
ä½¿ç”¨ session cookie é€²è¡Œèªè­‰
```
```

::: info å–ä»£èˆ‡åˆªé™¤çš„å€åˆ¥
- **åˆªé™¤**ï¼šç›´æ¥ç§»é™¤å…§å®¹ï¼Œä¸éœ€è¦èªªæ˜ç†ç”±
- **å–ä»£**ï¼šç”¨æ–°å…§å®¹å–ä»£èˆŠå…§å®¹ï¼Œéœ€è¦æŒ‡å®šæ–°å…§å®¹
:::

### ç¬¬ 5 æ­¥ï¼šæ–°å¢æ’å…¥è¨»è§£

**ç‚ºä»€éº¼**
æ’å…¥è¨»è§£ç”¨æ–¼åœ¨é¸å–å…§å®¹å¾Œè£œå……èªªæ˜æˆ–ç¨‹å¼ç¢¼ç‰‡æ®µã€‚

**æ“ä½œ**

1. åœ¨è¨ˆç•«ä¸­é¸å–æ–‡å­—ï¼ˆä¾‹å¦‚å‡½å¼ç°½ç« çš„æœ«å°¾ï¼‰
2. ä½¿ç”¨ type-to-comment æˆ–é»æ“Šè©•è«–æŒ‰éˆ•
3. åœ¨è¼¸å…¥æ¡†ä¸­è¼¸å…¥è¦æ’å…¥çš„å…§å®¹ï¼ˆä¾‹å¦‚ï¼šã€Œï¼Œéœ€è¦è™•ç†èªè­‰å¤±æ•—çš„æƒ…æ³ã€ï¼‰
4. æŒ‰ `Enter` å„²å­˜

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- é¸å–çš„æ–‡å­—é¡¯ç¤ºç‚ºè©•è«–æ¨£å¼
- è¨»è§£å´é‚Šæ¬„ä¸­é¡¯ç¤ºä½ çš„è©•è«–

**åŒ¯å‡ºå¾Œçš„æ ¼å¼**ï¼ˆ`packages/ui/utils/parser.ts:287-290`ï¼‰ï¼š

```markdown
## 1. Add this

```
ï¼Œéœ€è¦è™•ç†èªè­‰å¤±æ•—çš„æƒ…æ³
```
```

### ç¬¬ 6 æ­¥ï¼šåœ¨è¨»è§£ä¸­é™„åŠ åœ–ç‰‡

**ç‚ºä»€éº¼**
æœ‰æ™‚å€™æ–‡å­—æè¿°ä¸å¤ ç›´è§€ï¼Œéœ€è¦é™„åŠ åƒè€ƒåœ–æˆ–æˆªåœ–ã€‚

**æ“ä½œ**

1. é¸å–ä»»æ„æ–‡å­—ï¼Œé€²å…¥è¼¸å…¥æ­¥é©Ÿï¼ˆé»æ“Šè©•è«–æŒ‰éˆ•æˆ– type-to-commentï¼‰
2. åœ¨å·¥å…·åˆ—è¼¸å…¥æ¡†æ—é‚Šï¼Œé»æ“Š **é™„ä»¶æŒ‰éˆ•ï¼ˆğŸ“ï¼‰**
3. é¸æ“‡è¦ä¸Šå‚³çš„åœ–ç‰‡ï¼ˆæ”¯æ´ PNGã€JPEGã€WebP æ ¼å¼ï¼‰
4. å¯ä»¥ç¹¼çºŒè¼¸å…¥è©•è«–å…§å®¹
5. æŒ‰ `Enter` å„²å­˜

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- åœ–ç‰‡ç¸®åœ–é¡¯ç¤ºåœ¨è¼¸å…¥æ¡†ä¸­
- å„²å­˜å¾Œï¼Œåœ–ç‰‡é¡¯ç¤ºåœ¨è¨»è§£å´é‚Šæ¬„ä¸­

::: warning åœ–ç‰‡å„²å­˜ä½ç½®
ä¸Šå‚³çš„åœ–ç‰‡å„²å­˜åœ¨æœ¬æ©Ÿ `/tmp/plannotator` ç›®éŒ„ï¼ˆåŸå§‹ç¢¼ä½ç½®ï¼š`packages/server/index.ts:163`ï¼‰ã€‚å¦‚æœæ¸…ç†æš«å­˜æª”æ¡ˆï¼Œåœ–ç‰‡æœƒéºå¤±ã€‚
:::

### ç¬¬ 7 æ­¥ï¼šæ–°å¢å…¨åŸŸè©•è«–

**ç‚ºä»€éº¼**
ç•¶ä½ å°æ•´å€‹è¨ˆç•«æœ‰å›é¥‹ï¼ˆä¸æ˜¯é‡å°å…·é«”æŸæ®µæ–‡å­—ï¼‰æ™‚ï¼Œä½¿ç”¨å…¨åŸŸè©•è«–ã€‚

**æ“ä½œ**

1. åœ¨é é¢åº•éƒ¨æ‰¾åˆ°è¼¸å…¥æ¡†ï¼ˆæ¨™ç±¤å¯èƒ½æ˜¯ã€ŒAdd a general comment about the plan...ã€ï¼‰
2. è¼¸å…¥ä½ çš„è©•è«–å…§å®¹
3. æŒ‰ `Enter` å„²å­˜æˆ–é»æ“Šå‚³é€æŒ‰éˆ•

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- è©•è«–å‡ºç¾åœ¨é é¢åº•éƒ¨çš„å…¨åŸŸè©•è«–å€åŸŸ
- è©•è«–é¡¯ç¤ºç‚ºç¨ç«‹å¡ç‰‡ï¼Œä¸é—œè¯ä»»ä½•æ–‡å­—å€å¡Š

::: tip å…¨åŸŸè©•è«– vs æ–‡å­—è©•è«–
- **å…¨åŸŸè©•è«–**ï¼šå°æ•´å€‹è¨ˆç•«çš„å›é¥‹ï¼Œä¸é—œè¯å…·é«”æ–‡å­—ï¼ˆä¾‹å¦‚ã€Œæ•´å€‹è¨ˆç•«ç¼ºå°‘æ•ˆèƒ½è€ƒé‡ã€ï¼‰
- **æ–‡å­—è©•è«–**ï¼šå°æŸæ®µæ–‡å­—çš„å›é¥‹ï¼Œæœƒé†’ç›®æç¤ºå°æ‡‰çš„æ–‡å­—
:::

## æª¢æŸ¥é» âœ…

å®Œæˆä¸Šè¿°æ­¥é©Ÿå¾Œï¼Œä½ æ‡‰è©²ï¼š

- [ ] æˆåŠŸæ–°å¢äº†è‡³å°‘ä¸€å€‹åˆªé™¤è¨»è§£
- [ ] ä½¿ç”¨ type-to-comment æ–°å¢äº†è©•è«–
- [ ] æ–°å¢äº†å–ä»£å’Œæ’å…¥è¨»è§£
- [ ] åœ¨è¨»è§£ä¸­é™„åŠ äº†åœ–ç‰‡
- [ ] æ–°å¢äº†å…¨åŸŸè©•è«–
- [ ] åœ¨å³å´å´é‚Šæ¬„çœ‹åˆ°æ‰€æœ‰è¨»è§£æ¸…å–®

## è¸©å‘æé†’

### å‘ 1ï¼šæ‰¾ä¸åˆ°ã€Œå–ä»£ã€æŒ‰éˆ•

**éŒ¯èª¤æ“ä½œ**ï¼š
- é¸å–æ–‡å­—å¾Œï¼Œå·¥å…·åˆ—åªæœ‰ Delete å’Œ Commentï¼Œæ²’æœ‰ Replace æˆ– Insert æŒ‰éˆ•

**æ­£ç¢ºåšæ³•**ï¼š
- å–ä»£å’Œæ’å…¥é€é **è©•è«– (COMMENT)** æŒ‰éˆ•å¯¦ç¾
- åœ¨è©•è«–å…§å®¹ä¸­æè¿°ä½ çš„æ„åœ–ï¼ˆå–ä»£æˆ–æ’å…¥ï¼‰
- AI æœƒæ ¹æ“šè©•è«–å…§å®¹ç†è§£ä½ çš„æ„åœ–

### å‘ 2ï¼štype-to-comment å¤±æ•ˆ

**å¯èƒ½åŸå› **ï¼š
1. æ²’æœ‰é¸å–æ–‡å­—
2. å…ˆé»æ“Šäº†æŸå€‹æŒ‰éˆ•ï¼Œå·¥å…·åˆ—å·²é€²å…¥è¼¸å…¥æ­¥é©Ÿ
3. è¼¸å…¥äº†ç‰¹æ®Šéµï¼ˆ`Ctrl`ã€`Alt`ã€`Escape` ç­‰ï¼‰

**æ­£ç¢ºåšæ³•**ï¼š
1. å…ˆé¸å–æ–‡å­—ï¼Œç¢ºä¿å·¥å…·åˆ—é¡¯ç¤ºåœ¨é¸å–®æ­¥é©Ÿï¼ˆæœ‰ Deleteã€Comment æŒ‰éˆ•ï¼‰
2. ç›´æ¥è¼¸å…¥æ™®é€šå­—å…ƒï¼ˆå­—æ¯ã€æ•¸å­—ã€æ¨™é»ï¼‰
3. ä¸è¦æŒ‰åŠŸèƒ½éµ

### å‘ 3ï¼šåœ–ç‰‡ä¸Šå‚³å¾Œæ‰¾ä¸åˆ°

**å¯èƒ½åŸå› **ï¼š
- åœ–ç‰‡å„²å­˜åœ¨ `/tmp/plannotator` ç›®éŒ„
- ç³»çµ±æ¸…ç†äº†æš«å­˜æª”æ¡ˆ

**æ­£ç¢ºåšæ³•**ï¼š
- å¦‚æœéœ€è¦é•·æœŸä¿å­˜åœ–ç‰‡ï¼Œå»ºè­°è¤‡è£½åˆ°å°ˆæ¡ˆç›®éŒ„
- åŒ¯å‡ºè¨»è§£æ™‚ï¼Œåœ–ç‰‡è·¯å¾‘æ˜¯çµ•å°è·¯å¾‘ï¼Œç¢ºä¿å…¶ä»–å·¥å…·å¯ä»¥å­˜å–

### å‘ 4ï¼šæŒ‰ `Enter` æ›è¡Œå»å„²å­˜äº†è¨»è§£

**éŒ¯èª¤æ“ä½œ**ï¼š
- åœ¨è¼¸å…¥æ¡†ä¸­æƒ³æ›è¡Œï¼Œç›´æ¥æŒ‰ `Enter`ï¼Œçµæœè¨»è§£è¢«å„²å­˜

**æ­£ç¢ºåšæ³•**ï¼š
- ä½¿ç”¨ `Shift + Enter` æ›è¡Œ
- `Enter` éµå°ˆç”¨æ–¼å„²å­˜è¨»è§£

## æœ¬èª²å°çµ

**å››ç¨®è¨»è§£é¡å‹**ï¼š
- **åˆªé™¤ (DELETION)**ï¼šæ¨™è¨˜ä¸å¸Œæœ›å‡ºç¾åœ¨è¨ˆç•«ä¸­çš„å…§å®¹
- **å–ä»£ (REPLACEMENT)**ï¼šç”¨æ–°å…§å®¹å–ä»£é¸å–å…§å®¹ï¼ˆé€éè©•è«–å¯¦ç¾ï¼‰
- **æ’å…¥ (INSERTION)**ï¼šåœ¨é¸å–å…§å®¹å¾Œè£œå……å…§å®¹ï¼ˆé€éè©•è«–å¯¦ç¾ï¼‰
- **è©•è«– (COMMENT)**ï¼šå°é¸å–å…§å®¹æå‡ºå•é¡Œæˆ–å»ºè­°
- **å…¨åŸŸè©•è«– (GLOBAL_COMMENT)**ï¼šå°æ•´å€‹è¨ˆç•«çš„å›é¥‹

**é—œéµæ“ä½œ**ï¼š
- é¸å– â†’ å·¥å…·åˆ—å½ˆå‡º â†’ é¸æ“‡æ“ä½œé¡å‹
- type-to-commentï¼šç›´æ¥è¼¸å…¥å­—å…ƒï¼Œè‡ªå‹•é€²å…¥è©•è«–æ¨¡å¼
- `Shift + Enter`ï¼šæ›è¡Œï¼›`Enter`ï¼šå„²å­˜
- é™„ä»¶æŒ‰éˆ•ï¼šä¸Šå‚³åœ–ç‰‡åˆ°è¨»è§£

**è¨»è§£åŒ¯å‡ºæ ¼å¼**ï¼š
- åˆªé™¤ï¼š`## Remove this` + åŸæ–‡å­—
- æ’å…¥ï¼š`## Add this` + æ–°æ–‡å­—
- å–ä»£ï¼š`## Change this` + From/To å°æ¯”
- è©•è«–ï¼š`## Feedback on: "..."` + è©•è«–å…§å®¹

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[æ–°å¢åœ–åƒæ¨™è¨»](../plan-review-images/)**ã€‚
>
> ä½ æœƒå­¸åˆ°ï¼š
> - å¦‚ä½•åœ¨è¨ˆç•«å¯©æŸ¥ä¸­é™„åŠ åœ–åƒ
> - ä½¿ç”¨ç•«ç­†ã€ç®­é ­ã€åœ“å½¢å·¥å…·é€²è¡Œæ¨™è¨»
> - æ¨™è¨»åœ–åƒä½œç‚ºåƒè€ƒå›é¥‹

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»æ“Šå±•é–‹æª¢è¦–åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-24

| åŠŸèƒ½ | æª”æ¡ˆè·¯å¾‘ | è¡Œè™Ÿ |
|--- | --- | ---|
| è¨»è§£é¡å‹åˆ—èˆ‰å®šç¾© | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L1-L7) | 1-7 |
| Annotation ä»‹é¢ | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L11-L33) | 11-33 |
| è¨»è§£å·¥å…·åˆ—å…ƒä»¶ | [`packages/ui/components/AnnotationToolbar.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/AnnotationToolbar.tsx#L29-L272) | 29-272 |
|--- | --- | ---|
| è¨»è§£åŒ¯å‡ºæ ¼å¼åŒ– | [`packages/ui/utils/parser.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/parser.ts#L246-L323) | 246-323 |
| Markdown è§£æç‚º Blocks | [`packages/ui/utils/parser.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/parser.ts#L70-L244) | 70-244 |
| Viewer å…ƒä»¶ï¼ˆæ–‡å­—é¸å–è™•ç†ï¼‰ | [`packages/ui/components/Viewer.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/Viewer.tsx#L66-L350) | 66-350 |

**é—œéµå¸¸æ•¸**ï¼š
- `AnnotationType.DELETION = 'DELETION'`ï¼šåˆªé™¤è¨»è§£é¡å‹
- `AnnotationType.INSERTION = 'INSERTION'`ï¼šæ’å…¥è¨»è§£é¡å‹
- `AnnotationType.REPLACEMENT = 'REPLACEMENT'`ï¼šå–ä»£è¨»è§£é¡å‹
- `AnnotationType.COMMENT = 'COMMENT'`ï¼šè©•è«–è¨»è§£é¡å‹
- `AnnotationType.GLOBAL_COMMENT = 'GLOBAL_COMMENT'`ï¼šå…¨åŸŸè©•è«–é¡å‹

**é—œéµå‡½å¼**ï¼š
- `exportDiff(blocks, annotations)`ï¼šå°‡è¨»è§£åŒ¯å‡ºç‚º Markdown æ ¼å¼ï¼ŒåŒ…å« From/To å°æ¯”
- `parseMarkdownToBlocks(markdown)`ï¼šå°‡ Markdown è§£æç‚ºç·šæ€§ Block é™£åˆ—
- `createAnnotationFromSource()`ï¼šå¾æ–‡å­—é¸å–å»ºç«‹ Annotation ç‰©ä»¶

</details>
