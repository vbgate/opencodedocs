---
title: "åœ–åƒæ¨™è¨»: ä¸‰ç¨®å·¥å…·æ¨™è¨» | Plannotator"
sidebarTitle: "ä¸‰ç¨®å·¥å…·æ¨™è¨»åœ–ç‰‡"
subtitle: "åœ–åƒæ¨™è¨»: ä¸‰ç¨®å·¥å…·æ¨™è¨»"
description: "å­¸ç¿’ Plannotator åœ–åƒæ¨™è¨»çš„ä¸‰å¤§å·¥å…·ã€‚åœ¨è¨ˆç•«å¯©æŸ¥ä¸­é™„åŠ åœ–ç‰‡ï¼Œä½¿ç”¨ç•«ç­†ã€ç®­é ­ã€åœ“å½¢æ¨™è¨»ï¼Œæ”¯æ´èª¿æ•´é¡è‰²å’Œå¿«æ·éµæ“ä½œã€‚"
tags:
  - "åœ–åƒæ¨™è¨»"
  - "ç•«ç­†"
  - "ç®­é ­"
  - "åœ“å½¢"
  - "å¿«æ·éµ"
  - "è¨ˆç•«å¯©æŸ¥"
  - "ç¨‹å¼ç¢¼å¯©æŸ¥"
prerequisite:
  - "platforms-plan-review-basics"
order: 3
---

# æ–°å¢åœ–åƒæ¨™è¨»ï¼šç”¨ç•«ç­†ã€ç®­é ­ã€åœ“å½¢æ¨™è¨»åœ–ç‰‡

## å­¸å®Œä½ èƒ½åšä»€éº¼

- âœ… åœ¨è¨ˆç•«å¯©æŸ¥æˆ–ç¨‹å¼ç¢¼å¯©æŸ¥ä¸­é™„åŠ åœ–åƒ
- âœ… ä½¿ç”¨ç•«ç­†å·¥å…·è‡ªç”±ç¹ªè£½æ¨™è¨»
- âœ… ä½¿ç”¨ç®­é ­å·¥å…·æ¨™è¨»é‡é»å€åŸŸ
- âœ… ä½¿ç”¨åœ“å½¢å·¥å…·åœˆé¸å€åŸŸ
- âœ… èª¿æ•´æ¨™è¨»é¡è‰²å’Œç­†è§¸å¤§å°
- âœ… ä½¿ç”¨å¿«æ·éµå¿«é€Ÿåˆ‡æ›å·¥å…·å’Œæ“ä½œ

## ä½ ç¾åœ¨çš„å›°å¢ƒ

**å•é¡Œ 1**ï¼šå¯©æŸ¥ UI è¨­è¨ˆç¨¿æˆ–æµç¨‹åœ–æ™‚ï¼Œæ–‡å­—æè¿°ä¸å¤ ç›´è§€ï¼Œéœ€è¦åœˆå‡ºå•é¡Œå€åŸŸã€‚

**å•é¡Œ 2**ï¼šæƒ³çµ¦ç¨‹å¼ç¢¼å¯©æŸ¥æ–°å¢æˆªåœ–è¨»è§£ï¼Œä½†åªèƒ½ç”¨æ–‡å­—èªªæ˜ã€Œé€™è£¡æœ‰å•é¡Œã€ï¼Œç„¡æ³•åœ¨åœ–ä¸Šç›´æ¥æ¨™è¨˜ã€‚

**å•é¡Œ 3**ï¼šæ”¶åˆ°åœ˜éšŠåˆ†äº«çš„åœ–ç‰‡é€£çµï¼Œæƒ³å¿«é€Ÿæ¨™è¨»å›é¥‹ï¼Œä½†ä¸æƒ³ä¸‹è¼‰åˆ°æœ¬æ©Ÿç”¨å…¶ä»–å·¥å…·è™•ç†ã€‚

**Plannotator èƒ½å¹«ä½ **ï¼š
- ç›´æ¥åœ¨ç€è¦½å™¨ä¸­æ¨™è¨»åœ–ç‰‡ï¼Œç„¡éœ€ä¸‹è¼‰åˆ°æœ¬æ©Ÿ
- ç•«ç­†ã€ç®­é ­ã€åœ“å½¢ä¸‰ç¨®å·¥å…·ï¼Œæ¶µè“‹æ‰€æœ‰æ¨™è¨»æƒ…å¢ƒ
- äº”ç¨®é¡è‰²å’Œäº”ç¨®ç­†è§¸å¤§å°ï¼Œéˆæ´»èª¿æ•´æ¨™è¨»æ•ˆæœ
- å¿«æ·éµæ“ä½œï¼Œæå‡æ¨™è¨»æ•ˆç‡

## ä»€éº¼æ™‚å€™ç”¨é€™ä¸€æ‹›

**ä½¿ç”¨æƒ…å¢ƒ**ï¼š
- å¯©æŸ¥ UI è¨­è¨ˆç¨¿ã€æµç¨‹åœ–ã€æ¶æ§‹åœ–æ™‚éœ€è¦æ¨™è¨»å•é¡Œ
- ç¨‹å¼ç¢¼å¯©æŸ¥ä¸­éœ€è¦æˆªåœ–ä¸¦æ¨™è¨»ç¨‹å¼ç¢¼å•é¡Œ
- åˆ†äº«å¸¶æ¨™è¨»çš„åœ–ç‰‡çµ¦åœ˜éšŠæˆå“¡
- éœ€è¦åœ¨åœ–ç‰‡ä¸Šåœˆé¸é‡é»å€åŸŸæˆ–æ–°å¢ç®­é ­æŒ‡å¼•

## ğŸ’ é–‹å§‹å‰çš„æº–å‚™

::: warning å‰ç½®æ¢ä»¶

æœ¬æ•™å­¸å‡è¨­ä½ å·²ç¶“ï¼š

- âœ… å®Œæˆäº† [è¨ˆç•«å¯©æŸ¥åŸºç¤](../plan-review-basics/) æˆ– [ç¨‹å¼ç¢¼å¯©æŸ¥åŸºç¤](../code-review-basics/)
- âœ… çŸ¥é“å¦‚ä½•é–‹å•Ÿè¨ˆç•«å¯©æŸ¥æˆ–ç¨‹å¼ç¢¼å¯©æŸ¥é é¢
- âœ… äº†è§£åŸºæœ¬çš„è¨»è§£æ“ä½œ

:::

## æ ¸å¿ƒæ€è·¯

**åœ–åƒæ¨™è¨»çš„ä¸‰ç¨®å·¥å…·**ï¼š

| å·¥å…· | åœ–ç¤º | å¿«æ·éµ | ç”¨é€” |
| ---- | ---- | ------ | ---- |
| **ç•«ç­†** | ğŸ–Šï¸ | 1 | è‡ªç”±ç¹ªè£½ï¼Œé©åˆæ‰‹å¯«è¨»è§£ã€åœˆé¸ä»»æ„å½¢ç‹€ |
| **ç®­é ­** | â¡ï¸ | 2 | æ¨™è¨»é‡é»å€åŸŸæˆ–æŒ‡ç¤ºæ–¹å‘ï¼Œé©åˆé»å°é»æ¨™è¨» |
| **åœ“å½¢** | â­• | 3 | åœˆé¸å€åŸŸï¼Œé©åˆçªé¡¯æŸå€‹å…ƒç´  |

**å·¥ä½œæµç¨‹**ï¼š
```
ä¸Šå‚³åœ–ç‰‡ â†’ é¸æ“‡å·¥å…· â†’ èª¿æ•´é¡è‰²å’Œå¤§å° â†’ åœ¨åœ–ç‰‡ä¸Šç¹ªè£½ â†’ å„²å­˜
```

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šé–‹å•Ÿè¨ˆç•«å¯©æŸ¥æˆ–ç¨‹å¼ç¢¼å¯©æŸ¥é é¢

**ç‚ºä»€éº¼**
Plannotator çš„åœ–åƒæ¨™è¨»åŠŸèƒ½æ•´åˆåœ¨è¨ˆç•«å¯©æŸ¥å’Œç¨‹å¼ç¢¼å¯©æŸ¥ä¸­ã€‚

**æ“ä½œ**

1. å•Ÿå‹•è¨ˆç•«å¯©æŸ¥ï¼ˆClaude Code è§¸ç™¼æˆ– OpenCode å‘¼å« submit_planï¼‰
2. æˆ–åŸ·è¡Œ `/plannotator-review` å‘½ä»¤å•Ÿå‹•ç¨‹å¼ç¢¼å¯©æŸ¥

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- ç€è¦½å™¨é–‹å•Ÿå¯©æŸ¥é é¢
- å³ä¸Šè§’æœ‰ã€ŒUploadã€æˆ–ã€Œé™„ä»¶ã€æŒ‰éˆ•

### ç¬¬ 2 æ­¥ï¼šä¸Šå‚³åœ–åƒ

**ç‚ºä»€éº¼**
éœ€è¦å…ˆä¸Šå‚³åœ–ç‰‡æ‰èƒ½é€²è¡Œæ¨™è¨»ã€‚

**æ“ä½œ**

1. é»æ“Šé é¢å³ä¸Šè§’çš„ã€ŒUploadã€æˆ–ã€Œé™„ä»¶ã€æŒ‰éˆ•
2. é¸æ“‡è¦æ¨™è¨»çš„åœ–ç‰‡ï¼ˆæ”¯æ´ PNGã€JPEGã€WebP æ ¼å¼ï¼‰
3. åœ–ç‰‡ä¸Šå‚³å¾Œæœƒé¡¯ç¤ºåœ¨è¨»è§£æ¸…å–®ä¸­

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- åœ–ç‰‡ç¸®åœ–å‡ºç¾åœ¨è¨»è§£å€åŸŸ
- é»æ“Šç¸®åœ–å¯ä»¥é–‹å•Ÿæ¨™è¨»ç·¨è¼¯å™¨

::: tip åœ–ç‰‡ä¾†æº
ä½ å¯ä»¥é€éä»¥ä¸‹æ–¹å¼å–å¾—åœ–ç‰‡ï¼š
- æˆªåœ–ä¸¦è²¼ä¸Šï¼ˆCtrl+V / Cmd+Vï¼‰
- å¾æœ¬æ©Ÿæª”æ¡ˆé¸æ“‡
- æ‹–æ”¾åœ–ç‰‡åˆ°é é¢
:::

### ç¬¬ 3 æ­¥ï¼šé–‹å•Ÿåœ–åƒæ¨™è¨»ç·¨è¼¯å™¨

**ç‚ºä»€éº¼**
æ¨™è¨»ç·¨è¼¯å™¨æä¾›ç¹ªåœ–å·¥å…·å’Œé¡è‰²é¸æ“‡ã€‚

**æ“ä½œ**

1. é»æ“Šå·²ä¸Šå‚³çš„åœ–ç‰‡ç¸®åœ–
2. åœ–åƒæ¨™è¨»ç·¨è¼¯å™¨æœƒåœ¨å½ˆå‡ºè¦–çª—ä¸­é–‹å•Ÿ

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- åœ–ç‰‡ç½®ä¸­é¡¯ç¤º
- é ‚éƒ¨æœ‰ä¸€æ’å·¥å…·åˆ—
- å·¥å…·åˆ—å¾å·¦åˆ°å³ï¼šå·¥å…·é¸æ“‡ã€ç­†è§¸å¤§å°ã€é¡è‰²é¸æ“‡ã€å¾©åŸã€æ¸…é™¤ã€å„²å­˜

### ç¬¬ 4 æ­¥ï¼šä½¿ç”¨ç•«ç­†å·¥å…·è‡ªç”±ç¹ªè£½

**ç‚ºä»€éº¼**
ç•«ç­†å·¥å…·é©åˆæ‰‹å¯«è¨»è§£æˆ–åœˆé¸ä»»æ„å½¢ç‹€ã€‚

**æ“ä½œ**

1. ç¢ºä¿é¸å–äº†ç•«ç­†å·¥å…·ï¼ˆğŸ–Šï¸ åœ–ç¤ºï¼Œé è¨­é¸å–ï¼‰
2. æŒ‰ä¸‹æ»‘é¼ å·¦éµï¼Œåœ¨åœ–ç‰‡ä¸Šç¹ªè£½
3. æ”¾é–‹æ»‘é¼ å®Œæˆç¹ªè£½

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- æ»‘é¼ ç§»å‹•æ™‚è·Ÿéš¨çš„ç·šæ¢è»Œè·¡
- æ”¾é–‹æ»‘é¼ å¾Œï¼Œç¹ªè£½çš„å½¢ç‹€å›ºå®šåœ¨åœ–ç‰‡ä¸Š

::: info ç•«ç­†ç‰¹é»
- ä½¿ç”¨ perfect-freehand å‡½å¼åº«å¯¦ç¾å¹³æ»‘çš„æ‰‹ç¹ªæ•ˆæœ
- æ”¯æ´å£“åŠ›æ„Ÿæ‡‰ï¼ˆå¦‚æœä½ çš„è£ç½®æ”¯æ´ï¼‰
- ç­†è§¸è¶Šç²—ï¼Œç·šæ¢è¶Šå¹³æ»‘
:::

### ç¬¬ 5 æ­¥ï¼šä½¿ç”¨ç®­é ­å·¥å…·æ¨™è¨»é‡é»

**ç‚ºä»€éº¼**
ç®­é ­é©åˆé»å°é»æ¨™è¨»ï¼Œæ˜ç¢ºæŒ‡å‡ºå•é¡Œä½ç½®ã€‚

**æ“ä½œ**

1. é»æ“Šç®­é ­å·¥å…·ï¼ˆâ¡ï¸ åœ–ç¤ºï¼‰æˆ–æŒ‰å¿«æ·éµ `2`
2. åœ¨åœ–ç‰‡ä¸Šé»æ“Šç¢ºå®šç®­é ­èµ·é»
3. æ‹–æ›³åˆ°ç›®æ¨™ä½ç½®ï¼Œæ”¾é–‹æ»‘é¼ å®Œæˆç®­é ­ç¹ªè£½

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å¾èµ·é»åˆ°çµ‚é»çš„ä¸€æ¢ç›´ç·š
- çµ‚é»æœ‰ä¸€å€‹ç®­é ­ï¼ŒæŒ‡å‘ç›®æ¨™ä½ç½®

::: tip ç®­é ­ç¹ªè£½æŠ€å·§
- **èµ·é»**æ˜¯ç®­é ­å°¾éƒ¨ï¼Œ**çµ‚é»**æ˜¯ç®­é ­é ­éƒ¨
- æ‹–æ›³éç¨‹ä¸­å¯ä»¥å³æ™‚é è¦½ç®­é ­æ–¹å‘
- é©åˆæ¨™è¨»ã€Œé€™è£¡æœ‰å•é¡Œã€æˆ–ã€Œéœ€è¦ä¿®æ”¹é€™è£¡ã€ç­‰æƒ…å¢ƒ
:::

### ç¬¬ 6 æ­¥ï¼šä½¿ç”¨åœ“å½¢å·¥å…·åœˆé¸å€åŸŸ

**ç‚ºä»€éº¼**
åœ“å½¢é©åˆçªé¡¯æŸå€‹å…ƒç´ ï¼Œåœˆé¸ç¯„åœæ¸…æ™°ã€‚

**æ“ä½œ**

1. é»æ“Šåœ“å½¢å·¥å…·ï¼ˆâ­• åœ–ç¤ºï¼‰æˆ–æŒ‰å¿«æ·éµ `3`
2. åœ¨åœ–ç‰‡ä¸Šé»æ“Šç¢ºå®šåœ“å½¢çš„ä¸€æ¢é‚Š
3. æ‹–æ›³åˆ°å°é‚Šï¼Œæ”¾é–‹æ»‘é¼ å®Œæˆåœ“å½¢ç¹ªè£½

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- ä¸€å€‹åœ“å½¢ï¼Œèµ·å§‹é»åˆ°çµ‚æ­¢é»çš„é€£ç·šç‚ºç›´å¾‘
- åœ“å½¢ä¸­å¿ƒæ˜¯å…©é»é€£ç·šçš„ä¸­é»

::: details åœ“å½¢ç¹ªè£½åŸç†

åœ“å½¢å·¥å…·å¾é‚Šç·£åˆ°é‚Šç·£ç¹ªè£½ï¼š
- **ç¬¬ 1 æ¬¡é»æ“Š**ï¼šåœ“çš„æŸä¸€æ¢é‚Š
- **æ‹–æ›³**ï¼šç¢ºå®šåœ“çš„ç›´å¾‘
- **æ”¾é–‹**ï¼šç¹ªè£½å®Œæˆåœ“

åŸå§‹ç¢¼å¯¦ä½œï¼ˆ`utils.ts:95-124`ï¼‰ï¼š
```typescript
// ä¸­å¿ƒæ˜¯èµ·é»å’Œçµ‚é»çš„ä¸­é»
const cx = (x1 + x2) / 2;
const cy = (y1 + y2) / 2;

// åŠå¾‘æ˜¯å…©é»è·é›¢çš„ä¸€åŠ
const radius = Math.hypot(x2 - x1, y2 - y1) / 2;
```

:::

### ç¬¬ 7 æ­¥ï¼šèª¿æ•´æ¨™è¨»é¡è‰²

**ç‚ºä»€éº¼**
ä¸åŒé¡è‰²å¯ä»¥å€åˆ†ä¸åŒé¡å‹çš„æ¨™è¨»ï¼ˆå¦‚ç´…è‰²è¡¨ç¤ºéŒ¯èª¤ï¼Œç¶ è‰²è¡¨ç¤ºå»ºè­°ï¼‰ã€‚

**æ“ä½œ**

1. åœ¨å·¥å…·åˆ—ä¸­é»æ“Šé¡è‰²åœ“é»
2. å¯é¸é¡è‰²ï¼šç´…è‰²ã€é»ƒè‰²ã€ç¶ è‰²ã€è—è‰²ã€ç™½è‰²

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- ç›®å‰é¸å–çš„é¡è‰²åœ“é»æœƒæ”¾å¤§é¡¯ç¤º
- æ‰€æœ‰æ–°ç¹ªè£½çš„æ¨™è¨»éƒ½ä½¿ç”¨ç›®å‰é¡è‰²

::: info é¡è‰²ä½¿ç”¨å»ºè­°
- **ç´…è‰²**ï¼šéŒ¯èª¤ã€å•é¡Œã€éœ€è¦åˆªé™¤çš„å…§å®¹
- **é»ƒè‰²**ï¼šè­¦å‘Šã€æ³¨æ„ã€éœ€è¦ç¢ºèªçš„åœ°æ–¹
- **ç¶ è‰²**ï¼šå»ºè­°ã€æœ€ä½³åŒ–ã€æ”¹é€²æ„è¦‹
- **è—è‰²**ï¼šè£œå……èªªæ˜ã€å‚™è¨»
- **ç™½è‰²**ï¼šé©ç”¨æ–¼æ·±è‰²èƒŒæ™¯çš„åœ–ç‰‡
:::

### ç¬¬ 8 æ­¥ï¼šèª¿æ•´ç­†è§¸å¤§å°

**ç‚ºä»€éº¼**
ä¸åŒå¤§å°çš„ç­†è§¸é©åˆä¸åŒçš„æ¨™è¨»æƒ…å¢ƒã€‚

**æ“ä½œ**

1. é»æ“Šå·¥å…·åˆ—ä¸­çš„ `-` æˆ– `+` æŒ‰éˆ•
2. æˆ–è§€å¯Ÿç›®å‰ç­†è§¸å¤§å°é è¦½ï¼ˆä¸€å€‹åœ“é»ï¼‰

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- ç­†è§¸å¤§å°å¯é¸ï¼š3ã€6ã€10ã€16ã€24
- å·¥å…·åˆ—ä¸­é–“é¡¯ç¤ºç›®å‰ç­†è§¸å¤§å°çš„é è¦½åœ“é»

::: tip ç­†è§¸å¤§å°å»ºè­°
- **3**ï¼šç²¾ç¢ºæ¨™è¨»å°å…ƒç´ ï¼ˆå¦‚æŒ‰éˆ•ã€åœ–ç¤ºï¼‰
- **6**ï¼šä¸€èˆ¬æ¨™è¨»ï¼ˆé è¨­å€¼ï¼‰
- **10**ï¼šç²—ç·šæ¢æ¨™è¨»ï¼Œé©åˆåœˆé¸è¼ƒå¤§å€åŸŸ
- **16**ï¼šéå¸¸ç²—çš„æ¨™è¨»ï¼Œé©åˆå¼·èª¿é‡é»
- **24**ï¼šæœ€å¤§ç­†è§¸ï¼Œé©åˆçªé¡¯è¶…å¤§å€åŸŸ
:::

### ç¬¬ 9 æ­¥ï¼šå¾©åŸå’Œæ¸…é™¤

**ç‚ºä»€éº¼**
æ¨™è¨»éç¨‹ä¸­é›£å…å‡ºéŒ¯ï¼Œéœ€è¦å¾©åŸæˆ–é‡æ–°é–‹å§‹ã€‚

**æ“ä½œ**

1. **å¾©åŸä¸Šä¸€æ­¥**ï¼šé»æ“Šå¾©åŸåœ–ç¤ºï¼ˆâ†©ï¸ï¼‰æˆ–æŒ‰ `Cmd+Z` / `Ctrl+Z`
2. **æ¸…é™¤æ‰€æœ‰æ¨™è¨»**ï¼šé»æ“Šæ¸…é™¤åœ–ç¤ºï¼ˆâŒï¼‰

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å¾©åŸï¼šæœ€å¾Œä¸€æ¬¡ç¹ªè£½çš„æ¨™è¨»æ¶ˆå¤±
- æ¸…é™¤ï¼šæ‰€æœ‰æ¨™è¨»è¢«ç§»é™¤ï¼Œæ¢å¾©åˆ°åŸå§‹åœ–ç‰‡

::: warning æ¸…é™¤æç¤º
æ¸…é™¤æ“ä½œä¸å¯å¾©åŸï¼Œè«‹è¬¹æ…ä½¿ç”¨ã€‚å»ºè­°å…ˆç”¨å¾©åŸé€æ­¥å›é€€ã€‚
:::

### ç¬¬ 10 æ­¥ï¼šå„²å­˜æ¨™è¨»

**ç‚ºä»€éº¼**
å„²å­˜æ¨™è¨»å¾Œï¼Œåœ–ç‰‡æœƒè¢«åˆä½µåˆ°è¨»è§£ä¸­ï¼Œå¯ä»¥åœ¨å¯©æŸ¥ä¸­æª¢è¦–ã€‚

**æ“ä½œ**

1. é»æ“Šå·¥å…·åˆ—å³å´çš„å„²å­˜åœ–ç¤ºï¼ˆâœ…ï¼‰
2. æˆ–æŒ‰ `Esc` æˆ– `Enter` éµ
3. æˆ–é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨å€åŸŸ

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å½ˆå‡ºè¦–çª—é—œé–‰
- åœ–ç‰‡ç¸®åœ–æ›´æ–°ç‚ºæ¨™è¨»å¾Œçš„ç‰ˆæœ¬
- åœ–ç‰‡å·²é™„åŠ åˆ°ç›®å‰è¨»è§£ä¸­

::: tip å„²å­˜æ©Ÿåˆ¶
- å¦‚æœ**æ²’æœ‰ç¹ªè£½ä»»ä½•æ¨™è¨»**ï¼Œç›´æ¥å„²å­˜åŸå§‹åœ–ç‰‡
- å¦‚æœ**æœ‰æ¨™è¨»**ï¼Œå°‡åŸå§‹åœ–ç‰‡å’Œæ¨™è¨»åˆä½µç‚ºä¸€å¼µæ–°åœ–ç‰‡
- åˆä½µå¾Œçš„åœ–ç‰‡ä»¥ PNG æ ¼å¼å„²å­˜ï¼Œä¿æŒé«˜å“è³ª
:::

## æª¢æŸ¥é» âœ…

**é©—è­‰ä½ çš„å­¸ç¿’æˆæœ**ï¼š

- [ ] èƒ½æˆåŠŸä¸Šå‚³åœ–ç‰‡åˆ°å¯©æŸ¥é é¢
- [ ] èƒ½ä½¿ç”¨ç•«ç­†ã€ç®­é ­ã€åœ“å½¢ä¸‰ç¨®å·¥å…·ç¹ªè£½æ¨™è¨»
- [ ] èƒ½èª¿æ•´æ¨™è¨»é¡è‰²å’Œç­†è§¸å¤§å°
- [ ] èƒ½ä½¿ç”¨å¿«æ·éµï¼ˆ1/2/3ã€Cmd+Zã€Escï¼‰å¿«é€Ÿæ“ä½œ
- [ ] èƒ½å¾©åŸéŒ¯èª¤çš„æ¨™è¨»
- [ ] èƒ½å„²å­˜æ¨™è¨»å¾Œçš„åœ–ç‰‡

## è¸©å‘æé†’

### å•é¡Œ 1ï¼šç®­é ­æ–¹å‘åäº†

**ç¾è±¡**ï¼šç®­é ­æŒ‡å‘äº†éŒ¯èª¤çš„æ–¹å‘ã€‚

**åŸå› **ï¼šç®­é ­å·¥å…·å¾èµ·é»ï¼ˆå°¾éƒ¨ï¼‰åˆ°çµ‚é»ï¼ˆé ­éƒ¨ï¼‰ç¹ªè£½ã€‚

**è§£æ±º**ï¼š
- é‡æ–°ç¹ªè£½ï¼Œç¢ºä¿èµ·é»æ˜¯ç®­é ­å°¾éƒ¨ï¼Œçµ‚é»æ˜¯ç®­é ­é ­éƒ¨
- å¦‚æœå·²ç¹ªè£½ï¼Œå¾©åŸå¾Œé‡ç•«

### å•é¡Œ 2ï¼šåœ“å½¢ä½ç½®ä¸å°

**ç¾è±¡**ï¼šåœ“å½¢æ²’æœ‰åœˆé¸åˆ°ç›®æ¨™å€åŸŸã€‚

**åŸå› **ï¼šåœ“å½¢å·¥å…·å¾é‚Šç·£åˆ°é‚Šç·£ç¹ªè£½ï¼Œä¸­å¿ƒæ˜¯å…©é»ï¿½ï¿½ï¿½é»ã€‚

**è§£æ±º**ï¼š
- ç¬¬ä¸€æ¬¡é»æ“Šåœ¨ç›®æ¨™å€åŸŸçš„é‚Šç·£
- æ‹–æ›³åˆ°å°é‚Šï¼Œç¢ºä¿ç›®æ¨™å€åŸŸåœ¨åœ“å…§
- èª¿æ•´æ™‚å¯ä»¥å¾©åŸé‡ç•«

### å•é¡Œ 3ï¼šç­†è§¸å¤ªç²—æˆ–å¤ªç´°

**ç¾è±¡**ï¼šæ¨™è¨»æ•ˆæœä¸ç†æƒ³ã€‚

**åŸå› **ï¼šç­†è§¸å¤§å°ä¸é©åˆç›®å‰æƒ…å¢ƒã€‚

**è§£æ±º**ï¼š
- ä½¿ç”¨å·¥å…·åˆ—çš„ `-` æˆ– `+` æŒ‰éˆ•èª¿æ•´ç­†è§¸å¤§å°
- å°å…ƒç´ ç”¨ 3-6ï¼Œå¤§å€åŸŸç”¨ 10-24

### å•é¡Œ 4ï¼šé¡è‰²çœ‹ä¸æ¸…

**ç¾è±¡**ï¼šåœ¨æ·±è‰²èƒŒæ™¯ä¸Šä½¿ç”¨é»‘è‰²ç­†è§¸ï¼Œçœ‹ä¸æ¸…æ¨™è¨»ã€‚

**åŸå› **ï¼šé¡è‰²é¸æ“‡ä¸ç•¶ã€‚

**è§£æ±º**ï¼š
- æ·±è‰²èƒŒæ™¯ä½¿ç”¨ç™½è‰²æˆ–é»ƒè‰²
- æ·ºè‰²èƒŒæ™¯ä½¿ç”¨ç´…è‰²ã€ç¶ è‰²æˆ–è—è‰²

## å¿«æ·éµé€ŸæŸ¥

| å¿«æ·éµ | åŠŸèƒ½ |
| ------ | ---- |
| `1` | åˆ‡æ›åˆ°ç•«ç­†å·¥å…· |
| `2` | åˆ‡æ›åˆ°ç®­é ­å·¥å…· |
| `3` | åˆ‡æ›åˆ°åœ“å½¢å·¥å…· |
| `Cmd+Z` / `Ctrl+Z` | å¾©åŸä¸Šä¸€æ­¥ |
| `Esc` / `Enter` | å„²å­˜æ¨™è¨» |

## æœ¬èª²å°çµ

æœ¬èª²ä½ å­¸æœƒäº†ï¼š

1. **ä¸Šå‚³åœ–ç‰‡**ï¼šé€éä¸Šå‚³æŒ‰éˆ•æˆ–è²¼ä¸Šåˆ°å¯©æŸ¥é é¢
2. **ä¸‰ç¨®æ¨™è¨»å·¥å…·**ï¼š
   - ç•«ç­†ï¼ˆ1ï¼‰ï¼šè‡ªç”±ç¹ªè£½ï¼Œé©åˆæ‰‹å¯«è¨»è§£
   - ç®­é ­ï¼ˆ2ï¼‰ï¼šé»å°é»æ¨™è¨»ï¼Œé©åˆæŒ‡ç¤ºé‡é»
   - åœ“å½¢ï¼ˆ3ï¼‰ï¼šåœˆé¸å€åŸŸï¼Œé©åˆçªé¡¯
3. **èª¿æ•´æ¨™è¨»æ¨£å¼**ï¼š5 ç¨®é¡è‰²ã€5 ç¨®ç­†è§¸å¤§å°
4. **å¾©åŸå’Œæ¸…é™¤**ï¼šä¿®æ­£éŒ¯èª¤çš„æ¨™è¨»
5. **å„²å­˜æ¨™è¨»**ï¼šå°‡æ¨™è¨»åˆä½µåˆ°åœ–ç‰‡ä¸­

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[ç¨‹å¼ç¢¼å¯©æŸ¥åŸºç¤](../code-review-basics/)**ã€‚
>
> ä½ æœƒå­¸åˆ°ï¼š
> - å¦‚ä½•ä½¿ç”¨ /plannotator-review å‘½ä»¤å¯©æŸ¥ git diff
> - åœ¨ side-by-side å’Œ unified æª¢è¦–é–“åˆ‡æ›
> - é»æ“Šè¡Œè™Ÿé¸æ“‡ç¨‹å¼ç¢¼ç¯„åœ
> - æ–°å¢è¡Œç´šè¨»è§£ï¼ˆcomment/suggestion/concernï¼‰
> - åˆ‡æ›ä¸åŒçš„ diff é¡å‹
> - å°‡å›é¥‹å‚³é€çµ¦ AI Agent

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»æ“Šå±•é–‹æª¢è¦–åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-24

| åŠŸèƒ½          | æª”æ¡ˆè·¯å¾‘                                                                                              | è¡Œè™Ÿ    |
| ------------- | ----------------------------------------------------------------------------------------------------- | ------- |
| å·¥å…·é¡å‹å®šç¾©   | [`packages/ui/components/ImageAnnotator/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/types.ts#L1-L40) | 1-40    |
| æ¸²æŸ“å‡½å¼       | [`packages/ui/components/ImageAnnotator/utils.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/utils.ts#L1-L148) | 1-148   |
| ä¸»å…ƒä»¶         | [`packages/ui/components/ImageAnnotator/index.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/index.tsx#L1-L233) | 1-233   |
| å·¥å…·åˆ—å…ƒä»¶     | [`packages/ui/components/ImageAnnotator/Toolbar.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/Toolbar.tsx#L1-L219) | 1-219   |
| Annotation ä»‹é¢ | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L11-L33)                 | 11-33   |

**é—œéµé¡å‹**ï¼š

**Tool**ï¼ˆå·¥å…·é¡å‹ï¼‰ï¼š
```typescript
export type Tool = 'pen' | 'arrow' | 'circle';
```

**Point**ï¼ˆåº§æ¨™é»ï¼‰ï¼š
```typescript
export interface Point {
  x: number;
  y: number;
  pressure?: number;
}
```

**Stroke**ï¼ˆç­†è§¸ï¼‰ï¼š
```typescript
export interface Stroke {
  id: string;
  tool: Tool;
  points: Point[];
  color: string;
  size: number;
}
```

**AnnotatorState**ï¼ˆæ¨™è¨»å™¨ç‹€æ…‹ï¼‰ï¼š
```typescript
export interface AnnotatorState {
  tool: Tool;
  color: string;
  strokeSize: number;
  strokes: Stroke[];
  currentStroke: Stroke | null;
}
```

**COLORS**ï¼ˆé¡è‰²é™£åˆ—ï¼‰ï¼š
```typescript
export const COLORS = [
  '#ef4444', // red
  '#eab308', // yellow
  '#22c55e', // green
  '#3b82f6', // blue
  '#ffffff', // white
] as const;
```

**STROKE_SIZES**ï¼ˆç­†è§¸å¤§å°ï¼‰ï¼š
```typescript
const STROKE_SIZES = [3, 6, 10, 16, 24];
```

**é—œéµå‡½å¼**ï¼š

**renderPenStroke()**ï¼ˆæ¸²æŸ“ç•«ç­†ç­†è§¸ï¼‰ï¼š
- ä½¿ç”¨ perfect-freehand å‡½å¼åº«å¯¦ç¾å¹³æ»‘æ‰‹ç¹ªæ•ˆæœ
- æ”¯æ´å£“åŠ›æ„Ÿæ‡‰ï¼ˆpressure æ¬„ä½ï¼‰

**renderArrow()**ï¼ˆæ¸²æŸ“ç®­é ­ï¼‰ï¼š
- å¾èµ·é»ç¹ªè£½ç›´ç·šåˆ°çµ‚é»
- åœ¨çµ‚é»ç¹ªè£½ç®­é ­é ­éƒ¨

**renderCircle()**ï¼ˆæ¸²æŸ“åœ“å½¢ï¼‰ï¼š
- è¨ˆç®—å…©é»ä¸­é»ä½œç‚ºåœ“å¿ƒ
- è¨ˆç®—å…©é»è·é›¢çš„ä¸€åŠä½œç‚ºåŠå¾‘

**renderStroke()**ï¼ˆæ ¹æ“šå·¥å…·é¡å‹æ¸²æŸ“ï¼‰ï¼š
- æ ¹æ“š tool æ¬„ä½å‘¼å«å°æ‡‰çš„æ¸²æŸ“å‡½å¼
- æ”¯æ´ç¸®æ”¾ï¼ˆscale åƒæ•¸ï¼‰

**Annotation.imagePaths**ï¼ˆé™„åŠ åœ–ç‰‡æ¬„ä½ï¼‰ï¼š
```typescript
export interface Annotation {
  // ...
  imagePaths?: string[]; // Attached images (local paths or URLs)
}
```

**å¿«æ·éµè™•ç†**ï¼ˆindex.tsx:33-59ï¼‰ï¼š
```typescript
// 1/2/3 to switch tools
if (e.key === '1') setState(s => ({ ...s, tool: 'pen' }));
if (e.key === '2') setState(s => ({ ...s, tool: 'arrow' }));
if (e.key === '3') setState(s => ({ ...s, tool: 'circle' }));

// Cmd+Z to undo
if ((e.metaKey || e.ctrlKey) && e.key === 'z') {
  e.preventDefault();
  handleUndo();
}
```

</details>
