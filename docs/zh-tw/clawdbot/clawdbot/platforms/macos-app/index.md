---
title: "macOS æ‡‰ç”¨ç¨‹å¼å®Œæ•´æŒ‡å—ï¼šé¸å–®åˆ—ã€Voice Wakeã€Talk Mode èˆ‡ç¯€é»æ¨¡å¼ | Clawdbot æ•™å­¸"
sidebarTitle: "Mac è®Šæˆ AI åŠ©æ‰‹"
subtitle: "macOS æ‡‰ç”¨ç¨‹å¼å®Œæ•´æŒ‡å—ï¼šé¸å–®åˆ—ã€Voice Wakeã€Talk Mode èˆ‡ç¯€é»æ¨¡å¼"
description: "å­¸ç¿’ Clawdbot macOS æ‡‰ç”¨ç¨‹å¼çš„å®Œæ•´åŠŸèƒ½ï¼ŒåŒ…æ‹¬é¸å–®åˆ—ç‹€æ…‹ç®¡ç†ã€WebChat å…§åµŒè¦–çª—ã€Voice Wake èªéŸ³å–šé†’ã€Talk Mode é€£çºŒå°è©±ã€ç¯€é»æ¨¡å¼åŸ·è¡Œã€Exec Approvals å®‰å…¨æ§åˆ¶å’Œ SSH/Tailscale é ç«¯å­˜å–è¨­å®šã€‚æŒæ¡æœ¬æ©Ÿ vs é ç«¯æ¨¡å¼çš„åˆ‡æ›å’Œæ¬Šé™ç®¡ç†æœ€ä½³å¯¦å‹™ã€‚"
tags:
  - "macOS"
  - "é¸å–®åˆ—æ‡‰ç”¨ç¨‹å¼"
  - "Voice Wake"
  - "Talk Mode"
  - "ç¯€é»æ¨¡å¼"
prerequisite:
  - "start-getting-started"
order: 160
---

# macOS æ‡‰ç”¨ç¨‹å¼ï¼šé¸å–®åˆ—æ§åˆ¶èˆ‡èªéŸ³äº’å‹•

## å­¸å®Œä½ èƒ½åšä»€éº¼

å®Œæˆæœ¬æ•™å­¸å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š

- âœ… äº†è§£ Clawdbot macOS æ‡‰ç”¨ç¨‹å¼ä½œç‚ºé¸å–®åˆ—æ§åˆ¶å¹³é¢çš„æ ¸å¿ƒåŠŸèƒ½
- âœ… æŒæ¡ Voice Wake èªéŸ³å–šé†’å’Œ Talk Mode é€£çºŒå°è©±çš„ä½¿ç”¨
- âœ… ç†è§£ç¯€é»æ¨¡å¼ä¸‹çš„ `system.run`ã€Canvasã€Camera ç­‰èƒ½åŠ›
- âœ… è¨­å®šæœ¬æ©Ÿ vs é ç«¯æ¨¡å¼ä»¥é©æ‡‰ä¸åŒéƒ¨ç½²å ´æ™¯
- âœ… ç®¡ç† Exec Approvals å¯©æ‰¹æ©Ÿåˆ¶ä»¥æ§åˆ¶æŒ‡ä»¤åŸ·è¡Œæ¬Šé™
- âœ… ä½¿ç”¨æ·±åº¦éˆçµå¿«é€Ÿè§¸ç™¼ AI åŠ©æ‰‹
- âœ… é€é SSH/Tailscale é ç«¯å­˜å–å’Œæ§åˆ¶ Gateway

## ä½ ç¾åœ¨çš„å›°å¢ƒ

ä½ å¯èƒ½æ­£åœ¨æƒ³ï¼š

- "macOS æ‡‰ç”¨ç¨‹å¼åˆ°åº•æ˜¯åšä»€éº¼çš„ï¼Ÿæ˜¯ Gateway æœ¬èº«å—ï¼Ÿ"
- "Voice Wake å’Œ Talk Mode æ€éº¼ç”¨ï¼Ÿéœ€è¦é¡å¤–ç¡¬é«”å—ï¼Ÿ"
- "ç¯€é»æ¨¡å¼å’Œæ™®é€šæ¨¡å¼æœ‰ä»€éº¼å€åˆ¥ï¼Ÿä»€éº¼æ™‚å€™ç”¨å“ªå€‹ï¼Ÿ"
- "å¦‚ä½•åœ¨ macOS ä¸Šç®¡ç†æ¬Šé™å’Œå®‰å…¨è¨­å®šï¼Ÿ"
- "æˆ‘å¯ä»¥åœ¨å¦ä¸€å°æ©Ÿå™¨ä¸ŠåŸ·è¡Œ Gateway å—ï¼Ÿ"

å¥½æ¶ˆæ¯æ˜¯ï¼š**Clawdbot macOS æ‡‰ç”¨ç¨‹å¼æ˜¯ Gateway çš„åœ–å½¢åŒ–æ§åˆ¶å¹³é¢**ï¼Œå®ƒä¸åŸ·è¡Œ Gateway æœå‹™ï¼Œè€Œæ˜¯é€£æ¥ã€ç®¡ç†å’Œç›£æ§ã€‚åŒæ™‚ï¼Œå®ƒä¹Ÿä½œç‚ºç¯€é»æš´éœ² macOS ç‰¹æœ‰åŠŸèƒ½ï¼ˆå¦‚ `system.run`ã€Canvasã€Cameraï¼‰çµ¦é ç«¯ Gatewayã€‚

## ä»€éº¼æ™‚å€™ç”¨é€™ä¸€æ‹›

ç•¶ä½ éœ€è¦ï¼š

- ğŸ–¥ï¸ **macOS åœ–å½¢åŒ–ç®¡ç†** â€”â€” é¸å–®åˆ—ç‹€æ…‹å’Œæ§åˆ¶ï¼Œæ¯”æŒ‡ä»¤åˆ—æ›´ç›´è§€
- ğŸ™ï¸ **èªéŸ³äº’å‹•** â€”â€” Voice Wake å–šé†’ + Talk Mode é€£çºŒå°è©±
- ğŸ’» **æœ¬æ©ŸæŒ‡ä»¤åŸ·è¡Œ** â€”â€” åœ¨ macOS ç¯€é»ä¸ŠåŸ·è¡Œ `system.run` ç­‰æŒ‡ä»¤
- ğŸ¨ **Canvas è¦–è¦ºåŒ–** â€”â€” åœ¨ macOS ä¸Šæ¸²æŸ“ AI é©…å‹•çš„è¦–è¦ºåŒ–ä»‹é¢
- ğŸ“· **è£ç½®åŠŸèƒ½** â€”â€” Camera æ‹ç…§ã€éŒ„å½±å’Œè¢å¹•éŒ„è£½
- ğŸŒ **é ç«¯å­˜å–** â€”â€” é€é SSH/Tailscale æ§åˆ¶é ç«¯ Gateway

::: info ç¯€é» vs Gateway çš„å€åˆ¥
- **Gateway**ï¼šåŸ·è¡Œ AI æ¨¡å‹ã€ç®¡ç†æœƒè©±ã€è™•ç†è¨Šæ¯ï¼ˆå¯ä»¥åœ¨ä»»ä½•æ©Ÿå™¨ä¸ŠåŸ·è¡Œï¼‰
- **ç¯€é»ï¼ˆNodeï¼‰**ï¼šæš´éœ²è£ç½®æœ¬æ©ŸåŠŸèƒ½ï¼ˆCanvasã€Cameraã€system.runï¼‰çµ¦ Gateway
- **macOS æ‡‰ç”¨ç¨‹å¼**ï¼šæ—¢å¯ä»¥æ˜¯ Gateway å®¢æˆ¶ç«¯ï¼Œä¹Ÿå¯ä»¥ä½œç‚ºç¯€é»ä½¿ç”¨
:::

---

## æ ¸å¿ƒæ€è·¯

Clawdbot macOS æ‡‰ç”¨ç¨‹å¼æ˜¯ä¸€å€‹**é›™é‡è§’è‰²**çš„ç³»çµ±ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Clawdbot.app (macOS æ‡‰ç”¨ç¨‹å¼)       â”‚
â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  é¸å–®åˆ—æ§åˆ¶å¹³é¢          â”‚      â”‚
â”‚   â”‚  â€¢ Gateway é€£æ¥ç®¡ç†         â”‚â—„â”€â”€â”€â”€â–º Gateway WebSocket
â”‚   â”‚  â€¢ WebChat å…§åµŒè¦–çª—       â”‚      â”‚
â”‚   â”‚  â€¢ è¨­å®šå’Œé…ç½®             â”‚      â”‚
â”‚   â”‚  â€¢ Voice Wake/Talk Mode    â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  ç¯€é»æœå‹™              â”‚      â”‚
â”‚   â”‚  â€¢ system.run              â”‚â—„â”€â”€â”€â”€â–º Gateway ç¯€é»å”å®š
â”‚   â”‚  â€¢ Canvas                 â”‚      â”‚
â”‚   â”‚  â€¢ Camera/Screen          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…©ç¨®åŸ·è¡Œæ¨¡å¼**ï¼š

| æ¨¡å¼ | Gateway ä½ç½® | ç¯€é»æœå‹™ | é©ç”¨å ´æ™¯ |
|--- | --- | --- | ---|
| **æœ¬æ©Ÿæ¨¡å¼**ï¼ˆé è¨­ï¼‰ | æœ¬æ©Ÿï¼ˆlaunchd å®ˆè­·ç¨‹åºï¼‰ | ä¸å•Ÿå‹• | Gateway åœ¨é€™å° Mac ä¸ŠåŸ·è¡Œ |
| **é ç«¯æ¨¡å¼** | é ç«¯æ©Ÿå™¨ï¼ˆé€é SSH/Tailscaleï¼‰ | å•Ÿå‹• | Gateway åœ¨å…¶ä»–æ©Ÿå™¨ä¸ŠåŸ·è¡Œ |

**æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„**ï¼š

1. **é¸å–®åˆ—æ§åˆ¶** â€”â€” Gateway é€£æ¥ç‹€æ…‹ã€WebChatã€è¨­å®šã€æœƒè©±ç®¡ç†
2. **Voice Wake** â€”â€” å…¨åŸŸèªéŸ³å–šé†’è©ç›£è½
3. **Talk Mode** â€”â€” é€£çºŒèªéŸ³å°è©±è¿´åœˆï¼ˆèªéŸ³è¼¸å…¥ â†’ AI å›è¦† â†’ TTS æ’­æ”¾ï¼‰
4. **ç¯€é»æ¨¡å¼** â€”â€” æš´éœ² macOS ç‰¹æœ‰æŒ‡ä»¤ï¼ˆ`system.run`ã€`canvas.*`ã€`camera.*`ï¼‰
5. **Exec Approvals** â€”â€” `system.run` æŒ‡ä»¤åŸ·è¡Œå¯©æ‰¹å’Œå®‰å…¨æ§åˆ¶
6. **æ·±åº¦éˆçµ** â€”â€” `clawdbot://` å”å®šå¿«é€Ÿè§¸ç™¼åŠŸèƒ½

---

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šå®‰è£å’Œå•Ÿå‹• macOS æ‡‰ç”¨ç¨‹å¼

**ç‚ºä»€éº¼**
ä½ éœ€è¦å®‰è£ Clawdbot macOS æ‡‰ç”¨ç¨‹å¼ä¾†ç²å¾—é¸å–®åˆ—æ§åˆ¶å’ŒèªéŸ³åŠŸèƒ½ã€‚

**å®‰è£æ–¹å¼**ï¼š

::: code-group

```bash [ä½¿ç”¨ Homebrew å®‰è£]
brew install --cask clawdbot
```

```bash [æ‰‹å‹•ä¸‹è¼‰ .dmg]
# å¾ https://github.com/clawdbot/clawdbot/releases ä¸‹è¼‰æœ€æ–°çš„ Clawdbot.app.dmg
# æ‹–æ›³åˆ° Applications è³‡æ–™å¤¾
```

:::

**é¦–æ¬¡å•Ÿå‹•**ï¼š

```bash
open /Applications/Clawdbot.app
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- macOS é ‚éƒ¨é¸å–®åˆ—å‡ºç¾ ğŸ¦ åœ–ç¤º
- é»æ“Šåœ–ç¤ºå±•é–‹ä¸‹æ‹‰é¸å–®
- ç³»çµ±å½ˆå‡º TCC æ¬Šé™è«‹æ±‚å°è©±æ¡†

::: tip ç¬¬ä¸€æ¬¡å•Ÿå‹•çš„æ¬Šé™è«‹æ±‚
macOS æ‡‰ç”¨ç¨‹å¼éœ€è¦ä»¥ä¸‹æ¬Šé™ï¼ˆç³»çµ±æœƒè‡ªå‹•å½ˆå‡ºæç¤ºï¼‰ï¼š
- **é€šçŸ¥æ¬Šé™** â€”â€” é¡¯ç¤ºç³»çµ±é€šçŸ¥
- **è¼”åŠ©åŠŸèƒ½æ¬Šé™** â€”â€” ç”¨æ–¼ Voice Wake å’Œç³»çµ±æ“ä½œ
- **éº¥å…‹é¢¨æ¬Šé™** â€”â€” Voice Wake å’Œ Talk Mode éœ€è¦
- **è¢å¹•éŒ„è£½æ¬Šé™** â€”â€” Canvas å’Œè¢å¹•éŒ„è£½åŠŸèƒ½
- **èªéŸ³è¾¨è­˜æ¬Šé™** â€”â€” Voice Wake çš„èªéŸ³è¼¸å…¥
- **è‡ªå‹•åŒ–æ¬Šé™** â€”â€” AppleScript æ§åˆ¶ï¼ˆå¦‚éœ€è¦ï¼‰

æ‰€æœ‰é€™äº›æ¬Šé™éƒ½æ˜¯**å®Œå…¨æœ¬æ©Ÿ**ä½¿ç”¨ï¼Œä¸æœƒä¸Šå‚³åˆ°ä»»ä½•ä¼ºæœå™¨ã€‚
:::

---

### ç¬¬ 2 æ­¥ï¼šè¨­å®šé€£æ¥æ¨¡å¼ï¼ˆæœ¬æ©Ÿ vs é ç«¯ï¼‰

**ç‚ºä»€éº¼**
æ ¹æ“šä½ çš„éƒ¨ç½²éœ€æ±‚é¸æ“‡æœ¬æ©Ÿæˆ–é ç«¯æ¨¡å¼ã€‚

#### æ¨¡å¼ Aï¼šæœ¬æ©Ÿæ¨¡å¼ï¼ˆé è¨­ï¼‰

é©ç”¨å ´æ™¯ï¼šGateway å’Œ macOS æ‡‰ç”¨ç¨‹å¼åœ¨åŒä¸€å°æ©Ÿå™¨ä¸ŠåŸ·è¡Œã€‚

**è¨­å®šæ­¥é©Ÿ**ï¼š

1. ç¢ºä¿é¸å–®åˆ—æ‡‰ç”¨ç¨‹å¼ä¸­é¡¯ç¤º **Local** æ¨¡å¼
2. å¦‚æœ Gateway æœªåŸ·è¡Œï¼Œæ‡‰ç”¨ç¨‹å¼æœƒè‡ªå‹•å•Ÿå‹• `com.clawdbot.gateway` launchd æœå‹™
3. æ‡‰ç”¨ç¨‹å¼æœƒé€£æ¥åˆ° `ws://127.0.0.1:18789`

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- é¸å–®åˆ—åœ–ç¤ºé¡¯ç¤ºç¶ è‰²ï¼ˆå·²é€£æ¥ç‹€æ…‹ï¼‰
- Gateway ç‹€æ…‹å¡ç‰‡é¡¯ç¤º"Local"
- ç¯€é»æœå‹™**æœªå•Ÿå‹•**ï¼ˆç¯€é»æ¨¡å¼åœ¨é ç«¯æ¨¡å¼ä¸‹æ‰éœ€è¦ï¼‰

#### æ¨¡å¼ Bï¼šé ç«¯æ¨¡å¼

é©ç”¨å ´æ™¯ï¼šGateway åœ¨å¦ä¸€å°æ©Ÿå™¨ï¼ˆå¦‚ä¼ºæœå™¨æˆ– Linux VPSï¼‰ä¸ŠåŸ·è¡Œï¼Œä½ æƒ³é€é Mac æ§åˆ¶å®ƒã€‚

**è¨­å®šæ­¥é©Ÿ**ï¼š

1. åœ¨é¸å–®åˆ—æ‡‰ç”¨ç¨‹å¼ä¸­åˆ‡æ›åˆ° **Remote** æ¨¡å¼
2. è¼¸å…¥é ç«¯ Gateway çš„ WebSocket ä½å€ï¼ˆå¦‚ `ws://your-server:18789`ï¼‰
3. é¸æ“‡èªè­‰æ–¹å¼ï¼ˆToken æˆ– Passwordï¼‰
4. æ‡‰ç”¨ç¨‹å¼æœƒè‡ªå‹•å»ºç«‹ SSH éš§é“é€£æ¥é ç«¯ Gateway

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- é¸å–®åˆ—åœ–ç¤ºé¡¯ç¤ºé€£æ¥ç‹€æ…‹ï¼ˆé»ƒè‰²/ç¶ è‰²/ç´…è‰²ï¼‰
- Gateway ç‹€æ…‹å¡ç‰‡é¡¯ç¤ºé ç«¯ä¼ºæœå™¨ä½å€
- ç¯€é»æœå‹™**è‡ªå‹•å•Ÿå‹•**ï¼ˆä»¥ä¾¿é ç«¯ Gateway å‘¼å«æœ¬æ©ŸåŠŸèƒ½ï¼‰

**é ç«¯æ¨¡å¼çš„éš§é“æ©Ÿåˆ¶**ï¼š

```
macOS æ‡‰ç”¨ç¨‹å¼                     é ç«¯ Gateway
    â”‚                                  â”‚
    â”œâ”€â”€ SSH éš§é“ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ws://remote:18789
    â”‚                                  â”‚
    â””â”€â”€ ç¯€é»æœå‹™ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ node.invoke
```

::: tip é ç«¯æ¨¡å¼çš„å„ªå‹¢
- **é›†ä¸­ç®¡ç†**ï¼šåœ¨ä¸€å°å¼·å¤§çš„æ©Ÿå™¨ä¸ŠåŸ·è¡Œ Gatewayï¼Œå¤šå°å®¢æˆ¶ç«¯å­˜å–
- **è³‡æºæœ€ä½³åŒ–**ï¼šMac å¯ä»¥ä¿æŒè¼•é‡ï¼ŒGateway åŸ·è¡Œåœ¨é«˜æ•ˆèƒ½ä¼ºæœå™¨ä¸Š
- **è£ç½®æœ¬åœ°åŒ–**ï¼šCanvasã€Camera ç­‰åŠŸèƒ½ä»åœ¨ Mac æœ¬æ©ŸåŸ·è¡Œ
:::

---

### ç¬¬ 3 æ­¥ï¼šä½¿ç”¨é¸å–®åˆ—æ§åˆ¶å¹³é¢

**ç‚ºä»€éº¼**
é¸å–®åˆ—æ‡‰ç”¨ç¨‹å¼æä¾›äº†å¿«é€Ÿå­˜å–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½çš„ä»‹é¢ã€‚

**æ ¸å¿ƒé¸å–®é …**ï¼š

é»æ“Šé¸å–®åˆ—åœ–ç¤ºå¾Œï¼Œä½ æœƒçœ‹åˆ°ï¼š

1. **ç‹€æ…‹å¡ç‰‡**
   - Gateway é€£æ¥ç‹€æ…‹ï¼ˆå·²é€£æ¥/æ–·é–‹/é€£æ¥ä¸­ï¼‰
   - ç›®å‰æ¨¡å¼ï¼ˆLocal/Remoteï¼‰
   - åŸ·è¡Œçš„é »é“åˆ—è¡¨ï¼ˆWhatsAppã€Telegram ç­‰ï¼‰

2. **å¿«é€Ÿæ“ä½œ**
   - **Agent** â€”â€” é–‹å•Ÿ AI å°è©±è¦–çª—ï¼ˆå‘¼å« Gatewayï¼‰
   - **WebChat** â€”â€” é–‹å•Ÿå…§åµŒ WebChat ä»‹é¢
   - **Canvas** â€”â€” é–‹å•Ÿ Canvas è¦–è¦ºåŒ–è¦–çª—
   - **Settings** â€”â€” é–‹å•Ÿè¨­å®šä»‹é¢

3. **åŠŸèƒ½é–‹é—œ**
   - **Talk** â€”â€” å•Ÿç”¨/åœç”¨ Talk Mode
   - **Voice Wake** â€”â€” å•Ÿç”¨/åœç”¨ Voice Wake

4. **è³‡è¨Šé¸å–®**
   - **Usage** â€”â€” æŸ¥çœ‹ä½¿ç”¨çµ±è¨ˆå’Œæˆæœ¬
   - **Sessions** â€”â€” ç®¡ç†æœƒè©±åˆ—è¡¨
   - **Channels** â€”â€” æŸ¥çœ‹é »é“ç‹€æ…‹
   - **Skills** â€”â€” ç®¡ç†æŠ€èƒ½åŒ…

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å³æ™‚æ›´æ–°çš„ç‹€æ…‹æŒ‡ç¤ºå™¨ï¼ˆç¶ è‰² = æ­£å¸¸ï¼Œç´…è‰² = æ–·é–‹ï¼‰
- æ»‘é¼ æ¸¸æ¨™æ‡¸åœé¡¯ç¤ºè©³ç´°çš„é€£æ¥è³‡è¨Š
- é»æ“Šä»»ä½•é¸å–®é …éƒ½èƒ½å¿«é€Ÿé–‹å•Ÿå°æ‡‰åŠŸèƒ½

---

### ç¬¬ 4 æ­¥ï¼šè¨­å®šå’Œä½¿ç”¨ Voice Wake

**ç‚ºä»€éº¼**
Voice Wake å…è¨±ä½ é€éèªéŸ³å–šé†’è©è§¸ç™¼ AI åŠ©æ‰‹ï¼Œç„¡éœ€é»æ“Šæˆ–è¼¸å…¥ã€‚

**Voice Wake é‹ä½œåŸç†**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Voice Wake é‹è¡Œæ™‚          â”‚
â”‚                              â”‚
â”‚   ç›£è½éº¥å…‹é¢¨ â”€â”€â–º æª¢æ¸¬å–šé†’è©  â”‚
â”‚                              â”‚
â”‚   å–šé†’è©åŒ¹é…ï¼Ÿ                   â”‚
â”‚       â”‚                       â”‚
â”‚       â”œâ”€ æ˜¯ â”€â”€â–º è§¸ç™¼ Agent  â”‚
â”‚       â”‚                       â”‚
â”‚       â””â”€ å¦ â”€â”€â–º ç¹¼çºŒç›£è½  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¨­å®š Voice Wake**ï¼š

1. é–‹å•Ÿ **Settings** â†’ **Voice Wake**
2. è¼¸å…¥å–šé†’è©ï¼ˆé è¨­ï¼š`clawd`ã€`claude`ã€`computer`ï¼‰
3. å¯ä»¥æ–°å¢å¤šå€‹å–šé†’è©ï¼ˆç”¨é€—è™Ÿåˆ†éš”ï¼‰
4. å•Ÿç”¨ **Enable Voice Wake** é–‹é—œ

**å–šé†’è©è¦å‰‡**ï¼š
- å–šé†’è©å„²å­˜åœ¨ Gatewayï¼š`~/.clawdbot/settings/voicewake.json`
- æ‰€æœ‰ç¯€é»å…±äº«**åŒä¸€ä»½å…¨åŸŸå–šé†’è©åˆ—è¡¨**
- æ›´æ”¹å¾Œå»£æ’­åˆ°æ‰€æœ‰é€£æ¥çš„è£ç½®ï¼ˆmacOSã€iOSã€Androidï¼‰

**ä½¿ç”¨æµç¨‹**ï¼š

1. ç¢ºä¿éº¥å…‹é¢¨æ¬Šé™å·²æˆäºˆ
2. åœ¨é¸å–®åˆ—å•Ÿç”¨ Voice Wake
3. å°è‘—éº¥å…‹é¢¨èªªå–šé†’è©ï¼ˆå¦‚"Hey clawd"ï¼‰
4. ç­‰å¾…è½åˆ°"å®"æç¤ºéŸ³ï¼ˆè¡¨ç¤ºå–šé†’æˆåŠŸï¼‰
5. èªªå‡ºä½ çš„æŒ‡ä»¤æˆ–å•é¡Œ

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- è¢å¹•ä¸­å¤®å‡ºç¾ Voice Wake å åŠ å±¤
- é¡¯ç¤ºéº¥å…‹é¢¨éŸ³é‡æ³¢å½¢
- é¡¯ç¤º"Listening"ç‹€æ…‹æ–‡å­—
- AI é–‹å§‹è™•ç†ä½ çš„èªéŸ³è¼¸å…¥

::: tip Voice Wake çš„å…¨åŸŸç‰¹æ€§
å–šé†’è©æ˜¯ **Gateway å±¤ç´šçš„å…¨åŸŸè¨­å®š**ï¼Œä¸é™æ–¼å–®å€‹è£ç½®ã€‚é€™æ„å‘³è‘—ï¼š
- åœ¨ macOS ä¸Šä¿®æ”¹å–šé†’è©å¾Œï¼ŒiOS å’Œ Android è£ç½®ä¹ŸæœƒåŒæ­¥
- æ‰€æœ‰è£ç½®éƒ½ä½¿ç”¨åŒä¸€çµ„å–šé†’è©
- ä½†æ¯å€‹è£ç½®å¯ä»¥å–®ç¨å•Ÿç”¨/åœç”¨ Voice Wakeï¼ˆåŸºæ–¼æ¬Šé™å’Œä½¿ç”¨è€…åå¥½ï¼‰
:::

---

### ç¬¬ 5 æ­¥ï¼šä½¿ç”¨ Talk Mode é€£çºŒå°è©±

**ç‚ºä»€éº¼**
Talk Mode æä¾›äº†é¡ä¼¼ Siri/Alexa çš„é€£çºŒèªéŸ³å°è©±é«”é©—ï¼Œç„¡éœ€æ¯æ¬¡éƒ½å–šé†’ã€‚

**Talk Mode é‹ä½œè¿´åœˆ**ï¼š

```
ç›£è½ â”€â”€â–º AI è™•ç† â”€â”€â–º TTS æ’­æ”¾ â”€â”€â–º ç›£è½
  â”‚                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å•Ÿç”¨ Talk Mode**ï¼š

1. åœ¨é¸å–®åˆ—é»æ“Š **Talk** æŒ‰éˆ•
2. æˆ–è€…ä½¿ç”¨å¿«é€Ÿéµï¼ˆé è¨­ï¼šç„¡ï¼Œå¯ä»¥åœ¨ Settings ä¸­è¨­å®šï¼‰
3. Talk Mode å åŠ å±¤å‡ºç¾

**Talk Mode ä»‹é¢ç‹€æ…‹**ï¼š

| ç‹€æ…‹ | é¡¯ç¤º | èªªæ˜ |
|--- | --- | ---|
| **Listening** | é›²æœµè„ˆè¡å‹•ç•« + éº¥å…‹é¢¨éŸ³é‡ | ç­‰å¾…ä½ èªªè©± |
| **Thinking** | ä¸‹æ²‰å‹•ç•« | AI æ­£åœ¨æ€è€ƒ |
| **Speaking** | è¼»å°„ç’°å‹•ç•« + æ¼£æ¼ª | AI æ­£åœ¨å›è¦†ï¼ˆTTS æ’­æ”¾ä¸­ï¼‰ |

**äº’å‹•æ§åˆ¶**ï¼š

- **åœæ­¢èªªè©±**ï¼šé»æ“Šé›²æœµåœ–ç¤ºåœæ­¢ TTS æ’­æ”¾
- **é€€å‡º Talk Mode**ï¼šé»æ“Šå³ä¸Šè§’ X æŒ‰éˆ•
- **èªéŸ³ä¸­æ–·**ï¼šAI èªªè©±æ™‚å¦‚æœä½ é–‹å§‹èªªè©±ï¼Œè‡ªå‹•åœæ­¢æ’­æ”¾

**è¨­å®š TTS**ï¼š

Talk Mode ä½¿ç”¨ ElevenLabs é€²è¡Œæ–‡å­—è½‰èªéŸ³ã€‚è¨­å®šä½ç½®ï¼š`~/.clawdbot/clawdbot.json`

```yaml
talk:
  voiceId: "elevenlabs_voice_id"  # ElevenLabs èªéŸ³ ID
  modelId: "eleven_v3"            # æ¨¡å‹ç‰ˆæœ¬
  apiKey: "elevenlabs_api_key"     # API é‡‘é‘°ï¼ˆæˆ–ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼‰
  interruptOnSpeech: true           # èªéŸ³æ™‚ä¸­æ–·
  outputFormat: "mp3_44100_128"   # è¼¸å‡ºæ ¼å¼
```

::: tip ElevenLabs è¨­å®š
å¦‚æœæ²’æœ‰è¨­å®š API é‡‘é‘°ï¼ŒTalk Mode æœƒå˜—è©¦ä½¿ç”¨ï¼š
1. `ELEVENLABS_API_KEY` ç’°å¢ƒè®Šæ•¸
2. Gateway shell profile ä¸­çš„é‡‘é‘°
3. ä½¿ç”¨ç¬¬ä¸€å€‹å¯ç”¨çš„ ElevenLabs èªéŸ³ä½œç‚ºé è¨­
:::

---

### ç¬¬ 6 æ­¥ï¼šä½¿ç”¨ç¯€é»æ¨¡å¼

**ç‚ºä»€éº¼**
ç¯€é»æ¨¡å¼å…è¨± macOS æ‡‰ç”¨ç¨‹å¼æš´éœ²æœ¬æ©Ÿèƒ½åŠ›çµ¦é ç«¯ Gatewayï¼Œå¯¦ç¾çœŸæ­£çš„è·¨è£ç½®å”ä½œã€‚

**ç¯€é»æ¨¡å¼ä¸‹çš„å¯ç”¨æŒ‡ä»¤**ï¼š

| æŒ‡ä»¤é¡åˆ¥ | æŒ‡ä»¤ç¯„ä¾‹ | åŠŸèƒ½èªªæ˜ |
|--- | --- | ---|
| **Canvas** | `canvas.present`ã€`canvas.navigate`ã€`canvas.eval` | åœ¨ macOS ä¸Šæ¸²æŸ“è¦–è¦ºåŒ–ä»‹é¢ |
| **Camera** | `camera.snap`ã€`camera.clip` | æ‹ç…§æˆ–éŒ„å½± |
| **Screen** | `screen.record` | è¢å¹•éŒ„è£½ |
| **System** | `system.run`ã€`system.notify` | åŸ·è¡Œ Shell æŒ‡ä»¤æˆ–ç™¼é€é€šçŸ¥ |

**å•Ÿç”¨ç¯€é»æ¨¡å¼**ï¼š

ç¯€é»æ¨¡å¼åœ¨ **é ç«¯æ¨¡å¼ä¸‹è‡ªå‹•å•Ÿå‹•**ï¼Œå› ç‚ºé ç«¯ Gateway éœ€è¦å‘¼å«æœ¬æ©ŸåŠŸèƒ½ã€‚

ä½ ä¹Ÿå¯ä»¥æ‰‹å‹•å•Ÿå‹•ç¯€é»æœå‹™ï¼š

```bash
clawdbot node run --display-name "My Mac"
```

**ç¯€é»æ¬Šé™ç®¡ç†**ï¼š

macOS æ‡‰ç”¨ç¨‹å¼é€éæ¬Šé™ç³»çµ±å›å ±å“ªäº›åŠŸèƒ½å¯ç”¨ï¼š

```json
{
  "canvas": true,
  "camera": true,
  "screen": true,
  "system": {
    "run": true,
    "notify": true
  }
}
```

AI æœƒæ ¹æ“šæ¬Šé™è‡ªå‹•é¸æ“‡å¯ç”¨çš„å·¥å…·ã€‚

---

### ç¬¬ 7 æ­¥ï¼šè¨­å®š Exec Approvalsï¼ˆ`system.run` å®‰å…¨æ§åˆ¶ï¼‰

**ç‚ºä»€éº¼**
`system.run` å¯ä»¥åŸ·è¡Œä»»æ„ Shell æŒ‡ä»¤ï¼Œå› æ­¤éœ€è¦å¯©æ‰¹æ©Ÿåˆ¶é˜²æ­¢èª¤æ“ä½œæˆ–æ¿«ç”¨ã€‚

**Exec Approvals ä¸‰å±¤å®‰å…¨æ¨¡å‹**ï¼š

```json
{
  "version": 1,
  "defaults": {
    "security": "deny",          // é è¨­ç­–ç•¥ï¼šæ‹’çµ•
    "ask": "on-miss"           // æŒ‡ä»¤ä¸åœ¨ç™½åå–®æ™‚è©¢å•
  },
  "agents": {
    "main": {
      "security": "allowlist",    // ä¸»æœƒè©±ï¼šåƒ…å…è¨±ç™½åå–®
      "ask": "on-miss",
      "allowlist": [
        { "pattern": "/usr/bin/git" },
        { "pattern": "/opt/homebrew/*/rg" }
      ]
    }
  }
}
```

**å®‰å…¨ç­–ç•¥é¡å‹**ï¼š

| ç­–ç•¥ | è¡Œç‚º | é©ç”¨å ´æ™¯ |
|--- | --- | ---|
| `deny` | æ‹’çµ•æ‰€æœ‰ `system.run` å‘¼å« | é«˜åº¦å®‰å…¨ï¼Œåœç”¨æ‰€æœ‰æŒ‡ä»¤ |
| `allowlist` | åƒ…å…è¨±ç™½åå–®ä¸­çš„æŒ‡ä»¤ | å¹³è¡¡å®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ |
| `ask` | ä¸åœ¨ç™½åå–®æ™‚æç¤ºä½¿ç”¨è€…æ‰¹å‡† | éˆæ´»ä½†éœ€è¦ç¢ºèª |

**å¯©æ‰¹æµç¨‹**ï¼š

ç•¶ AI å˜—è©¦åŸ·è¡Œæœªæˆæ¬Šçš„æŒ‡ä»¤æ™‚ï¼š

1. macOS æ‡‰ç”¨ç¨‹å¼å½ˆå‡ºå¯©æ‰¹å°è©±æ¡†
2. é¡¯ç¤ºå®Œæ•´æŒ‡ä»¤è·¯å¾‘å’Œåƒæ•¸
3. æä¾›ä¸‰å€‹é¸é …ï¼š
   - **Allow Once** â€”â€” åƒ…æœ¬æ¬¡å…è¨±
   - **Always Allow** â€”â€” æ–°å¢åˆ°ç™½åå–®
   - **Deny** â€”â€” æ‹’çµ•åŸ·è¡Œ

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- å¯©æ‰¹å°è©±æ¡†é¡¯ç¤ºæŒ‡ä»¤è©³æƒ…ï¼ˆå¦‚ `/usr/bin/ls -la ~`ï¼‰
- é¸æ“‡"Always Allow"å¾Œï¼Œä¸‹æ¬¡ä¸æœƒå†æ¬¡è©¢å•
- é¸æ“‡"Deny"å¾Œï¼ŒæŒ‡ä»¤åŸ·è¡Œå¤±æ•—ä¸¦å›å‚³éŒ¯èª¤çµ¦ AI

**è¨­å®šä½ç½®**ï¼š

Exec Approvals å„²å­˜åœ¨ macOS æœ¬æ©Ÿï¼š
- æª”æ¡ˆï¼š`~/.clawdbot/exec-approvals.json`
- å¯©æ‰¹æ­·å²ï¼šåœ¨æ‡‰ç”¨ç¨‹å¼ä¸­æŸ¥çœ‹æ‰€æœ‰å·²æ‰¹å‡†/æ‹’çµ•çš„æŒ‡ä»¤

---

### ç¬¬ 8 æ­¥ï¼šä½¿ç”¨æ·±åº¦éˆçµ

**ç‚ºä»€éº¼**
æ·±åº¦éˆçµæä¾›äº†å¾å…¶ä»–æ‡‰ç”¨ç¨‹å¼å¿«é€Ÿè§¸ç™¼ Clawdbot åŠŸèƒ½çš„èƒ½åŠ›ã€‚

**æ”¯æ´çš„æ·±åº¦éˆçµå”å®š**ï¼š`clawdbot://`

#### `clawdbot://agent`

è§¸ç™¼ Gateway `agent` è«‹æ±‚ï¼Œç›¸ç•¶æ–¼åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œ `clawdbot agent`ã€‚

**åƒæ•¸**ï¼š

| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹ |
|--- | --- | ---|
| `message`ï¼ˆå¿…éœ€ï¼‰ | ç™¼é€çµ¦ AI çš„è¨Šæ¯ | `message=Hello%20from%20deep%20link` |
| `sessionKey`ï¼ˆå¯é¸ï¼‰ | ç›®æ¨™æœƒè©±éµï¼Œé è¨­ `main` | `sessionKey=main` |
| `thinking`ï¼ˆå¯é¸ï¼‰ | æ€è€ƒå±¤ç´šï¼šoff\|minimal\|low\|medium\|high\|xhigh | `thinking=high` |
| `deliver`/`to`/`channel`ï¼ˆå¯é¸ï¼‰ | é€è¾¾é »é“ | `channel=telegram` |
| `timeoutSeconds`ï¼ˆå¯é¸ï¼‰ | é€¾æ™‚æ™‚é–“ | `timeoutSeconds=30` |
| `key`ï¼ˆå¯é¸ï¼‰ | å…ç¢ºèªé‡‘é‘°ï¼Œç”¨æ–¼è‡ªå‹•åŒ– | `key=your-secret-key` |

**ç¯„ä¾‹**ï¼š

```bash
# åŸºæœ¬ï¼šç™¼é€è¨Šæ¯
open 'clawdbot://agent?message=Hello%20from%20deep%20link'

# é€²éšï¼šç™¼é€åˆ° Telegramï¼Œé«˜æ€è€ƒå±¤ç´šï¼Œ30 ç§’é€¾æ™‚
open 'clawdbot://agent?message=Summarize%20my%20day&to=telegram&thinking=high&timeoutSeconds=30'

# è‡ªå‹•åŒ–ï¼šä½¿ç”¨é‡‘é‘°è·³éç¢ºèªï¼ˆåƒ…åœ¨ä½ çš„è…³æœ¬ä¸­å®‰å…¨ä½¿ç”¨ï¼‰
open 'clawdbot://agent?message=Automated%20task&key=secure-random-string'
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š
- Clawdbot macOS æ‡‰ç”¨ç¨‹å¼è‡ªå‹•é–‹å•Ÿï¼ˆå¦‚æœæœªåŸ·è¡Œï¼‰
- Agent è¦–çª—å‡ºç¾ä¸¦é¡¯ç¤ºè¨Šæ¯
- AI é–‹å§‹è™•ç†ä¸¦å›å‚³å›æ‡‰

::: warning æ·±åº¦éˆçµçš„å®‰å…¨æ€§
- æ²’æœ‰ `key` åƒæ•¸æ™‚ï¼Œæ‡‰ç”¨ç¨‹å¼æœƒå½ˆå‡ºç¢ºèªå°è©±æ¡†
- å¸¶æœ‰æœ‰æ•ˆ `key` æ™‚ï¼Œè«‹æ±‚æœƒéœé»˜åŸ·è¡Œï¼ˆç”¨æ–¼è‡ªå‹•åŒ–è…³æœ¬ï¼‰
- æ°¸é ä¸è¦åœ¨ä¸å¯ä¿¡ä¾†æºä¸­ä½¿ç”¨æ·±åº¦éˆçµ
:::

---

## æª¢æŸ¥é» âœ…

å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œé©—è­‰ä»¥ä¸‹å…§å®¹ï¼š

### å®‰è£å’Œé€£æ¥

- [ ] macOS æ‡‰ç”¨ç¨‹å¼æˆåŠŸå®‰è£ä¸¦å‡ºç¾åœ¨ Applications è³‡æ–™å¤¾
- [ ] é¦–æ¬¡å•Ÿå‹•æ™‚æ‰€æœ‰å¿…éœ€çš„æ¬Šé™å·²æˆäºˆ
- [ ] é¸å–®åˆ—åœ–ç¤ºæ­£å¸¸é¡¯ç¤º
- [ ] å¯ä»¥åœ¨æœ¬æ©Ÿæ¨¡å¼ï¼ˆLocalï¼‰é€£æ¥ Gateway
- [ ] å¯ä»¥åœ¨é ç«¯æ¨¡å¼ï¼ˆRemoteï¼‰é€£æ¥ Gateway

### Voice Wake å’Œ Talk Mode

- [ ] Voice Wake å–šé†’è©è¨­å®šæˆåŠŸï¼ˆå¦‚ "clawd"ã€"claude"ï¼‰
- [ ] èªªå‡ºå–šé†’è©å¾Œèƒ½è§¸ç™¼ AI åŠ©æ‰‹
- [ ] Talk Mode å åŠ å±¤èƒ½æ­£å¸¸é–‹å•Ÿå’Œé—œé–‰
- [ ] TTS æ’­æ”¾æ¸…æ™°ï¼ˆéœ€è¦ ElevenLabs API é‡‘é‘°ï¼‰
- [ ] èªéŸ³ä¸­æ–·åŠŸèƒ½æ­£å¸¸ï¼ˆèªªè©±æ™‚åœæ­¢æ’­æ”¾ï¼‰

### ç¯€é»æ¨¡å¼å’Œ Exec Approvals

- [ ] ç¯€é»æœå‹™åœ¨é ç«¯æ¨¡å¼ä¸‹è‡ªå‹•å•Ÿå‹•
- [ ] `system.run` æŒ‡ä»¤èƒ½åŸ·è¡Œä¸¦å›å‚³çµæœ
- [ ] Exec Approvals å°è©±æ¡†æ­£å¸¸å½ˆå‡º
- [ ] "Always Allow" èƒ½æ­£ç¢ºæ–°å¢åˆ°ç™½åå–®
- [ ] "Deny" èƒ½æ­£ç¢ºæ‹’çµ•æŒ‡ä»¤åŸ·è¡Œ

### é€²éšåŠŸèƒ½

- [ ] æ·±åº¦éˆçµèƒ½å¾çµ‚ç«¯æ©Ÿæˆ–å…¶ä»–æ‡‰ç”¨ç¨‹å¼è§¸ç™¼
- [ ] è¨­å®šä»‹é¢èƒ½æ­£ç¢ºå„²å­˜è¨­å®š
- [ ] WebChat å…§åµŒè¦–çª—èƒ½æ­£å¸¸é–‹å•Ÿ
- [ ] Canvas è¦–çª—èƒ½é¡¯ç¤º AI ç”Ÿæˆçš„è¦–è¦ºåŒ–å…§å®¹

---

## è¸©å‘æé†’

### âŒ æ¬Šé™è¢«æ‹’çµ•æˆ–æœªæˆäºˆ

**å•é¡Œ**ï¼š
- Voice Wake ç„¡æ³•ç›£è½éº¥å…‹é¢¨
- Canvas ç„¡æ³•é¡¯ç¤ºå…§å®¹
- `system.run` æŒ‡ä»¤åŸ·è¡Œå¤±æ•—

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. é–‹å•Ÿ **ç³»çµ±è¨­å®š** â†’ **éš±ç§èˆ‡å®‰å…¨æ€§**
2. æ‰¾åˆ° **Clawdbot** æˆ– **Clawdbot.app**
3. ç¢ºä¿ **éº¥å…‹é¢¨**ã€**è¼”åŠ©åŠŸèƒ½**ã€**è¢å¹•éŒ„è£½**ã€**è‡ªå‹•åŒ–** ç­‰æ¬Šé™éƒ½å·²é–‹å•Ÿ
4. é‡æ–°å•Ÿå‹• Clawdbot æ‡‰ç”¨ç¨‹å¼

::: tip TCC æ¬Šé™æ•…éšœæ’é™¤
å¦‚æœæ¬Šé™é–‹é—œç„¡æ³•å•Ÿç”¨æˆ–ç«‹å³é—œé–‰ï¼š
- æª¢æŸ¥æ˜¯å¦å•Ÿç”¨äº†ä»»ä½•å®‰å…¨å·¥å…·ï¼ˆå¦‚ Little Snitchï¼‰
- å˜—è©¦å®Œå…¨è§£é™¤å®‰è£æ‡‰ç”¨ç¨‹å¼å¾Œé‡æ–°å®‰è£
- æŸ¥çœ‹ Console.app ä¸­çš„ TCC æ‹’çµ•è¨˜éŒ„
:::

### âŒ Gateway é€£æ¥å¤±æ•—

**å•é¡Œ**ï¼š
- é¸å–®åˆ—åœ–ç¤ºé¡¯ç¤ºç´…è‰²ï¼ˆæ–·é–‹ç‹€æ…‹ï¼‰
- ç‹€æ…‹å¡ç‰‡é¡¯ç¤º"Connection Failed"
- WebChat ç„¡æ³•é–‹å•Ÿ

**å¯èƒ½åŸå› å’Œè§£æ±ºæ–¹æ¡ˆ**ï¼š

| åŸå›  | æª¢æŸ¥æ–¹æ³• | è§£æ±ºæ–¹æ¡ˆ |
|--- | --- | ---|
| Gateway æœªå•Ÿå‹• | åŸ·è¡Œ `clawdbot gateway status` | å•Ÿå‹• Gateway æœå‹™ |
| ä½å€éŒ¯èª¤ | æª¢æŸ¥ WebSocket URL | ç¢ºèª `ws://127.0.0.1:18789` æˆ–é ç«¯ä½å€æ­£ç¢º |
| é€£æ¥åŸ è¢«ä½”ç”¨ | åŸ·è¡Œ `lsof -i :18789` | é—œé–‰ä½”ç”¨é€£æ¥åŸ çš„ç¨‹åº |
| èªè­‰å¤±æ•— | æª¢æŸ¥ Token/Password | ç¢ºèªèªè­‰æ†‘è­‰æ­£ç¢º |

### âŒ Talk Mode ç„¡æ³•ä½¿ç”¨

**å•é¡Œ**ï¼š
- å•Ÿç”¨ Talk Mode å¾Œæ²’æœ‰åæ‡‰
- TTS ç„¡æ³•æ’­æ”¾
- éº¥å…‹é¢¨ç„¡æ³•è¼¸å…¥

**è§£æ±ºæ–¹æ¡ˆ**ï¼š

1. **æª¢æŸ¥ ElevenLabs è¨­å®š**ï¼š
   - ç¢ºèª API é‡‘é‘°å·²è¨­å®š
   - æ¸¬è©¦é‡‘é‘°æ˜¯å¦æœ‰æ•ˆï¼šé€ è¨ª ElevenLabs æ§åˆ¶å°

2. **æª¢æŸ¥ç¶²è·¯é€£æ¥**ï¼š
   - TTS éœ€è¦ç¶²éš›ç¶²è·¯é€£æ¥
   - æª¢æŸ¥é˜²ç«ç‰†æ˜¯å¦é˜»æ­¢ API è«‹æ±‚

3. **æª¢æŸ¥éŸ³è¨Šè¼¸å‡º**ï¼š
   - ç¢ºèªç³»çµ±éŸ³é‡å·²é–‹å•Ÿ
   - æª¢æŸ¥é è¨­è¼¸å‡ºè£ç½®æ˜¯å¦æ­£ç¢º

### âŒ é ç«¯æ¨¡å¼ä¸‹ç¯€é»ç„¡æ³•é€£æ¥

**å•é¡Œ**ï¼š
- é ç«¯ Gateway ç„¡æ³•å‘¼å« macOS ä¸Šçš„ `system.run` ç­‰æŒ‡ä»¤
- éŒ¯èª¤è¨˜éŒ„é¡¯ç¤º"Node not found"æˆ–"Node offline"

**è§£æ±ºæ–¹æ¡ˆ**ï¼š

1. **ç¢ºèªç¯€é»æœå‹™åŸ·è¡Œ**ï¼š
   ```bash
   clawdbot nodes list
   # æ‡‰è©²çœ‹åˆ° macOS ç¯€é»é¡¯ç¤ºç‚º"paired"
   ```

2. **æª¢æŸ¥ SSH éš§é“**ï¼š
   - åœ¨ macOS æ‡‰ç”¨ç¨‹å¼è¨­å®šä¸­æŸ¥çœ‹ SSH é€£æ¥ç‹€æ…‹
   - ç¢ºèªèƒ½æ‰‹å‹• SSH åˆ°é ç«¯ Gateway

3. **é‡æ–°å•Ÿå‹•ç¯€é»æœå‹™**ï¼š
   ```bash
   # åœ¨ macOS ä¸Š
   clawdbot node restart
   ```

---

## æœ¬èª²å°çµ

æœ¬èª²ä½ å­¸æœƒäº†ï¼š

1. âœ… **macOS æ‡‰ç”¨ç¨‹å¼æ¶æ§‹** â€”â€” ä½œç‚º Gateway æ§åˆ¶å¹³é¢å’Œç¯€é»çš„é›™é‡è§’è‰²
2. âœ… **æœ¬æ©Ÿ vs é ç«¯æ¨¡å¼** â€”â€” å¦‚ä½•è¨­å®šä»¥é©æ‡‰ä¸åŒéƒ¨ç½²å ´æ™¯
3. âœ… **é¸å–®åˆ—åŠŸèƒ½** â€”â€” ç‹€æ…‹ç®¡ç†ã€WebChatã€Canvasã€è¨­å®šç­‰å¿«é€Ÿå­˜å–
4. âœ… **Voice Wake** â€”â€” é€éå–šé†’è©è§¸ç™¼ AI åŠ©æ‰‹
5. âœ… **Talk Mode** â€”â€” é€£çºŒèªéŸ³å°è©±é«”é©—
6. âœ… **ç¯€é»æ¨¡å¼** â€”â€” æš´éœ² macOS ç‰¹æœ‰èƒ½åŠ›ï¼ˆ`system.run`ã€Canvasã€Cameraï¼‰
7. âœ… **Exec Approvals** â€”â€” `system.run` çš„ä¸‰å±¤å®‰å…¨æ§åˆ¶æ©Ÿåˆ¶
8. âœ… **æ·±åº¦éˆçµ** â€”â€” `clawdbot://` å”å®šå¿«é€Ÿè§¸ç™¼åŠŸèƒ½

**æœ€ä½³å¯¦å‹™**ï¼š
- ğŸš€ æœ¬æ©Ÿéƒ¨ç½²ï¼šä½¿ç”¨é è¨­çš„ Local æ¨¡å¼
- ğŸŒ é ç«¯éƒ¨ç½²ï¼šè¨­å®š SSH/Tailscale é›†ä¸­ç®¡ç†
- ğŸ” å®‰å…¨ç¬¬ä¸€ï¼šç‚º `system.run` è¨­å®šåˆç†çš„ç™½åå–®ç­–ç•¥
- ğŸ™ï¸ èªéŸ³äº’å‹•ï¼šé…åˆ ElevenLabs ç²å¾—æœ€ä½³ TTS é«”é©—

---

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[iOS ç¯€é»](../ios-node/)**ã€‚
>
> ä½ æœƒå­¸åˆ°ï¼š
> - å¦‚ä½•è¨­å®š iOS ç¯€é»é€£æ¥åˆ° Gateway
> - iOS ç¯€é»çš„åŠŸèƒ½ï¼ˆCanvasã€Cameraã€Locationã€Voice Wakeï¼‰
> - å¦‚ä½•é€é Gateway é…å° iOS è£ç½®
> - iOS ç¯€é»çš„æ¬Šé™ç®¡ç†å’Œå®‰å…¨æ§åˆ¶
> - Bonjour ç™¼ç¾å’Œ Tailscale é ç«¯é€£æ¥

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»æ“Šå±•é–‹æŸ¥çœ‹åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-27

| åŠŸèƒ½        | æª”æ¡ˆè·¯å¾‘                                                                                    | è¡Œè™Ÿ    |
|--- | --- | ---|
| æ‡‰ç”¨ç¨‹å¼å…¥å£     | [`apps/macos/Sources/Clawdbot/ClawdbotApp.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/ClawdbotApp.swift) | å…¨æª”æ¡ˆ   |
| Gateway é€£æ¥ | [`apps/macos/Sources/Clawdbot/GatewayConnection.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/GatewayConnection.swift) | 1-500   |
| Voice Wake é‹è¡Œæ™‚ | [`apps/macos/Sources/Clawdbot/VoiceWakeRuntime.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/VoiceWakeRuntime.swift) | å…¨æª”æ¡ˆ   |
| Talk Mode é¡å‹ | [`apps/macos/Sources/Clawdbot/TalkModeTypes.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/TalkModeTypes.swift) | å…¨æª”æ¡ˆ   |
| Voice Wake å åŠ å±¤ | [`apps/macos/Sources/Clawdbot/VoiceWakeOverlayView.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/VoiceWakeOverlayView.swift) | å…¨æª”æ¡ˆ   |
| ç¯€é»æ¨¡å¼å”èª¿å™¨ | [`apps/macos/Sources/Clawdbot/NodeMode/MacNodeModeCoordinator.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/NodeMode/MacNodeModeCoordinator.swift) | å…¨æª”æ¡ˆ   |
| ç¯€é»é‹è¡Œæ™‚ | [`apps/macos/Sources/Clawdbot/NodeMode/MacNodeRuntime.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/NodeMode/MacNodeRuntime.swift) | å…¨æª”æ¡ˆ   |
| æ¬Šé™ç®¡ç†å™¨ | [`apps/macos/Sources/Clawdbot/PermissionManager.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/PermissionManager.swift) | å…¨æª”æ¡ˆ   |
| Exec Approvals | [`apps/macos/Sources/Clawdbot/ExecApprovalsGatewayPrompter.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/ExecApprovalsGatewayPrompter.swift) | å…¨æª”æ¡ˆ   |
| é¸å–®åˆ— | [`apps/macos/Sources/Clawdbot/MenuBar.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/MenuBar.swift) | å…¨æª”æ¡ˆ   |
| é¸å–®æ³¨å…¥å™¨ | [`apps/macos/Sources/Clawdbot/MenuSessionsInjector.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/MenuSessionsInjector.swift) | å…¨æª”æ¡ˆ   |

**é—œéµå¸¸æ•¸**ï¼š
- `GatewayConnection.shared`ï¼šå–®ä¾‹ Gateway é€£æ¥ç®¡ç†å™¨ï¼ˆ`GatewayConnection.swift:48`ï¼‰
- `VoiceWakeRuntime`ï¼šVoice Wake æ ¸å¿ƒé‹è¡Œæ™‚ï¼ˆå–®ä¾‹ï¼‰
- `MacNodeModeCoordinator`ï¼šç¯€é»æ¨¡å¼å”èª¿å™¨ï¼Œç®¡ç†æœ¬æ©Ÿæœå‹™å•Ÿå‹•

**é—œéµé¡å‹**ï¼š
- `GatewayAgentChannel`ï¼šGateway ä»£ç†é »é“åˆ—èˆ‰ï¼ˆ`GatewayConnection.swift:9-30`ï¼‰
- `GatewayAgentInvocation`ï¼šGateway Agent å‘¼å«çµæ§‹ï¼ˆ`GatewayConnection.swift:32-41`ï¼‰
- `ExecApprovalsConfig`ï¼šExec Approvals è¨­å®šçµæ§‹ï¼ˆJSON Schemaï¼‰
- `VoiceWakeSettings`ï¼šVoice Wake è¨­å®šçµæ§‹

**é—œéµå‡½å¼**ï¼š
- `GatewayConnection.sendAgent()`ï¼šç™¼é€ agent è«‹æ±‚åˆ° Gateway
- `GatewayConnection.setVoiceWakeTriggers()`ï¼šæ›´æ–°å…¨åŸŸå–šé†’è©åˆ—è¡¨
- `PermissionManager.checkPermission()`ï¼šæª¢æŸ¥ TCC æ¬Šé™ç‹€æ…‹
- `ExecApprovalsGatewayPrompter.prompt()`ï¼šé¡¯ç¤ºå¯©æ‰¹å°è©±æ¡†

**æ–‡ä»¶ä½ç½®**ï¼š
- [macOS æ‡‰ç”¨ç¨‹å¼æ–‡ä»¶](https://github.com/clawdbot/clawdbot/blob/main/docs/platforms/macos.md)
- [Voice Wake æ–‡ä»¶](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/voicewake.md)
- [Talk Mode æ–‡ä»¶](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/talk.md)
- [ç¯€é»æ–‡ä»¶](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/index.md)

</details>
