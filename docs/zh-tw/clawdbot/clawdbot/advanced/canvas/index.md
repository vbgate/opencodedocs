---
title: "Canvas å¯è¦–åŒ–ä»‹é¢èˆ‡ A2UI | Clawdbot æ•™ç¨‹"
sidebarTitle: "ç‚º AI å»ºç«‹è¦–è¦ºåŒ–ä»‹é¢"
subtitle: "Canvas å¯è¦–åŒ–ä»‹é¢èˆ‡ A2UI"
description: "å­¸ç¿’ä½¿ç”¨ Clawdbot çš„ Canvas å¯è¦–åŒ–ä»‹é¢ï¼Œäº†è§£ A2UI æ¨é€æ©Ÿåˆ¶ã€Canvas Host é…ç½®å’Œç¯€é» Canvas æ“ä½œï¼Œç‚º AI åŠ©æ‰‹å»ºç«‹äº’å‹•å¼ UIã€‚æœ¬æ•™ç¨‹æ¶µè“‹éœæ…‹ HTML å’Œå‹•æ…‹ A2UI å…©ç¨®æ–¹å¼ï¼ŒåŒ…æ‹¬ canvas å·¥å…·çš„å®Œæ•´æŒ‡ä»¤åƒè€ƒã€å®‰å…¨æ©Ÿåˆ¶ã€é…ç½®é¸é …å’Œç–‘é›£æ’è§£æŠ€å·§ã€‚"
tags:
  - "Canvas"
  - "A2UI"
  - "è¦–è¦ºåŒ–ä»‹é¢"
  - "ç¯€é»"
prerequisite:
  - "start-getting-started"
  - "platforms-ios-node"
  - "platforms-android-node"
order: 240
---

# Canvas å¯è¦–åŒ–ä»‹é¢èˆ‡ A2UI

## å­¸å®Œä½ èƒ½åšä»€éº¼

å®Œæˆæœ¬èª²å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š

- é…ç½® Canvas Host ä¸¦éƒ¨ç½²è‡ªè¨‚ HTML/CSS/JS ä»‹é¢
- ä½¿ç”¨ `canvas` å·¥å…·æ§åˆ¶ç¯€é» Canvasï¼ˆé¡¯ç¤ºã€éš±è—ã€å°èˆªã€åŸ·è¡Œ JSï¼‰
- æŒæ¡ A2UI å”å®šï¼Œè®“ AI å‹•æ…‹æ¨é€ UI æ›´æ–°
- æ“·å– Canvas æˆªåœ–ç”¨æ–¼ AI ä¸Šä¸‹æ–‡
- ç†è§£ Canvas å®‰å…¨æ©Ÿåˆ¶å’Œæ¬Šé™æ§åˆ¶

## ä½ ç¾åœ¨çš„å›°å¢ƒ

ä½ æœ‰ä¸€å€‹ AI åŠ©æ‰‹ï¼Œä½†å®ƒåªèƒ½é€éæ–‡å­—èˆ‡ä½ äº’å‹•ã€‚ä½ æƒ³ï¼š

- è®“ AI é¡¯ç¤ºè¦–è¦ºåŒ–ä»‹é¢ï¼Œä¾‹å¦‚è¡¨æ ¼ã€åœ–è¡¨ã€è¡¨å–®
- åœ¨è¡Œå‹•è£ç½®ä¸Šçœ‹åˆ° Agent ç”¢ç”Ÿçš„å‹•æ…‹ UI
- å»ºç«‹é¡ä¼¼ã€ŒAppã€çš„äº’å‹•é«”é©—ï¼Œè€Œä¸éœ€è¦ç¨ç«‹é–‹ç™¼

## ä»€éº¼æ™‚å€™ç”¨é€™ä¸€æ‹›

**Canvas + A2UI é©åˆé€™äº›å ´æ™¯**ï¼š

| å ´æ™¯ | ç¯„ä¾‹ |
| ------ | ------ |
| **è³‡æ–™è¦–è¦ºåŒ–** | é¡¯ç¤ºçµ±è¨ˆåœ–è¡¨ã€é€²åº¦æ¢ã€æ™‚é–“ç·š |
| **äº’å‹•å¼è¡¨å–®** | è®“ä½¿ç”¨è€…ç¢ºèªæ“ä½œã€é¸æ“‡é¸é … |
| **ç‹€æ…‹é¢æ¿** | å³æ™‚é¡¯ç¤ºä»»å‹™é€²åº¦ã€ç³»çµ±ç‹€æ…‹ |
| **éŠæˆ²å’Œå¨›æ¨‚** | ç°¡å–®å°éŠæˆ²ã€äº’å‹•ç¤ºç¯„ |

::: tip A2UI vs. éœæ…‹ HTML
- **A2UI**ï¼ˆAgent-to-UIï¼‰ï¼šAI å‹•æ…‹ç”¢ç”Ÿå’Œæ›´æ–° UIï¼Œé©åˆå³æ™‚è³‡æ–™
- **éœæ…‹ HTML**ï¼šé å…ˆå¯«å¥½çš„ä»‹é¢ï¼Œé©åˆå›ºå®šç‰ˆé¢å’Œè¤‡é›œäº’å‹•
:::

## ğŸ’ é–‹å§‹å‰çš„æº–å‚™

åœ¨é–‹å§‹ä¹‹å‰ï¼Œç¢ºä¿ä½ å·²å®Œæˆï¼š

- [ ] **Gateway å·²å•Ÿå‹•**ï¼šCanvas Host é è¨­éš¨ Gateway è‡ªå‹•å•Ÿå‹•ï¼ˆé€£æ¥åŸ  18793ï¼‰
- [ ] **ç¯€é»å·²é…å°**ï¼šmacOS/iOS/Android ç¯€é»å·²é€£æ¥åˆ° Gateway
- [ ] **ç¯€é»æ”¯æ´ Canvas**ï¼šç¢ºèªç¯€é»æœ‰ `canvas` èƒ½åŠ›ï¼ˆ`clawdbot nodes list`ï¼‰

::: warning å‰ç½®çŸ¥è­˜
æœ¬æ•™ç¨‹å‡è¨­ä½ å·²äº†è§£ï¼š
- [ç¯€é»é…å°åŸºç¤](../../platforms/android-node/)
- [AI å·¥å…·å‘¼å«æ©Ÿåˆ¶](../tools-browser/)
:::

## æ ¸å¿ƒæ€è·¯

Canvas ç³»çµ±åŒ…å«ä¸‰å€‹æ ¸å¿ƒå…ƒä»¶ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Canvas Host  â”‚ â”€â”€â”€â”€â–¶ HTTP ä¼ºæœå™¨ (é€£æ¥åŸ  18793)
â”‚   (Gateway)   â”‚        â””â”€â”€ æœå‹™ ~/clawd/canvas/ æª”æ¡ˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ WebSocket é€šè¨Š
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Node App   â”‚ â”€â”€â”€â”€â–¶ WKWebView æ¸²æŸ“ Canvas
â”‚ (iOS/Android) â”‚        â””â”€â”€ é€é A2UI æ¥æ”¶æ¨é€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ userAction äº‹ä»¶
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Agent    â”‚ â”€â”€â”€â”€â–¶ canvas å·¥å…·å‘¼å«
â”‚  (pi-mono)   â”‚        â””â”€â”€ æ¨é€ A2UI æ›´æ–°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œéµæ¦‚å¿µ**ï¼š

1. **Canvas Host**ï¼ˆGateway ç«¯ï¼‰
   - æä¾›éœæ…‹æª”æ¡ˆæœå‹™ï¼š`http://<gateway-host>:18793/__clawdbot__/canvas/`
   - è¨—ç®¡ A2UI ä¸»æ©Ÿï¼š`http://<gateway-host>:18793/__clawdbot__/a2ui/`
   - æ”¯æ´ç†±é‡è¼‰ï¼šæª”æ¡ˆä¿®æ”¹å¾Œè‡ªå‹•é‡æ–°æ•´ç†

2. **Canvas Panel**ï¼ˆç¯€é»ç«¯ï¼‰
   - macOS/iOS/Android ç¯€é»åµŒå…¥ WKWebView
   - é€é WebSocket é€£æ¥ Gatewayï¼ˆå³æ™‚é‡è¼‰ã€A2UI é€šè¨Šï¼‰
   - æ”¯æ´ `eval` åŸ·è¡Œ JSã€`snapshot` æ“·å–ç•«é¢

3. **A2UI å”å®š**ï¼ˆv0.8ï¼‰
   - Agent é€é WebSocket æ¨é€ UI æ›´æ–°
   - æ”¯æ´ï¼š`beginRendering`ã€`surfaceUpdate`ã€`dataModelUpdate`ã€`deleteSurface`

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šé©—è­‰ Canvas Host ç‹€æ…‹

**ç‚ºä»€éº¼**
ç¢ºä¿ Canvas Host æ­£åœ¨åŸ·è¡Œï¼Œç¯€é»æ‰èƒ½è¼‰å…¥ Canvas å…§å®¹ã€‚

```bash
# æª¢æŸ¥é€£æ¥åŸ  18793 æ˜¯å¦è¢«ç›£è½
lsof -i :18793
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```text
COMMAND   PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
node     12345  user   16u  IPv6  0x1234      0t0  TCP *:18793 (LISTEN)
```

::: info é…ç½®è·¯å¾‘
- **Canvas æ ¹ç›®éŒ„**ï¼š`~/clawd/canvas/`ï¼ˆå¯é€é `canvasHost.root` ä¿®æ”¹ï¼‰
- **é€£æ¥åŸ **ï¼š`18793` = `gateway.port + 4`ï¼ˆå¯é€é `canvasHost.port` ä¿®æ”¹ï¼‰
- **ç†±é‡è¼‰**ï¼šé è¨­é–‹å•Ÿï¼ˆå¯é€é `canvasHost.liveReload: false` é—œé–‰ï¼‰
:::

### ç¬¬ 2 æ­¥ï¼šå»ºç«‹ç¬¬ä¸€å€‹ Canvas é é¢

**ç‚ºä»€éº¼**
å»ºç«‹è‡ªè¨‚ HTML ä»‹é¢ï¼Œè®“ç¯€é»é¡¯ç¤ºä½ çš„å…§å®¹ã€‚

```bash
# å»ºç«‹ Canvas æ ¹ç›®éŒ„ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p ~/clawd/canvas

# å»ºç«‹ç°¡å–®çš„ HTML æª”æ¡ˆ
cat > ~/clawd/canvas/hello.html <<'EOF'
<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hello Canvas</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    padding: 20px;
    background: #000;
    color: #fff;
    text-align: center;
  }
  h1 { color: #24e08a; }
</style>
<h1>ğŸ‰ Hello from Canvas!</h1>
<p>é€™æ˜¯ä½ çš„ç¬¬ä¸€å€‹ Canvas é é¢ã€‚</p>
<button onclick="alert('æŒ‰éˆ•è¢«é»æ“Šäº†ï¼')">é»æ“Šæˆ‘</button>
EOF
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```text
æª”æ¡ˆå·²å»ºç«‹ï¼š~/clawd/canvas/hello.html
```

### ç¬¬ 3 æ­¥ï¼šåœ¨ç¯€é»ä¸Šé¡¯ç¤º Canvas

**ç‚ºä»€éº¼**
è®“ç¯€é»è¼‰å…¥ä¸¦é¡¯ç¤ºä½ å‰›å»ºç«‹çš„é é¢ã€‚

é¦–å…ˆæŸ¥æ‰¾ä½ çš„ç¯€é» IDï¼š

```bash
clawdbot nodes list
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```text
ID                                  Name          Type       Capabilities
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
abc123-def456-ghi789               iOS Phone     canvas, camera, screen
jkl012-mno345-pqr678               Android Tab   canvas, camera
```

ç„¶å¾Œé¡¯ç¤º Canvasï¼ˆä»¥ iOS ç¯€é»ç‚ºä¾‹ï¼‰ï¼š

```bash
# æ–¹å¼ 1ï¼šé€é CLI æŒ‡ä»¤
clawdbot nodes canvas present --node abc123-def456-ghi789 --target http://127.0.0.1:18793/__clawdbot__/canvas/hello.html
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

- iOS è£ç½®ä¸Šå½ˆå‡ºä¸€å€‹ç„¡é‚Šæ¡†é¢æ¿ï¼Œé¡¯ç¤ºä½ çš„ HTML å…§å®¹
- é¢æ¿é è¿‘åŠŸèƒ½è¡¨åˆ—æˆ–æ»‘é¼ ä½ç½®
- å…§å®¹å±…ä¸­å°é½Šï¼Œå¸¶æœ‰ç¶ è‰²æ¨™é¡Œå’ŒæŒ‰éˆ•

**AI å‘¼å«ç¯„ä¾‹**ï¼š

```
AI: æˆ‘åœ¨ iOS è£ç½®ä¸Šç‚ºä½ é–‹å•Ÿäº†ä¸€å€‹ Canvas é¢æ¿ï¼Œé¡¯ç¤ºæ­¡è¿é é¢ã€‚
```

::: tip Canvas URL æ ¼å¼
- **æœ¬æ©Ÿæª”æ¡ˆ**ï¼š`http://<gateway-host>:18793/__clawdbot__/canvas/hello.html`
- **å¤–éƒ¨ç¶²å€**ï¼š`https://example.com`ï¼ˆéœ€è¦ç¯€é»æœ‰ç¶²è·¯å­˜å–æ¬Šé™ï¼‰
- **è¿”å›é è¨­**ï¼š`/` æˆ–ç©ºå­—ä¸²ï¼Œé¡¯ç¤ºå…§å»ºè…³æ‰‹æ¶é é¢
:::

### ç¬¬ 4 æ­¥ï¼šä½¿ç”¨ A2UI æ¨é€å‹•æ…‹ UI

**ç‚ºä»€éº¼**
AI å¯ä»¥ä¸ä¿®æ”¹æª”æ¡ˆï¼Œç›´æ¥æ¨é€ UI æ›´æ–°åˆ° Canvasï¼Œé©åˆå³æ™‚è³‡æ–™å’Œäº’å‹•ã€‚

**æ–¹å¼ Aï¼šå¿«é€Ÿæ–‡å­—æ¨é€**

```bash
clawdbot nodes canvas a2ui push --node abc123-def456-ghi789 --text "Hello from A2UI"
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

- Canvas é¡¯ç¤ºè—è‰² A2UI ä»‹é¢
- æ–‡å­—å±…ä¸­é¡¯ç¤ºï¼š`Hello from A2UI`

**æ–¹å¼ Bï¼šå®Œæ•´ JSONL æ¨é€**

å»ºç«‹ A2UI å®šç¾©æª”æ¡ˆï¼š

```bash
cat > /tmp/a2ui-demo.jsonl <<'EOF'
{"surfaceUpdate":{"surfaceId":"main","components":[{"id":"root","component":{"Column":{"children":{"explicitList":["title","status","button"]}}}},{"id":"title","component":{"Text":{"text":{"literalString":"A2UI æ¼”ç¤º"},"usageHint":"h1"}}},{"id":"status","component":{"Text":{"text":{"literalString":"ç³»çµ±ç‹€æ…‹ï¼šåŸ·è¡Œä¸­"},"usageHint":"body"}}},{"id":"button","component":{"Button":{"label":{"literalString":"æ¸¬è©¦æŒ‰éˆ•"},"onClick":{"action":{"name":"testAction","sourceComponentId":"demo.test"}}}}}]}
{"beginRendering":{"surfaceId":"main","root":"root"}}
EOF
```

æ¨é€ A2UIï¼š

```bash
clawdbot nodes canvas a2ui push --node abc123-def456-ghi789 --jsonl /tmp/a2ui-demo.jsonl
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     A2UI æ¼”ç¤º         â”‚
â”‚                        â”‚
â”‚  ç³»çµ±ç‹€æ…‹ï¼šåŸ·è¡Œä¸­       â”‚
â”‚                        â”‚
â”‚   [ æ¸¬è©¦æŒ‰éˆ• ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

::: details A2UI JSONL æ ¼å¼èªªæ˜
JSONLï¼ˆJSON Linesï¼‰æ¯è¡Œä¸€å€‹ JSON ç‰©ä»¶ï¼Œé©åˆä¸²æµæ›´æ–°ï¼š

```jsonl
{"surfaceUpdate":{...}}   // æ›´æ–°è¡¨é¢å…ƒä»¶
{"beginRendering":{...}}   // é–‹å§‹æ¸²æŸ“
{"dataModelUpdate":{...}} // æ›´æ–°è³‡æ–™æ¨¡å‹
{"deleteSurface":{...}}   // åˆªé™¤è¡¨é¢
```
:::

### ç¬¬ 5 æ­¥ï¼šåŸ·è¡Œ Canvas JavaScript

**ç‚ºä»€éº¼**
åœ¨ Canvas ä¸­åŸ·è¡Œè‡ªè¨‚ JSï¼Œä¾‹å¦‚ä¿®æ”¹ DOMã€è®€å–ç‹€æ…‹ã€‚

```bash
clawdbot nodes canvas eval --node abc123-def456-ghi789 --js "document.title"
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```text
"Hello from Canvas"
```

::: tip JS åŸ·è¡Œç¯„ä¾‹
- è®€å–å…ƒç´ ï¼š`document.querySelector('h1').textContent`
- ä¿®æ”¹æ¨£å¼ï¼š`document.body.style.background = '#333'`
- è¨ˆç®—å€¼ï¼š`innerWidth + 'x' + innerHeight`
- é–‰åŒ…åŸ·è¡Œï¼š`(() => { ... })()`
:::

### ç¬¬ 6 æ­¥ï¼šæ“·å– Canvas æˆªåœ–

**ç‚ºä»€éº¼**
è®“ AI çœ‹åˆ°ç›®å‰çš„ Canvas ç‹€æ…‹ï¼Œç”¨æ–¼ä¸Šä¸‹æ–‡ç†è§£ã€‚

```bash
# é è¨­æ ¼å¼ï¼ˆJPEGï¼‰
clawdbot nodes canvas snapshot --node abc123-def456-ghi789

# PNG æ ¼å¼ + æœ€å¤§å¯¬åº¦é™åˆ¶
clawdbot nodes canvas snapshot --node abc123-def456-ghi789 --format png --max-width 1200

# é«˜å“è³ª JPEG
clawdbot nodes canvas snapshot --node abc123-def456-ghi789 --format jpg --quality 0.9
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

```text
Canvas snapshot saved to: /var/folders/.../canvas-snapshot.jpg
```

æª”æ¡ˆè·¯å¾‘ç”±ç³»çµ±è‡ªå‹•ç”¢ç”Ÿï¼Œé€šå¸¸åœ¨æš«å­˜ç›®éŒ„ã€‚

### ç¬¬ 7 æ­¥ï¼šéš±è— Canvas

**ç‚ºä»€éº¼**
é—œé–‰ Canvas é¢æ¿ï¼Œé‡‹æ”¾è¢å¹•ç©ºé–“ã€‚

```bash
clawdbot nodes canvas hide --node abc123-def456-ghi789
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

- iOS è£ç½®ä¸Šçš„ Canvas é¢æ¿æ¶ˆå¤±
- ç¯€é»ç‹€æ…‹æ¢å¾©ï¼ˆå¦‚æœä¹‹å‰è¢«ä½”ç”¨ï¼‰

## æª¢æŸ¥é» âœ…

**é©—è­‰ Canvas åŠŸèƒ½æ˜¯å¦æ­£å¸¸é‹ä½œ**ï¼š

| æª¢æŸ¥é … | é©—è­‰æ–¹æ³• |
| ------- | -------- |
| Canvas Host åŸ·è¡Œ | `lsof -i :18793` æœ‰è¼¸å‡º |
| ç¯€é» Canvas èƒ½åŠ› | `clawdbot nodes list` é¡¯ç¤º `canvas` |
| é é¢è¼‰å…¥æˆåŠŸ | ç¯€é»é¡¯ç¤º HTML å…§å®¹ |
| A2UI æ¨é€æˆåŠŸ | Canvas é¡¯ç¤ºè—è‰² A2UI ä»‹é¢ |
| JS åŸ·è¡Œå‚³å›çµæœ | `eval` æŒ‡ä»¤å‚³å›å€¼ |
| æˆªåœ–ç”¢ç”Ÿæª”æ¡ˆ | æš«å­˜ç›®éŒ„æœ‰ `.jpg` æˆ– `.png` æª”æ¡ˆ |

## è¸©å‘æé†’

::: warning å‰å°/å¾Œå°é™åˆ¶
- **iOS/Android ç¯€é»**ï¼š`canvas.*` å’Œ `camera.*` æŒ‡ä»¤**å¿…é ˆåœ¨å‰å°åŸ·è¡Œ**
- å¾Œå°å‘¼å«æœƒå‚³å›ï¼š`NODE_BACKGROUND_UNAVAILABLE`
- è§£æ±ºæ–¹æ³•ï¼šå°‡è£ç½®å–šé†’åˆ°å‰å°
:::

::: danger å®‰å…¨æ³¨æ„äº‹é …
- **ç›®éŒ„éæ­·ä¿è­·**ï¼šCanvas URL ç¦æ­¢ `..` å­˜å–ä¸Šå±¤ç›®éŒ„
- **è‡ªè¨‚ Scheme**ï¼š`clawdbot-canvas://` åƒ…é™ç¯€é»å…§éƒ¨ä½¿ç”¨
- **HTTPS é™åˆ¶**ï¼šå¤–éƒ¨ HTTPS URL éœ€è¦ç¯€é»ç¶²è·¯æ¬Šé™
- **æª”æ¡ˆå­˜å–**ï¼šCanvas Host åƒ…å…è¨±å­˜å– `canvasHost.root` ä¸‹çš„æª”æ¡ˆ
:::

::: tip é™¤éŒ¯æŠ€å·§
- **æŸ¥çœ‹ Gateway æ—¥èªŒ**ï¼š`clawdbot gateway logs`
- **æŸ¥çœ‹ç¯€é»æ—¥èªŒ**ï¼šiOS è¨­å®š â†’ Debug Logsï¼ŒAndroid æ‡‰ç”¨å…§æ—¥èªŒ
- **æ¸¬è©¦ URL**ï¼šåœ¨ç€è¦½å™¨ç›´æ¥å­˜å– `http://<gateway-host>:18793/__clawdbot__/canvas/`
:::

## æœ¬èª²å°çµ

æœ¬èª²ä½ å­¸æœƒäº†ï¼š

1. **Canvas æ¶æ§‹**ï¼šç†è§£ Canvas Hostã€Node App å’Œ A2UI å”å®šçš„é—œä¿‚
2. **é…ç½® Canvas Host**ï¼šèª¿æ•´æ ¹ç›®éŒ„ã€é€£æ¥åŸ å’Œç†±é‡è¼‰è¨­å®š
3. **å»ºç«‹è‡ªè¨‚é é¢**ï¼šæ’°å¯« HTML/CSS/JS ä¸¦éƒ¨ç½²åˆ°ç¯€é»
4. **ä½¿ç”¨ A2UI**ï¼šé€é JSONL æ¨é€å‹•æ…‹ UI æ›´æ–°
5. **åŸ·è¡Œ JavaScript**ï¼šåœ¨ Canvas ä¸­åŸ·è¡Œç¨‹å¼ç¢¼ï¼Œè®€å–å’Œä¿®æ”¹ç‹€æ…‹
6. **æ“·å–æˆªåœ–**ï¼šè®“ AI çœ‹åˆ°ç›®å‰ Canvas ç‹€æ…‹

**æ ¸å¿ƒè¦é»**ï¼š

- Canvas Host éš¨ Gateway è‡ªå‹•å•Ÿå‹•ï¼Œç„¡éœ€é¡å¤–é…ç½®
- A2UI é©åˆå³æ™‚è³‡æ–™ï¼Œéœæ…‹ HTML é©åˆè¤‡é›œäº’å‹•
- ç¯€é»å¿…é ˆåœ¨å‰å°æ‰èƒ½åŸ·è¡Œ Canvas æ“ä½œ
- ä½¿ç”¨ `canvas snapshot` å°‡ UI ç‹€æ…‹å‚³éçµ¦ AI

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[èªéŸ³å–šé†’èˆ‡æ–‡å­—è½‰èªéŸ³](../voice-tts/)**ã€‚
>
> ä½ æœƒå­¸åˆ°ï¼š
> - é…ç½® Voice Wake å–šé†’é—œéµå­—
> - ä½¿ç”¨ Talk Mode é€²è¡ŒæŒçºŒèªéŸ³å°è©±
> - æ•´åˆå¤šç¨® TTS æä¾›å•†ï¼ˆEdgeã€Deepgramã€ElevenLabsï¼‰

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»æ“Šå±•é–‹æŸ¥çœ‹åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-27

| åŠŸèƒ½ | æª”æ¡ˆè·¯å¾‘ | è¡Œè™Ÿ |
| ----- | --------- | ---- |
| Canvas Host ä¼ºæœå™¨ | [`src/canvas-host/server.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/canvas-host/server.ts) | 372-441 |
| A2UI å”å®šè™•ç† | [`src/canvas-host/a2ui.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/canvas-host/a2ui.ts) | 150-203 |
| Canvas å·¥å…·å®šç¾© | [`src/agents/tools/canvas-tool.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/agents/tools/canvas-tool.ts) | 52-179 |
| Canvas è·¯å¾‘å¸¸æ•¸ | [`src/canvas-host/a2ui.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/canvas-host/a2ui.ts) | 8-10 |

**é—œéµå¸¸æ•¸**ï¼š
- `A2UI_PATH = "/__clawdbot__/a2ui"`ï¼šA2UI ä¸»æ©Ÿè·¯å¾‘
- `CANVAS_HOST_PATH = "/__clawdbot__/canvas"`ï¼šCanvas æª”æ¡ˆè·¯å¾‘
- `CANVAS_WS_PATH = "/__clawdbot__/ws"`ï¼šWebSocket ç†±é‡è¼‰è·¯å¾‘

**é—œéµå‡½å¼**ï¼š
- `createCanvasHost()`ï¼šå•Ÿå‹• Canvas HTTP ä¼ºæœå™¨ï¼ˆé€£æ¥åŸ  18793ï¼‰
- `injectCanvasLiveReload()`ï¼šæ³¨å…¥ WebSocket ç†±é‡è¼‰è…³æœ¬åˆ° HTML
- `handleA2uiHttpRequest()`ï¼šè™•ç† A2UI è³‡æºè«‹æ±‚
- `createCanvasTool()`ï¼šè¨»å†Š `canvas` å·¥å…·ï¼ˆpresent/hide/navigate/eval/snapshot/a2ui_push/a2ui_resetï¼‰

**æ”¯æ´çš„ Canvas Actions**ï¼š
- `present`ï¼šé¡¯ç¤º Canvasï¼ˆå¯é¸ URLã€ä½ç½®ã€å°ºå¯¸ï¼‰
- `hide`ï¼šéš±è— Canvas
- `navigate`ï¼šå°èˆªåˆ° URLï¼ˆæœ¬æ©Ÿè·¯å¾‘/HTTP/file://ï¼‰
- `eval`ï¼šåŸ·è¡Œ JavaScript
- `snapshot`ï¼šæ“·å–æˆªåœ–ï¼ˆPNG/JPEGï¼Œå¯é¸ maxWidth/qualityï¼‰
- `a2ui_push`ï¼šæ¨é€ A2UI æ›´æ–°ï¼ˆJSONL æˆ–æ–‡å­—ï¼‰
- `a2ui_reset`ï¼šé‡ç½® A2UI ç‹€æ…‹

**é…ç½® Schema**ï¼š
- `canvasHost.root`ï¼šCanvas æ ¹ç›®éŒ„ï¼ˆé è¨­ `~/clawd/canvas`ï¼‰
- `canvasHost.port`ï¼šHTTP é€£æ¥åŸ ï¼ˆé è¨­ 18793ï¼‰
- `canvasHost.liveReload`ï¼šæ˜¯å¦å•Ÿç”¨ç†±é‡è¼‰ï¼ˆé è¨­ trueï¼‰
- `canvasHost.enabled`ï¼šæ˜¯å¦å•Ÿç”¨ Canvas Hostï¼ˆé è¨­ trueï¼‰

**A2UI v0.8 æ”¯æ´çš„è¨Šæ¯**ï¼š
- `beginRendering`ï¼šé–‹å§‹æ¸²æŸ“æŒ‡å®šè¡¨é¢
- `surfaceUpdate`ï¼šæ›´æ–°è¡¨é¢å…ƒä»¶ï¼ˆColumnã€Textã€Button ç­‰ï¼‰
- `dataModelUpdate`ï¼šæ›´æ–°è³‡æ–™æ¨¡å‹
- `deleteSurface`ï¼šåˆªé™¤æŒ‡å®šè¡¨é¢

</details>
