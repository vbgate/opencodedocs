---
title: "opencode-notify é‹ä½œåŸç†ï¼šå››ç¨®é€šçŸ¥é¡å‹èˆ‡æ™ºæ…§éæ¿¾æ©Ÿåˆ¶è©³è§£ | æ•™å­¸"
sidebarTitle: "ç‚ºä»€éº¼ä¸æœƒè¢«æ‰“æ“¾"
subtitle: "é‹ä½œåŸç†ï¼šé€šçŸ¥ã€éæ¿¾èˆ‡è§¸ç™¼æ©Ÿåˆ¶"
description: "æ·±å…¥äº†è§£ opencode-notify çš„é‹ä½œåŸç†ï¼ŒæŒæ¡å››ç¨®é€šçŸ¥é¡å‹ï¼ˆä»»å‹™å®Œæˆã€éŒ¯èª¤ã€æ¬Šé™è«‹æ±‚ã€å•é¡Œè©¢å•ï¼‰ã€ä¸‰å±¤æ™ºæ…§éæ¿¾æ©Ÿåˆ¶ï¼ˆçˆ¶å·¥ä½œéšæ®µæª¢æŸ¥ã€éœéŸ³æ™‚æ®µã€çµ‚ç«¯æ©Ÿç„¦é»åµæ¸¬ï¼‰ä»¥åŠå®Œæ•´çš„é€šçŸ¥è§¸ç™¼æµç¨‹ï¼Œå­¸æœƒé€éè¨­å®šæª”è‡ªè¨‚é€šçŸ¥è¡Œç‚ºï¼Œç†è§£ macOS èˆ‡ Windows/Linux çš„å¹³å°å·®ç•°ï¼Œæå‡å·¥ä½œæ•ˆç‡èˆ‡å°ˆæ³¨åº¦ã€‚"
tags:
  - "åŸç†"
  - "é€šçŸ¥æ©Ÿåˆ¶"
  - "æ™ºæ…§éæ¿¾"
prerequisite:
  - "start-quick-start"
order: 20
---

# é‹ä½œåŸç†ï¼šé€šçŸ¥ã€éæ¿¾èˆ‡è§¸ç™¼æ©Ÿåˆ¶

## å­¸å®Œä½ èƒ½åšä»€éº¼

- ç†è§£ opencode-notify çš„å››ç¨®é€šçŸ¥é¡å‹åŠå…¶è§¸ç™¼æ™‚æ©Ÿ
- æŒæ¡æ™ºæ…§éæ¿¾æ©Ÿåˆ¶çš„é‹ä½œåŸç†ï¼ˆç‚ºä»€éº¼ä¸æœƒæ”¶åˆ°å¤ªå¤šé€šçŸ¥ï¼‰
- äº†è§£é€šçŸ¥å¾è§¸ç™¼åˆ°é¡¯ç¤ºçš„å®Œæ•´æµç¨‹
- çŸ¥é“å¦‚ä½•é€éè¨­å®šèª¿æ•´é€šçŸ¥è¡Œç‚º

## æ ¸å¿ƒæ€è·¯

::: tip è¨­è¨ˆå“²å­¸
opencode-notify éµå¾ªä¸€å€‹æ ¸å¿ƒåŸå‰‡ï¼š**ã€Œè©²é€šçŸ¥ä½¿ç”¨è€…æ™‚æ‰é€šçŸ¥ï¼Œè€Œä¸æ˜¯ç‚ºæ¯å€‹å¾®å°äº‹ä»¶é€šçŸ¥ã€**ã€‚
:::

é€™å€‹å¤–æ›ç¨‹å¼çš„é‹ä½œæ–¹å¼å¯ä»¥æ‹†è§£ç‚ºä¸‰å€‹é—œéµç’°ç¯€ï¼š

1. **ç›£è½** - ç­‰å¾… OpenCode ç™¼ç”Ÿé‡è¦äº‹ä»¶
2. **éæ¿¾** - æ±ºå®šé€™å€‹äº‹ä»¶æ˜¯å¦éœ€è¦é€šçŸ¥
3. **å‚³é€** - é€éä½œæ¥­ç³»çµ±åŸç”Ÿé€šçŸ¥æé†’ä½ 

ç†è§£é€™å€‹æµç¨‹ï¼Œä½ å°±èƒ½çŸ¥é“ç‚ºä»€éº¼å¤–æ›ç¨‹å¼æ—¢èƒ½åŠæ™‚æé†’ï¼Œåˆä¸æœƒåƒåƒåœ¾è¨Šæ¯ä¸€æ¨£é »ç¹æ‰“æ“¾ã€‚

## å››ç¨®é€šçŸ¥é¡å‹

opencode-notify ç›£è½å››é¡ OpenCode äº‹ä»¶ï¼Œæ¯é¡éƒ½æœ‰æ˜ç¢ºçš„è§¸ç™¼å ´æ™¯ï¼š

### 1. ä»»å‹™å®Œæˆé€šçŸ¥ (session.idle)

**è§¸ç™¼æ™‚æ©Ÿ**ï¼šç•¶ AI å·¥ä½œéšæ®µé€²å…¥é–’ç½®ç‹€æ…‹ï¼ˆä»»å‹™å®Œæˆï¼‰

| é …ç›® | èªªæ˜ |
| --- | ---|
| é€šçŸ¥æ¨™é¡Œ | Ready for review |
| é€šçŸ¥å…§å®¹ | å·¥ä½œéšæ®µæ¨™é¡Œï¼ˆæœ€å¤š 50 å­—å…ƒï¼‰ |
| é è¨­éŸ³æ•ˆ | Glass (macOS) |

**ç‚ºä»€éº¼é‡è¦**ï¼šé€™æ˜¯æœ€å¸¸ç”¨çš„é€šçŸ¥ï¼Œè®“ä½ çŸ¥é“ AI å·²ç¶“å®Œæˆä»»å‹™ï¼Œå¯ä»¥éä¾†æª¢æŸ¥çµæœäº†ã€‚

### 2. éŒ¯èª¤é€šçŸ¥ (session.error)

**è§¸ç™¼æ™‚æ©Ÿ**ï¼šç•¶ AI å·¥ä½œéšæ®µåŸ·è¡Œå‡ºéŒ¯

| é …ç›® | èªªæ˜ |
| --- | ---|
| é€šçŸ¥æ¨™é¡Œ | Something went wrong |
| é€šçŸ¥å…§å®¹ | éŒ¯èª¤æ‘˜è¦ï¼ˆæœ€å¤š 100 å­—å…ƒï¼‰ |
| é è¨­éŸ³æ•ˆ | Basso (macOS) |

**ç‚ºä»€éº¼é‡è¦**ï¼šéŒ¯èª¤éœ€è¦åŠæ™‚è™•ç†ï¼Œå¦å‰‡å¾ŒçºŒæ“ä½œå¯èƒ½ç„¡æ³•æ­£å¸¸é€²è¡Œã€‚

### 3. æ¬Šé™è«‹æ±‚é€šçŸ¥ (permission.updated)

**è§¸ç™¼æ™‚æ©Ÿ**ï¼šç•¶ AI éœ€è¦ä½¿ç”¨è€…æˆæ¬ŠåŸ·è¡ŒæŸæ“ä½œï¼ˆå¦‚è®€å–æª”æ¡ˆã€å­˜å–ç¶²è·¯ï¼‰

| é …ç›® | èªªæ˜ |
| --- | ---|
| é€šçŸ¥æ¨™é¡Œ | Waiting for you |
| é€šçŸ¥å…§å®¹ | OpenCode needs your input |
| é è¨­éŸ³æ•ˆ | Submarine (macOS) |

**ç‚ºä»€éº¼é‡è¦**ï¼šAI è¢«é˜»å¡äº†ï¼Œéœ€è¦ä½ æ‰‹å‹•æˆæ¬Šæ‰èƒ½ç¹¼çºŒï¼Œä¸è™•ç†æœƒå°è‡´ä»»å‹™å¡ä½ã€‚

### 4. å•é¡Œè©¢å•é€šçŸ¥ (tool.execute.before)

**è§¸ç™¼æ™‚æ©Ÿ**ï¼šç•¶ AI ä½¿ç”¨ `question` å·¥å…·å‘ä½ æå•

| é …ç›® | èªªæ˜ |
| --- | ---|
| é€šçŸ¥æ¨™é¡Œ | Question for you |
| é€šçŸ¥å…§å®¹ | OpenCode needs your input |
| é è¨­éŸ³æ•ˆ | Submarine (macOS) |

**ç‚ºä»€éº¼é‡è¦**ï¼šAI éœ€è¦æ›´å¤šè³‡è¨Šæ‰èƒ½ç¹¼çºŒï¼Œæ¯”å¦‚ç¢ºèªæŸå€‹æ±ºç­–æˆ–æ¾„æ¸…éœ€æ±‚ã€‚

::: info å››ç¨®é€šçŸ¥çš„å„ªå…ˆé †åº
æ¬Šé™è«‹æ±‚å’Œå•é¡Œè©¢å•çš„å„ªå…ˆé †åºæœ€é«˜ï¼Œå› ç‚º AI åœ¨é€™äº›äº‹ä»¶ä¸‹æ˜¯å®Œå…¨é˜»å¡çš„ï¼›éŒ¯èª¤é€šçŸ¥æ¬¡ä¹‹ï¼Œå› ç‚ºä»»å‹™å·²å¤±æ•—ï¼›ä»»å‹™å®Œæˆé€šçŸ¥çš„å„ªå…ˆé †åºç›¸å°è¼ƒä½ï¼Œå› ç‚ºä½ å¯ä»¥åœ¨æ–¹ä¾¿çš„æ™‚å€™å†æª¢æŸ¥ã€‚
:::

## æ™ºæ…§éæ¿¾æ©Ÿåˆ¶

é€™æ˜¯ opencode-notify æœ€å¤§çš„äº®é»â€”â€”é€éå¤šå±¤éæ¿¾ï¼Œç¢ºä¿ä½ åªæ”¶åˆ°çœŸæ­£éœ€è¦é—œæ³¨çš„é€šçŸ¥ã€‚

### éæ¿¾å±¤ç´šæ¦‚è¦½

```mermaid
graph TD
    A[OpenCode äº‹ä»¶è§¸ç™¼] --> B{æ˜¯å¦çˆ¶å·¥ä½œéšæ®µ?}
    B -->|å¦| C[ğŸš« ä¸é€šçŸ¥<br/>å­å·¥ä½œéšæ®µè¢«æŠ‘åˆ¶]
    B -->|æ˜¯| D{æ˜¯å¦éœéŸ³æ™‚æ®µ?}
    D -->|æ˜¯| C
    D -->|å¦| E{çµ‚ç«¯æ©Ÿæ˜¯å¦èšç„¦?}
    E -->|æ˜¯| C
    E -->|å¦| F[âœ… å‚³é€é€šçŸ¥]
```

### å±¤ç´š 1ï¼šçˆ¶å·¥ä½œéšæ®µæª¢æŸ¥

**è¦å‰‡**ï¼šé è¨­åªé€šçŸ¥çˆ¶å·¥ä½œéšæ®µï¼ˆæ ¹å·¥ä½œéšæ®µï¼‰ï¼Œä¸é€šçŸ¥å­å·¥ä½œéšæ®µã€‚

**åŸç†**ï¼šOpenCode çš„ä»»å‹™å¯èƒ½æ˜¯åµŒå¥—çš„ã€‚æ¯”å¦‚ä½ è®“ AI ã€Œæœ€ä½³åŒ–ç¨‹å¼ç¢¼åº«ã€ï¼Œå®ƒå¯èƒ½æœƒæ‹†åˆ†æˆå¤šå€‹å­ä»»å‹™ï¼š
- çˆ¶å·¥ä½œéšæ®µï¼šã€Œæœ€ä½³åŒ–æ•´å€‹ç¨‹å¼ç¢¼åº«ã€
- å­å·¥ä½œéšæ®µ 1ï¼šã€Œæœ€ä½³åŒ– src/components ç›®éŒ„ã€
- å­å·¥ä½œéšæ®µ 2ï¼šã€Œæœ€ä½³åŒ– src/utils ç›®éŒ„ã€

å¦‚æœæ‰€æœ‰å­å·¥ä½œéšæ®µéƒ½é€šçŸ¥ï¼Œä½ æœƒæ”¶åˆ°ä¸€å †é€šçŸ¥ã€‚opencode-notify åªåœ¨çˆ¶å·¥ä½œéšæ®µå®Œæˆæ™‚é€šçŸ¥ä¸€æ¬¡ã€‚

::: tip ä½•æ™‚éœ€è¦å­å·¥ä½œéšæ®µé€šçŸ¥ï¼Ÿ
å¦‚æœä½ æ­£åœ¨ç›£æ§å–®å€‹ AI çš„å¤šå€‹ä½µç™¼ä»»å‹™ï¼Œå¯ä»¥åœ¨è¨­å®šä¸­è¨­å®š `notifyChildSessions: true` å•Ÿç”¨å­å·¥ä½œéšæ®µé€šçŸ¥ã€‚
:::

**ç‰¹æ®Šä¾‹å¤–**ï¼š
- **æ¬Šé™è«‹æ±‚é€šçŸ¥**ï¼šå§‹çµ‚é€šçŸ¥ï¼Œä¸æª¢æŸ¥çˆ¶å·¥ä½œéšæ®µï¼ˆå› ç‚ºæ¬Šé™å•é¡Œå¿…é ˆè™•ç†ï¼‰
- **å•é¡Œè©¢å•é€šçŸ¥**ï¼šå§‹çµ‚é€šçŸ¥ï¼Œä¸æª¢æŸ¥çˆ¶å·¥ä½œéšæ®µ

### å±¤ç´š 2ï¼šéœéŸ³æ™‚æ®µæª¢æŸ¥

**è¦å‰‡**ï¼šåœ¨è¨­å®šçš„éœéŸ³æ™‚é–“æ®µå…§ï¼Œä¸å‚³é€ä»»ä½•é€šçŸ¥ã€‚

**åŸç†**ï¼šé¿å…åœ¨å¤œé–“æˆ–ä¼‘æ¯æ™‚é–“è¢«æ‰“æ“¾ã€‚è¨­å®šç¯„ä¾‹ï¼š

```json
{
  "quietHours": {
    "enabled": true,
    "start": "22:00",
    "end": "08:00"
  }
}
```

**è·¨åˆå¤œæ”¯æ´**ï¼šéœéŸ³æ™‚æ®µå¯ä»¥è·¨åˆå¤œï¼Œæ¯”å¦‚ `22:00 - 08:00` æœƒæ­£ç¢ºè­˜åˆ¥ç‚ºæ™šä¸Š 10 é»åˆ°æ¬¡æ—¥æ—©ä¸Š 8 é»ã€‚

::: info éœéŸ³æ™‚æ®µæª¢æŸ¥å„ªå…ˆé †åº
éœéŸ³æ™‚æ®µçš„å„ªå…ˆé †åºé«˜æ–¼å…¶ä»–æ‰€æœ‰æª¢æŸ¥ã€‚å³ä½¿åœ¨éœéŸ³æ™‚æ®µå…§ï¼Œçµ‚ç«¯æ©Ÿä¸èšç„¦æˆ–çˆ¶å·¥ä½œéšæ®µç­‰æ¢ä»¶ä¹Ÿä¸æœƒç¹ééœéŸ³æ™‚æ®µã€‚
:::

### å±¤ç´š 3ï¼šçµ‚ç«¯æ©Ÿç„¦é»åµæ¸¬

**è¦å‰‡**ï¼šç•¶çµ‚ç«¯æ©Ÿè¦–çª—æ˜¯ç›®å‰æ´»å‹•è¦–çª—æ™‚ï¼Œä¸å‚³é€é€šçŸ¥ã€‚

**åŸç†**ï¼šä½ æ­£åœ¨çœ‹çµ‚ç«¯æ©Ÿæ™‚ï¼ŒAI å®Œæˆä»»å‹™æœƒç›´æ¥é¡¯ç¤ºåœ¨è¢å¹•ä¸Šï¼Œä¸éœ€è¦é¡å¤–é€šçŸ¥ã€‚

**å¹³å°æ”¯æ´**ï¼š
- âœ… **macOS**ï¼šå®Œå…¨æ”¯æ´ï¼Œé€é `osascript` åµæ¸¬å‰å°æ‡‰ç”¨
- âŒ **Windows**ï¼šä¸æ”¯æ´
- âŒ **Linux**ï¼šä¸æ”¯æ´

**åµæ¸¬æ©Ÿåˆ¶**ï¼ˆmacOSï¼‰ï¼š
1. ä½¿ç”¨ `detect-terminal` å‡½å¼åº«è­˜åˆ¥ä½ çš„çµ‚ç«¯æ©Ÿï¼ˆæ”¯æ´ 37+ çµ‚ç«¯æ©Ÿæ¨¡æ“¬å™¨ï¼‰
2. æŸ¥è©¢ macOS å–å¾—ç›®å‰å‰å°æ‡‰ç”¨
3. æ¯”è¼ƒæ˜¯å¦åŒ¹é…ä½ çš„çµ‚ç«¯æ©Ÿç¨‹åºå
4. åŒ¹é…å‰‡æŠ‘åˆ¶é€šçŸ¥

**ç‰¹æ®Šä¾‹å¤–**ï¼š
- **å•é¡Œè©¢å•é€šçŸ¥**ï¼šä¸åšç„¦é»æª¢æŸ¥ï¼ˆæ”¯æ´ tmux å·¥ä½œæµç¨‹ï¼‰

::: tip tmux å·¥ä½œæµç¨‹æ”¯æ´
å¦‚æœä½ åœ¨ tmux ä¸­ä½¿ç”¨å¤šå€‹çª—æ ¼ï¼Œå•é¡Œè©¢å•é€šçŸ¥ä¸æœƒå› ç„¦é»åµæ¸¬è¢«æŠ‘åˆ¶ï¼Œç¢ºä¿ä½ èƒ½åœ¨å…¶ä»–çª—æ ¼å·¥ä½œæ™‚æ”¶åˆ°æé†’ã€‚
:::

### macOS ç‰¹æ®ŠåŠŸèƒ½ï¼šé»é¸é€šçŸ¥èšç„¦çµ‚ç«¯æ©Ÿ

åœ¨ macOS ä¸Šï¼Œé€šçŸ¥é‚„æœ‰ä¸€å€‹é¡å¤–åŠŸèƒ½ï¼š**é»é¸é€šçŸ¥å¾Œï¼Œçµ‚ç«¯æ©Ÿè¦–çª—æœƒè‡ªå‹•ç½®é ‚**ã€‚

**åŸç†**ï¼š
1. å¤–æ›ç¨‹å¼é€é `osascript` å–å¾—ä½ çš„çµ‚ç«¯æ©Ÿ Bundle IDï¼ˆå¦‚ `com.ghostty.Ghostty`ï¼‰
2. å‚³é€é€šçŸ¥æ™‚è¨­å®š `activate` é¸é …ç‚ºè©² Bundle ID
3. é»é¸é€šçŸ¥æ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•èšç„¦åˆ°å°æ‡‰çš„æ‡‰ç”¨

**æ”¯æ´çš„çµ‚ç«¯æ©Ÿ**ï¼šGhostty, Kitty, iTerm2, WezTerm, Alacritty, macOS Terminal, Hyper, Warp, VS Code æ•´åˆçµ‚ç«¯æ©Ÿç­‰ã€‚

::: info è‡ªå‹•çµ‚ç«¯æ©Ÿåµæ¸¬
å¤–æ›ç¨‹å¼æœƒè‡ªå‹•åµæ¸¬ä½ ä½¿ç”¨çš„çµ‚ç«¯æ©Ÿï¼Œç„¡éœ€æ‰‹å‹•è¨­å®šã€‚å¦‚æœè‡ªå‹•åµæ¸¬å¤±æ•—ï¼Œå¯ä»¥åœ¨è¨­å®šæª”ä¸­æ‰‹å‹•æŒ‡å®š `terminal` æ¬„ä½ã€‚
:::

## é€šçŸ¥è§¸ç™¼æµç¨‹

### å®Œæ•´æµç¨‹åœ–

```mermaid
sequenceDiagram
    participant AI as OpenCode AI
    participant OC as OpenCode Core
    participant Plugin as opencode-notify
    participant User as ä½¿ç”¨è€…çµ‚ç«¯æ©Ÿ
    participant OS as ä½œæ¥­ç³»çµ±é€šçŸ¥

    AI->>OC: å·¥ä½œéšæ®µå®Œæˆ (session.idle)
    OC->>Plugin: è§¸ç™¼äº‹ä»¶
    Plugin->>Plugin: æª¢æŸ¥æ˜¯å¦çˆ¶å·¥ä½œéšæ®µ
    alt å­å·¥ä½œéšæ®µ
        Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
    else çˆ¶å·¥ä½œéšæ®µ
        Plugin->>Plugin: æª¢æŸ¥éœéŸ³æ™‚æ®µ
        alt åœ¨éœéŸ³æ™‚æ®µ
            Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
        else ééœéŸ³æ™‚æ®µ
            Plugin->>Plugin: æª¢æŸ¥çµ‚ç«¯æ©Ÿç„¦é»
            alt çµ‚ç«¯æ©Ÿå·²èšç„¦
                Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
            else çµ‚ç«¯æ©Ÿæœªèšç„¦
                Plugin->>OS: å‚³é€åŸç”Ÿé€šçŸ¥
                OS->>User: é¡¯ç¤ºæ¡Œé¢é€šçŸ¥
                alt macOS + ä½¿ç”¨è€…é»é¸
                    OS->>User: èšç„¦çµ‚ç«¯æ©Ÿè¦–çª—
                end
            end
        end
    end
```

### äº‹ä»¶è™•ç†å„ªå…ˆé †åº

ç•¶å¤šå€‹äº‹ä»¶åŒæ™‚è§¸ç™¼æ™‚ï¼Œå¤–æ›ç¨‹å¼æœƒä¾ç…§ä»¥ä¸‹å„ªå…ˆé †åºè™•ç†ï¼š

1. **æœ€é«˜å„ªå…ˆé †åº**ï¼šæ¬Šé™è«‹æ±‚ï¼ˆ`permission.updated`ï¼‰- AI è¢«é˜»å¡ï¼Œå¿…é ˆè™•ç†
2. **æ¬¡é«˜å„ªå…ˆé †åº**ï¼šéŒ¯èª¤é€šçŸ¥ï¼ˆ`session.error`ï¼‰- ä»»å‹™å¤±æ•—ï¼Œéœ€è¦é—œæ³¨
3. **ä½å„ªå…ˆé †åº**ï¼šä»»å‹™å®Œæˆï¼ˆ`session.idle`ï¼‰- å¯ä»¥ç¨å¾Œæª¢æŸ¥
4. **ç‰¹æ®Š**ï¼šå•é¡Œè©¢å•ï¼ˆ`tool.execute.before`ï¼‰- æ ¹æ“šå¯¦éš›éœ€æ±‚æ±ºå®šå„ªå…ˆé †åº

::: tip æ‰¹æ¬¡é€šçŸ¥è™•ç†
å¦‚æœå¤šå€‹ä»»å‹™åŒæ™‚å®Œæˆï¼Œå¤–æ›ç¨‹å¼ä¸æœƒåˆ†åˆ¥å‚³é€å¤šå€‹é€šçŸ¥ï¼Œè€Œæ˜¯åªå‚³é€ä¸€å€‹é€šçŸ¥ï¼ˆåŸºæ–¼çˆ¶å·¥ä½œéšæ®µæª¢æŸ¥ï¼‰ã€‚é€™é¿å…äº†é€šçŸ¥è½Ÿç‚¸ã€‚
:::

## è¨­å®šå½±éŸ¿

é€éè¨­å®šæª”ï¼Œä½ å¯ä»¥èª¿æ•´éæ¿¾æ©Ÿåˆ¶çš„å„å€‹å±¤ç´šï¼š

| è¨­å®šé … | å½±éŸ¿å±¤ç´š | é è¨­å€¼ | èªªæ˜ |
| --- | --- | --- | ---|
| `notifyChildSessions` | çˆ¶å·¥ä½œéšæ®µæª¢æŸ¥ | `false` | è¨­ç‚º `true` å¯å•Ÿç”¨å­å·¥ä½œéšæ®µé€šçŸ¥ |
| `quietHours.enabled` | éœéŸ³æ™‚æ®µæª¢æŸ¥ | `false` | è¨­ç‚º `true` å•Ÿç”¨éœéŸ³æ™‚æ®µ |
| `quietHours.start` | éœéŸ³æ™‚æ®µæª¢æŸ¥ | `"22:00"` | éœéŸ³é–‹å§‹æ™‚é–“ |
| `quietHours.end` | éœéŸ³æ™‚æ®µæª¢æŸ¥ | `"08:00"` | éœéŸ³çµæŸæ™‚é–“ |
| `terminal` | çµ‚ç«¯æ©Ÿåµæ¸¬ | æœªè¨­å®š | æ‰‹å‹•æŒ‡å®šçµ‚ç«¯æ©Ÿé¡å‹ï¼ˆè¦†è“‹è‡ªå‹•åµæ¸¬ï¼‰ |

::: details è¨­å®šç¯„ä¾‹

```json
{
  "enabled": true,
  "notifyChildSessions": false,
  "sounds": {
    "idle": "Glass",
    "error": "Basso",
    "permission": "Submarine"
  },
  "quietHours": {
    "enabled": true,
    "start": "22:00",
    "end": "08:00"
  },
  "terminal": "ghostty"
}
```

:::

## æœ¬èª²å°çµ

opencode-notify çš„é‹ä½œåŸç†å¯ä»¥æ¦‚æ‹¬ç‚ºï¼š

1. **å››ç¨®é€šçŸ¥é¡å‹**ï¼šä»»å‹™å®Œæˆã€éŒ¯èª¤ã€æ¬Šé™è«‹æ±‚ã€å•é¡Œè©¢å•
2. **ä¸‰å±¤æ™ºæ…§éæ¿¾**ï¼šçˆ¶å·¥ä½œéšæ®µæª¢æŸ¥ â†’ éœéŸ³æ™‚æ®µæª¢æŸ¥ â†’ çµ‚ç«¯æ©Ÿç„¦é»æª¢æŸ¥
3. **å¹³å°å·®ç•°**ï¼šmacOS æ”¯æ´ç„¦é»åµæ¸¬å’Œé»é¸èšç„¦ï¼ŒWindows/Linux åƒ…æ”¯æ´åŸºç¤é€šçŸ¥
4. **éˆæ´»è¨­å®š**ï¼šé€é JSON è¨­å®šæª”èª¿æ•´éæ¿¾å±¤ç´šå’Œè¡Œç‚º

é€™å€‹è¨­è¨ˆç¢ºä¿äº†é€šçŸ¥çš„åŠæ™‚æ€§å’Œä½å¹²æ“¾æ€§â€”â€”åªåœ¨çœŸæ­£éœ€è¦ä½ çš„æ™‚å€™æé†’ï¼Œè€Œä¸æœƒæˆç‚ºå¦ä¸€å€‹éœ€è¦é »ç¹æŸ¥çœ‹çš„é€šçŸ¥ä¸­å¿ƒã€‚

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[macOS å¹³å°ç‰¹æ€§](../../platforms/macos/)**ã€‚
>
> ä½ æœƒå­¸åˆ°ï¼š
> - macOS ç¨æœ‰çš„ç„¦é»åµæ¸¬æ©Ÿåˆ¶
> - å¦‚ä½•è¨­å®šé»é¸é€šçŸ¥èšç„¦åŠŸèƒ½
> - è‡ªè¨‚éŸ³æ•ˆçš„å®Œæ•´åˆ—è¡¨
> - èˆ‡ macOS åŸç”Ÿç³»çµ±çš„æ•´åˆç´°ç¯€

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»é¸å±•é–‹æª¢è¦–åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-27

| åŠŸèƒ½ | æª”æ¡ˆè·¯å¾‘ | è¡Œè™Ÿ |
| --- | --- | ---|
| å¤–æ›ç¨‹å¼ä¸»å…¥å£ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L357-L406) | 357-406 |
| è¨­å®šè¼‰å…¥ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L90-L114) | 90-114 |
| é è¨­è¨­å®š | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L56-L68) | 56-68 |
| çµ‚ç«¯æ©Ÿåµæ¸¬ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L145-L164) | 145-164 |
| çµ‚ç«¯æ©Ÿç„¦é»åµæ¸¬ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L166-L175) | 166-175 |
| éœéŸ³æ™‚æ®µæª¢æŸ¥ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L181-L199) | 181-199 |
| çˆ¶å·¥ä½œéšæ®µåµæ¸¬ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L205-L214) | 205-214 |
| ä»»å‹™å®Œæˆè™•ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L249-L284) | 249-284 |
| éŒ¯èª¤é€šçŸ¥è™•ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L286-L313) | 286-313 |
| æ¬Šé™è«‹æ±‚è™•ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L315-L334) | 315-334 |
| å•é¡Œè©¢å•è™•ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L336-L351) | 336-351 |
| é€šçŸ¥å‚³é€ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L227-L243) | 227-243 |
| macOS å‰å°æ‡‰ç”¨åµæ¸¬ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L139-L143) | 139-143 |
| Bundle ID å–å¾— | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L135-L137) | 135-137 |
| çµ‚ç«¯æ©Ÿç¨‹åºåå°æ‡‰ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L71-L84) | 71-84 |

**é—œéµå¸¸æ•¸**ï¼š

- `DEFAULT_CONFIG`ï¼šé è¨­è¨­å®šï¼ˆç¬¬ 56-68 è¡Œï¼‰
  - `notifyChildSessions: false`ï¼šé è¨­ä¸é€šçŸ¥å­å·¥ä½œéšæ®µ
  - `sounds.idle: "Glass"`ï¼šä»»å‹™å®ŒæˆéŸ³æ•ˆ
  - `sounds.error: "Basso"`ï¼šéŒ¯èª¤éŸ³æ•ˆ
  - `sounds.permission: "Submarine"`ï¼šæ¬Šé™è«‹æ±‚éŸ³æ•ˆ
  - `quietHours.start: "22:00"`ã€`quietHours.end: "08:00"`ï¼šé è¨­éœéŸ³æ™‚æ®µ

- `TERMINAL_PROCESS_NAMES`ï¼šçµ‚ç«¯æ©Ÿåç¨±åˆ° macOS ç¨‹åºåçš„å°æ‡‰ï¼ˆç¬¬ 71-84 è¡Œï¼‰

**é—œéµå‡½å¼**ï¼š

- `loadConfig()`ï¼šè¼‰å…¥ä¸¦åˆä½µè¨­å®šæª”èˆ‡é è¨­è¨­å®š
- `detectTerminalInfo()`ï¼šåµæ¸¬çµ‚ç«¯æ©Ÿè³‡è¨Šï¼ˆåç¨±ã€Bundle IDã€ç¨‹åºåï¼‰
- `isTerminalFocused()`ï¼šæª¢æŸ¥çµ‚ç«¯æ©Ÿæ˜¯å¦ç‚ºç›®å‰å‰å°æ‡‰ç”¨ï¼ˆmacOSï¼‰
- `isQuietHours()`ï¼šæª¢æŸ¥ç›®å‰æ™‚é–“æ˜¯å¦åœ¨éœéŸ³æ™‚æ®µå…§
- `isParentSession()`ï¼šæª¢æŸ¥å·¥ä½œéšæ®µæ˜¯å¦ç‚ºçˆ¶å·¥ä½œéšæ®µ
- `sendNotification()`ï¼šå‚³é€åŸç”Ÿé€šçŸ¥ï¼Œæ”¯æ´ macOS é»é¸èšç„¦
- `handleSessionIdle()`ï¼šè™•ç†ä»»å‹™å®Œæˆäº‹ä»¶
- `handleSessionError()`ï¼šè™•ç†éŒ¯èª¤äº‹ä»¶
- `handlePermissionUpdated()`ï¼šè™•ç†æ¬Šé™è«‹æ±‚äº‹ä»¶
- `handleQuestionAsked()`ï¼šè™•ç†å•é¡Œè©¢å•äº‹ä»¶

**æ¥­å‹™è¦å‰‡**ï¼š

- BR-1-1ï¼šé è¨­åªé€šçŸ¥çˆ¶å·¥ä½œéšæ®µï¼Œä¸é€šçŸ¥å­å·¥ä½œéšæ®µï¼ˆ`notify.ts:256-259`ï¼‰
- BR-1-2ï¼šçµ‚ç«¯æ©Ÿèšç„¦æ™‚æŠ‘åˆ¶é€šçŸ¥ï¼ˆ`notify.ts:265`ï¼‰
- BR-1-3ï¼šéœéŸ³æ™‚æ®µå…§ä¸å‚³é€é€šçŸ¥ï¼ˆ`notify.ts:262`ï¼‰
- BR-1-4ï¼šæ¬Šé™è«‹æ±‚å§‹çµ‚é€šçŸ¥ï¼Œç„¡éœ€çˆ¶å·¥ä½œéšæ®µæª¢æŸ¥ï¼ˆ`notify.ts:319`ï¼‰
- BR-1-5ï¼šå•é¡Œè©¢å•ä¸åšç„¦é»æª¢æŸ¥ï¼Œæ”¯æ´ tmux å·¥ä½œæµç¨‹ï¼ˆ`notify.ts:340`ï¼‰
- BR-1-6ï¼šmacOS æ”¯æ´é»é¸é€šçŸ¥èšç„¦çµ‚ç«¯æ©Ÿï¼ˆ`notify.ts:238-240`ï¼‰

</details>
