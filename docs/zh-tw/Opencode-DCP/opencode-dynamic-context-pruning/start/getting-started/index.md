---
title: "å¿«é€Ÿé–‹å§‹: å®‰è£ DCP å¤–æ› | OpenCode DCP"
sidebarTitle: "å¿«é€Ÿé–‹å§‹"
subtitle: "å¿«é€Ÿé–‹å§‹: å®‰è£ DCP å¤–æ›"
description: "å­¸ç¿’åœ¨ 5 åˆ†é˜å…§å®Œæˆ OpenCode DCP å¤–æ›å®‰è£ã€‚é…ç½®å¤–æ›ã€é©—è­‰å®‰è£ã€æŸ¥çœ‹ä¿®å‰ªæ•ˆæœï¼Œé€éè‡ªå‹•å»é‡å’Œ AI é©…å‹•ä¿®å‰ªé™ä½ Token æ¶ˆè€—ã€‚"
tags:
  - "å®‰è£"
  - "å¿«é€Ÿé–‹å§‹"
  - "DCP"
prerequisite:
  - "å·²å®‰è£ OpenCode"
order: 1
---

# å®‰è£èˆ‡å¿«é€Ÿé–‹å§‹

## å­¸å®Œä½ èƒ½åšä»€éº¼

- âœ… åœ¨ 5 åˆ†é˜å…§å®Œæˆ DCP å¤–æ›å®‰è£
- âœ… é…ç½®å¤–æ›ä¸¦é©—è­‰å®‰è£æˆåŠŸ
- âœ… çœ‹åˆ°é¦–æ¬¡è‡ªå‹•ä¿®å‰ªçš„æ•ˆæœ

## ä½ ç¾åœ¨çš„å›°å¢ƒ

ç”¨ OpenCode ä¹…äº†ï¼Œå°è©±è¶Šä¾†è¶Šé•·ï¼š
- AI é‡è¤‡è®€å–åŒä¸€å€‹æª”æ¡ˆå¤šæ¬¡
- å·¥å…·å‘¼å«çš„éŒ¯èª¤è¨Šæ¯ä½”æ»¿ä¸Šä¸‹æ–‡
- æ¯æ¬¡å°è©±éƒ½è¦æ¶ˆè€—å¤§é‡ Token
- **å°è©±è¶Šé•·ï¼ŒAI éŸ¿æ‡‰è¶Šæ…¢**

ä½ å¸Œæœ›èƒ½è‡ªå‹•æ¸…ç†å°è©±ä¸­çš„å†—é¤˜å…§å®¹ï¼Œä½†ä¸æƒ³æ‰‹å‹•æ“ä½œã€‚

## æ ¸å¿ƒæ€è·¯

**DCPï¼ˆDynamic Context Pruningï¼‰** æ˜¯ OpenCode å¤–æ›ï¼Œè‡ªå‹•ç§»é™¤å°è©±æ­·å²ä¸­çš„å†—é¤˜å·¥å…·å‘¼å«ï¼Œé™ä½ Token æ¶ˆè€—ã€‚

å®ƒçš„å·¥ä½œæ–¹å¼ï¼š
1. **è‡ªå‹•æª¢æ¸¬**ï¼šæ¯æ¬¡å‚³é€è¨Šæ¯å‰ï¼Œè‡ªå‹•åˆ†æå°è©±æ­·å²
2. **æ™ºæ…§æ¸…ç†**ï¼šç§»é™¤é‡è¤‡çš„å·¥å…·å‘¼å«ã€éæœŸéŒ¯èª¤ã€è¢«è¦†è“‹çš„å¯«å…¥
3. **AI é©…å‹•**ï¼šAI å¯ä»¥ä¸»å‹•å‘¼å« `discard` å’Œ `extract` å·¥å…·å„ªåŒ–ä¸Šä¸‹æ–‡
4. **é€æ˜å¯æ§**ï¼šé€é `/dcp` æŒ‡ä»¤æŸ¥çœ‹ä¿®å‰ªçµ±è¨ˆï¼Œæ‰‹å‹•è§¸ç™¼æ¸…ç†

::: tip æ ¸å¿ƒå„ªå‹¢
- **é›¶æˆæœ¬**ï¼šè‡ªå‹•ç­–ç•¥ç„¡éœ€ LLM å‘¼å«
- **é›¶é…ç½®**ï¼šå®‰è£å³ç”¨ï¼Œé è¨­é…ç½®å·²å„ªåŒ–
- **é›¶é¢¨éšª**ï¼šåªä¿®æ”¹å‚³é€çµ¦ LLM çš„ä¸Šä¸‹æ–‡ï¼Œå°è©±æ­·å²ä¸å—å½±éŸ¿
:::

## ğŸ’ é–‹å§‹å‰çš„æº–å‚™

é–‹å§‹å®‰è£å‰ï¼Œè«‹ç¢ºèªï¼š

- [ ] å·²å®‰è£ **OpenCode**ï¼ˆæ”¯æ´å¤–æ›åŠŸèƒ½ï¼‰
- [ ] çŸ¥é“å¦‚ä½•ç·¨è¼¯ **OpenCode é…ç½®æª”æ¡ˆ**
- [ ] äº†è§£åŸºæœ¬çš„ **JSONC èªæ³•**ï¼ˆæ”¯æ´è¨»è§£çš„ JSONï¼‰

::: warning é‡è¦æç¤º
DCP æœƒä¿®æ”¹å‚³é€çµ¦ LLM çš„ä¸Šä¸‹æ–‡å…§å®¹ï¼Œä½†ä¸æœƒå½±éŸ¿ä½ çš„å°è©±æ­·å²ã€‚ä½ å¯ä»¥éš¨æ™‚åœ¨é…ç½®ä¸­åœç”¨å¤–æ›ã€‚
:::

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šç·¨è¼¯ OpenCode é…ç½®æª”æ¡ˆ

**ç‚ºä»€éº¼**
éœ€è¦åœ¨ OpenCode é…ç½®ä¸­å®£å‘Š DCP å¤–æ›ï¼Œé€™æ¨£ OpenCode å•Ÿå‹•æ™‚æœƒè‡ªå‹•è¼‰å…¥ã€‚

é–‹å•Ÿä½ çš„ OpenCode é…ç½®æª”æ¡ˆ `opencode.jsonc`ï¼Œåœ¨ `plugin` æ¬„ä½ä¸­æ–°å¢ DCPï¼š

```jsonc
// opencode.jsonc
{
    "plugin": ["@tarquinen/opencode-dcp@latest"],
}
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼šé…ç½®æª”æ¡ˆä¸­å·²ç¶“æœ‰å…¶ä»–å¤–æ›ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œåœ¨é™£åˆ—æœ«å°¾æ–°å¢ DCP å³å¯ã€‚

::: info æç¤º
ä½¿ç”¨ `@latest` æ¨™ç±¤ï¼ŒOpenCode æ¯æ¬¡å•Ÿå‹•æ™‚æœƒè‡ªå‹•æª¢æŸ¥ä¸¦å–å¾—æœ€æ–°ç‰ˆæœ¬ã€‚
:::

### ç¬¬ 2 æ­¥ï¼šé‡æ–°å•Ÿå‹• OpenCode

**ç‚ºä»€éº¼**
å¤–æ›é…ç½®ä¿®æ”¹å¾Œéœ€è¦é‡æ–°å•Ÿå‹•æ‰èƒ½ç”Ÿæ•ˆã€‚

å®Œå…¨é—œé–‰ OpenCodeï¼Œç„¶å¾Œé‡æ–°å•Ÿå‹•ã€‚

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼šOpenCode æ­£å¸¸å•Ÿå‹•ï¼Œæ²’æœ‰å ±éŒ¯è¨Šæ¯ã€‚

### ç¬¬ 3 æ­¥ï¼šé©—è­‰å¤–æ›å®‰è£

**ç‚ºä»€éº¼**
ç¢ºèª DCP å¤–æ›å·²æ­£ç¢ºè¼‰å…¥ï¼Œä¸¦æŸ¥çœ‹é è¨­é…ç½®ã€‚

åœ¨ OpenCode å°è©±ä¸­è¼¸å…¥ï¼š

```
/dcp
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼šDCP æŒ‡ä»¤èªªæ˜è³‡è¨Šï¼Œèªªæ˜å¤–æ›å·²æˆåŠŸå®‰è£ã€‚

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                      DCP Commands                         â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  /dcp context      Show token usage breakdown for current session
  /dcp stats        Show DCP pruning statistics
  /dcp sweep [n]    Prune tools since last user message, or last n tools
```

### ç¬¬ 4 æ­¥ï¼šæŸ¥çœ‹é è¨­é…ç½®

**ç‚ºä»€éº¼**
äº†è§£ DCP çš„é è¨­é…ç½®ï¼Œç¢ºèªå¤–æ›æ˜¯å¦æŒ‰é æœŸå·¥ä½œã€‚

DCP æœƒåœ¨é¦–æ¬¡åŸ·è¡Œæ™‚è‡ªå‹•å»ºç«‹é…ç½®æª”æ¡ˆï¼š

```bash
# æŸ¥çœ‹å…¨åŸŸé…ç½®æª”æ¡ˆ
cat ~/.config/opencode/dcp.jsonc
```

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼šé…ç½®æª”æ¡ˆå·²å»ºç«‹ï¼Œåˆå§‹åªåŒ…å« `$schema` æ¬„ä½ï¼š

```jsonc
{
    "$schema": "https://raw.githubusercontent.com/Opencode-DCP/opencode-dynamic-context-pruning/master/dcp.schema.json"
}
```

é…ç½®æª”æ¡ˆåˆå§‹åªåŒ…å« `$schema` æ¬„ä½ï¼Œå…¶ä»–æ‰€æœ‰é…ç½®é …ä½¿ç”¨ç¨‹å¼ç¢¼ä¸­çš„é è¨­å€¼ï¼Œç„¡éœ€æ‰‹å‹•é…ç½®å³å¯ä½¿ç”¨ã€‚

::: tip é è¨­é…ç½®èªªæ˜
DCP çš„ç¨‹å¼ç¢¼é è¨­å€¼å¦‚ä¸‹ï¼ˆç„¡éœ€å¯«å…¥é…ç½®æª”æ¡ˆï¼‰ï¼š

- **deduplication**ï¼šè‡ªå‹•å»é‡ï¼Œç§»é™¤é‡è¤‡çš„å·¥å…·å‘¼å«
- **purgeErrors**ï¼šè‡ªå‹•æ¸…ç† 4 å›åˆå‰çš„éŒ¯èª¤å·¥å…·è¼¸å…¥
- **discard/extract**ï¼šAI å¯å‘¼å«çš„ä¿®å‰ªå·¥å…·
- **pruneNotification**ï¼šé¡¯ç¤ºè©³ç´°ä¿®å‰ªé€šçŸ¥

å¦‚æœä½ éœ€è¦è‡ªè¨‚é…ç½®ï¼Œå¯ä»¥æ‰‹å‹•æ–°å¢é€™äº›æ¬„ä½ã€‚è©³ç´°é…ç½®èªªæ˜è¦‹[é…ç½®å…¨è§£](../configuration/)ã€‚
:::

### ç¬¬ 5 æ­¥ï¼šé«”é©—è‡ªå‹•ä¿®å‰ªæ•ˆæœ

**ç‚ºä»€éº¼**
å¯¦éš›ä½¿ç”¨ DCPï¼ŒæŸ¥çœ‹è‡ªå‹•ä¿®å‰ªçš„æ•ˆæœã€‚

åœ¨ OpenCode ä¸­é€²è¡Œä¸€æ®µå°è©±ï¼Œè®“ AI å¤šæ¬¡è®€å–åŒä¸€å€‹æª”æ¡ˆï¼Œæˆ–åŸ·è¡Œä¸€äº›æœƒå¤±æ•—çš„å·¥å…·å‘¼å«ã€‚

**ä½ æ‡‰è©²çœ‹åˆ°**ï¼š

1. æ¯æ¬¡å‚³é€è¨Šæ¯æ™‚ï¼ŒDCP æœƒè‡ªå‹•åˆ†æå°è©±æ­·å²
2. å¦‚æœæœ‰é‡è¤‡çš„å·¥å…·å‘¼å«ï¼ŒDCP æœƒè‡ªå‹•æ¸…ç†
3. AI éŸ¿æ‡‰å¾Œï¼Œå¯èƒ½æœƒçœ‹åˆ°ä¿®å‰ªé€šçŸ¥ï¼ˆå–æ±ºæ–¼ `pruneNotification` é…ç½®ï¼‰

ç¯„ä¾‹ä¿®å‰ªé€šçŸ¥ï¼š

```
â–£ DCP | ~12.5K tokens saved total

â–£ Pruning (~12.5K tokens)
â†’ read: src/config.ts
â†’ write: package.json
```

è¼¸å…¥ `/dcp context` æŸ¥çœ‹ç›®å‰æœƒè©±çš„ Token ä½¿ç”¨æƒ…æ³ï¼š

```
Session Context Breakdown:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

System         15.2% â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â”‚  25.1K tokens
User            5.1% â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â”‚   8.4K tokens
Assistant       35.8% â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â”‚  59.2K tokens
Tools (45)      43.9% â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚  72.6K tokens

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Summary:
  Pruned:          12 tools (~15.2K tokens)
  Current context: ~165.3K tokens
  Without DCP:     ~180.5K tokens
```

## æª¢æŸ¥é» âœ…

å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œä½ æ‡‰è©²ï¼š

- [ ] å·²åœ¨ `opencode.jsonc` ä¸­æ–°å¢ DCP å¤–æ›
- [ ] OpenCode é‡æ–°å•Ÿå‹•å¾Œèƒ½æ­£å¸¸åŸ·è¡Œ
- [ ] `/dcp` æŒ‡ä»¤é¡¯ç¤ºèªªæ˜è³‡è¨Š
- [ ] é…ç½®æª”æ¡ˆ `~/.config/opencode/dcp.jsonc` å·²å»ºç«‹
- [ ] å°è©±ä¸­èƒ½çœ‹åˆ°ä¿®å‰ªé€šçŸ¥æˆ–é€é `/dcp context` çœ‹åˆ°ä¿®å‰ªçµ±è¨ˆ

**å¦‚æœæŸä¸€æ­¥å¤±æ•—**ï¼š
- æª¢æŸ¥ `opencode.jsonc` èªæ³•æ˜¯å¦æ­£ç¢ºï¼ˆJSONC æ ¼å¼ï¼‰
- æŸ¥çœ‹ OpenCode æ—¥èªŒæ˜¯å¦æœ‰å¤–æ›è¼‰å…¥éŒ¯èª¤
- ç¢ºèª OpenCode ç‰ˆæœ¬æ”¯æ´å¤–æ›åŠŸèƒ½

## è¸©å‘æé†’

### å•é¡Œ 1ï¼šå¤–æ›æœªç”Ÿæ•ˆ

**ç—‡ç‹€**ï¼šé…ç½®å·²æ–°å¢ä½†çœ‹ä¸åˆ°ä¿®å‰ªæ•ˆæœ

**åŸå› **ï¼šOpenCode æœªé‡æ–°å•Ÿå‹•æˆ–é…ç½®æª”æ¡ˆè·¯å¾‘éŒ¯èª¤

**è§£æ±º**ï¼š
1. å®Œå…¨é—œé–‰ OpenCode å¾Œé‡æ–°å•Ÿå‹•
2. æª¢æŸ¥ `opencode.jsonc` ä½ç½®æ˜¯å¦æ­£ç¢º
3. æŸ¥çœ‹æ—¥èªŒï¼š`~/.config/opencode/logs/dcp/daily/` ç›®éŒ„ä¸‹çš„æ—¥èªŒæª”æ¡ˆ

### å•é¡Œ 2ï¼šé…ç½®æª”æ¡ˆæœªå»ºç«‹

**ç—‡ç‹€**ï¼š`~/.config/opencode/dcp.jsonc` ä¸å­˜åœ¨

**åŸå› **ï¼šOpenCode æœªå‘¼å« DCP å¤–æ›æˆ–é…ç½®ç›®éŒ„æ¬Šé™å•é¡Œ

**è§£æ±º**ï¼š
1. ç¢ºèª OpenCode å·²é‡æ–°å•Ÿå‹•
2. æ‰‹å‹•å»ºç«‹é…ç½®ç›®éŒ„ï¼š`mkdir -p ~/.config/opencode`
3. åœ¨ `opencode.jsonc` ä¸­æª¢æŸ¥å¤–æ›åç¨±æ˜¯å¦æ­£ç¢ºï¼š`@tarquinen/opencode-dcp@latest`

### å•é¡Œ 3ï¼šä¿®å‰ªé€šçŸ¥ä¸é¡¯ç¤º

**ç—‡ç‹€**ï¼šæ²’æœ‰çœ‹åˆ°ä¿®å‰ªé€šçŸ¥ï¼Œä½† `/dcp stats` é¡¯ç¤ºæœ‰ä¿®å‰ª

**åŸå› **ï¼š`pruneNotification` é…ç½®ç‚º `"off"` æˆ– `"minimal"`

**è§£æ±º**ï¼šä¿®æ”¹é…ç½®æª”æ¡ˆï¼š
```jsonc
"pruneNotification": "detailed"  // æˆ– "minimal"
```

## æœ¬èª²å°çµ

DCP å¤–æ›å®‰è£éå¸¸ç°¡å–®ï¼š
1. åœ¨ `opencode.jsonc` ä¸­æ–°å¢å¤–æ›
2. é‡æ–°å•Ÿå‹• OpenCode
3. ä½¿ç”¨ `/dcp` æŒ‡ä»¤é©—è­‰å®‰è£
4. é è¨­é…ç½®å³å¯ä½¿ç”¨ï¼Œç„¡éœ€é¡å¤–èª¿æ•´

**DCP é è¨­å•Ÿç”¨çš„åŠŸèƒ½**ï¼š
- âœ… è‡ªå‹•å»é‡ç­–ç•¥ï¼ˆç§»é™¤é‡è¤‡å·¥å…·å‘¼å«ï¼‰
- âœ… æ¸…é™¤éŒ¯èª¤ç­–ç•¥ï¼ˆæ¸…ç†éæœŸéŒ¯èª¤è¼¸å…¥ï¼‰
- âœ… AI é©…å‹•å·¥å…·ï¼ˆ`discard` å’Œ `extract`ï¼‰
- âœ… è©³ç´°ä¿®å‰ªé€šçŸ¥

**ä¸‹ä¸€æ­¥**ï¼šäº†è§£å¦‚ä½•è‡ªè¨‚é…ç½®ï¼Œèª¿æ•´ä¿®å‰ªç­–ç•¥ä»¥æ»¿è¶³ä¸åŒå ´æ™¯éœ€æ±‚ã€‚

---

## ä¸‹ä¸€èª²é å‘Š

> ä¸‹ä¸€èª²æˆ‘å€‘å­¸ç¿’ **[é…ç½®å…¨è§£](../configuration/)**
>
> ä½ æœƒå­¸åˆ°ï¼š
> - å¤šå±¤ç´šé…ç½®ç³»çµ±ï¼ˆå…¨åŸŸã€ç’°å¢ƒè®Šæ•¸ã€å°ˆæ¡ˆç´šï¼‰
> - æ‰€æœ‰é…ç½®é …çš„ä½œç”¨å’Œæ¨è–¦è¨­å®š
> - å›åˆä¿è­·ã€å—ä¿è­·å·¥å…·ã€å—ä¿è­·æª”æ¡ˆæ¨¡å¼
> - å¦‚ä½•å•Ÿç”¨/åœç”¨ä¸åŒçš„ä¿®å‰ªç­–ç•¥

---

## é™„éŒ„ï¼šåŸå§‹ç¢¼åƒè€ƒ

<details>
<summary><strong>é»æ“Šå±•é–‹æŸ¥çœ‹åŸå§‹ç¢¼ä½ç½®</strong></summary>

> æ›´æ–°æ™‚é–“ï¼š2026-01-23

| åŠŸèƒ½        | æª”æ¡ˆè·¯å¾‘                                                                                    | è¡Œè™Ÿ    |
|--- | --- | ---|
| å¤–æ›å…¥å£    | [`index.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/index.ts) | 12-102  |
| é…ç½®ç®¡ç†    | [`lib/config.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/config.ts) | 669-794 |
| æŒ‡ä»¤è™•ç†    | [`lib/commands/help.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/commands/help.ts) | 1-40    |
| Token è¨ˆç®—  | [`lib/commands/context.ts`](https://github.com/Opencode-DCP/opencode-dynamic-context-pruning/blob/main/lib/commands/context.ts) | 68-174  |

**é—œéµå¸¸æ•¸**ï¼š
- `MAX_TOOL_CACHE_SIZE = 1000`ï¼šå·¥å…·å¿«å–æœ€å¤§æ¢ç›®æ•¸

**é—œéµå‡½æ•¸**ï¼š
- `Plugin()`ï¼šå¤–æ›è¨»å†Šå’Œé‰¤å­è¨­å®š
- `getConfig()`ï¼šè¼‰å…¥å’Œåˆä½µå¤šå±¤ç´šé…ç½®
- `handleContextCommand()`ï¼šåˆ†æç›®å‰æœƒè©± Token ä½¿ç”¨

</details>
