---
title: "ì†ë„ ì œí•œ: ìë™ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ | Antigravity Auth"
sidebarTitle: "429 ì˜¤ë¥˜ ìë™ ì²˜ë¦¬"
subtitle: "ì†ë„ ì œí•œ ì²˜ë¦¬: ìë™ ì¬ì‹œë„ ë° ê³„ì • ì „í™˜ ë©”ì»¤ë‹ˆì¦˜"
description: "Antigravity Authê°€ 429 ì†ë„ ì œí•œ ì˜¤ë¥˜ë¥¼ ì§€ëŠ¥ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ìœ í˜•ì˜ ì†ë„ ì œí•œ, ìë™ ì¬ì‹œë„ ì•Œê³ ë¦¬ì¦˜, ë‹¤ì¤‘ ê³„ì • ì „í™˜ ë¡œì§, ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ fallback ë©”ì»¤ë‹ˆì¦˜ì„ ì´í•´í•˜ì„¸ìš”."
tags:
  - "ì†ë„ ì œí•œ"
  - "ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜"
  - "ë‹¤ì¤‘ ê³„ì •"
  - "ê³ ê¸‰"
prerequisite:
  - "advanced-multi-account-setup"
  - "advanced-account-selection-strategies"
  - "platforms-dual-quota-system"
order: 6
---

# ì†ë„ ì œí•œ ì²˜ë¦¬: ìë™ ì¬ì‹œë„ ë° ê³„ì • ì „í™˜ ë©”ì»¤ë‹ˆì¦˜

## í•™ìŠµ ëª©í‘œ

Antigravity Authì˜ ì§€ëŠ¥í˜• ì†ë„ ì œí•œ ì²˜ë¦¬ ë©”ì»¤ë‹ˆì¦˜ì„ ì´í•´í•˜ê³  ë§ˆìŠ¤í„°í•©ë‹ˆë‹¤:
- 5ê°€ì§€ ìœ í˜•ì˜ 429 ì˜¤ë¥˜ êµ¬ë¶„ (í• ë‹¹ëŸ‰ ì†Œì§„, ì†ë„ ì œí•œ, ìš©ëŸ‰ ì†Œì§„ ë“±)
- ìë™ ì¬ì‹œë„ì˜ ì§€ìˆ˜ ë°±ì˜¤í”„ ì•Œê³ ë¦¬ì¦˜ ì´í•´
- ë‹¤ì¤‘ ê³„ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œì˜ ìë™ ì „í™˜ ë¡œì§ ë§ˆìŠ¤í„°
- ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜ ë˜ëŠ” ë‘ ë²ˆ ì¬ì‹œë„ í›„ ì „í™˜ ì„¤ì •
- Gemini ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ fallbackì„ ì‚¬ìš©í•˜ì—¬ ê°€ìš©ì„± í–¥ìƒ

"ëª¨ë“  ê³„ì •ì´ ì†ë„ ì œí•œì— ê±¸ë ¸ì§€ë§Œ í• ë‹¹ëŸ‰ì€ ì•„ì§ ë‚¨ì•„ìˆëŠ”" ë¬¸ì œì—ì„œ ë²—ì–´ë‚˜ì„¸ìš”.

## í˜„ì¬ ê²ªê³  ìˆëŠ” ë¬¸ì œ

ì—¬ëŸ¬ Google ê³„ì • ì‚¬ìš© ì‹œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì— ì§ë©´í•©ë‹ˆë‹¤:
- 429 ì†ë„ ì œí•œì´ ìì£¼ ë°œìƒí•˜ëŠ”ë° ì¬ì‹œë„í•´ì•¼ í• ì§€ ê³„ì •ì„ ì „í™˜í•´ì•¼ í• ì§€ ëª¨ë¥´ê² ìŒ
- ë‹¤ì–‘í•œ ìœ í˜•ì˜ 429 ì˜¤ë¥˜ë§ˆë‹¤ ëŒ€ê¸° ì‹œê°„ ì°¨ì´ê°€ í¬ì§€ë§Œ ì–¼ë§ˆë‚˜ ê¸°ë‹¤ë ¤ì•¼ í• ì§€ ëª¨ë¥´ê² ìŒ
- ëª¨ë“  ê³„ì •ì´ ì†ë„ ì œí•œì— ê±¸ë ¸ì§€ë§Œ ì‹¤ì œ í• ë‹¹ëŸ‰ì€ ë‚¨ì•„ìˆëŠ” ê²½ìš° ë°œìƒ (ë¶€ì •í™•í•œ ì†ë„ ì œí•œ íŒë‹¨)
- Geminiì˜ ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ ì „í™˜ ì‹œì ì´ ë¶ˆëª…í™•í•˜ì—¬ í• ë‹¹ëŸ‰ ë‚­ë¹„

## ì´ ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•  ë•Œ

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°:
- ì—¬ëŸ¬ ê³„ì •ì„ ì„¤ì •í–ˆì§€ë§Œ 429 ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒ
- ë‹¤ì¤‘ ê³„ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìš”ì²­ ì„±ê³µë¥ ì„ ìµœì í™”í•˜ê³  ì‹¶ìŒ
- ì¬ì‹œë„ ì „ëµì„ ì¡°ì •í•´ì•¼ í•¨ (ì˜ˆ: ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜)
- Gemini ëª¨ë¸ì„ ì‚¬ìš©í•˜ë©° ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ì„ í™œìš©í•˜ê³  ì‹¶ìŒ

## í•µì‹¬ ê°œë…

### ì†ë„ ì œí•œ ì²˜ë¦¬ë€

Antigravity Auth í”ŒëŸ¬ê·¸ì¸ì€ 429 ì˜¤ë¥˜ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

1. **ì†ë„ ì œí•œ ìœ í˜• ê°ì§€**: ì‘ë‹µì˜ `reason` ë˜ëŠ” `message`ë¥¼ íŒŒì‹±í•˜ì—¬ 5ê°€ì§€ ì†ë„ ì œí•œ ìœ í˜• êµ¬ë¶„
2. **ë°±ì˜¤í”„ ì‹œê°„ ê³„ì‚°**: ì†ë„ ì œí•œ ìœ í˜•ê³¼ ì‹¤íŒ¨ íšŸìˆ˜ì— ë”°ë¼ ì§€ëŠ¥ì ìœ¼ë¡œ ëŒ€ê¸° ì‹œê°„ ê³„ì‚°
3. **ì „ëµ ì‹¤í–‰**:
   - **ë‹¤ì¤‘ ê³„ì •**: ì‚¬ìš© ê°€ëŠ¥í•œ ê³„ì •ìœ¼ë¡œ ìš°ì„  ì „í™˜
   - **ë‹¨ì¼ ê³„ì •**: ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„
4. **ìƒíƒœ ê¸°ë¡**: ê³„ì •ì˜ ì†ë„ ì œí•œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ í›„ì† ìš”ì²­ì— ì°¸ì¡°

::: info ì™œ ì§€ëŠ¥í˜• ì²˜ë¦¬ê°€ í•„ìš”í•œê°€ìš”?
Googleì€ ê° ê³„ì •ì— ì†ë„ ì œí•œì„ ì ìš©í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ "429 ë°œìƒ ì‹œ ì „í™˜"í•˜ë©´ ë¹ˆë²ˆí•œ ì „í™˜ìœ¼ë¡œ ë¹ ë¥¸ ë³µêµ¬ ê³„ì •ì„ ë†“ì¹  ìˆ˜ ìˆê³ , ë‹¨ìˆœíˆ "ëŒ€ê¸° í›„ ì¬ì‹œë„"í•˜ë©´ ë‹¤ë¥¸ ì‚¬ìš© ê°€ëŠ¥í•œ ê³„ì •ì˜ í• ë‹¹ëŸ‰ì„ ë‚­ë¹„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§€ëŠ¥í˜• ì²˜ë¦¬ëŠ” "ì „í™˜"ê³¼ "ëŒ€ê¸°" ì‚¬ì´ì˜ ìµœì  ê· í˜•ì ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.
:::

### 5ê°€ì§€ ì†ë„ ì œí•œ ìœ í˜•

Antigravity AuthëŠ” API ì‘ë‹µì˜ `reason` í•„ë“œ ë˜ëŠ” `message` ë‚´ìš©ì— ë”°ë¼ ë‹¤ìŒ 5ê°€ì§€ ì†ë„ ì œí•œ ìœ í˜•ì„ êµ¬ë¶„í•©ë‹ˆë‹¤:

| ìœ í˜• | ì›ì¸ | ë°±ì˜¤í”„ ì „ëµ | ì¼ë°˜ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ |
| --- | --- | --- | --- |
| `QUOTA_EXHAUSTED` | í• ë‹¹ëŸ‰ ì†Œì§„ (ì¼ì¼ ë˜ëŠ” ì›”ê°„ í• ë‹¹ëŸ‰) | ì ì§„ì  ë°±ì˜¤í”„: 1ë¶„ â†’ 5ë¶„ â†’ 30ë¶„ â†’ 120ë¶„ | ì¼ì¼ í• ë‹¹ëŸ‰ ì†Œì§„ |
| `RATE_LIMIT_EXCEEDED` | ìš”ì²­ ì†ë„ ì´ˆê³¼ (ë¶„ë‹¹ ì œí•œ) | ê³ ì • 30ì´ˆ | ë‹¨ì‹œê°„ ëŒ€ëŸ‰ ìš”ì²­ |
| `MODEL_CAPACITY_EXHAUSTED` | ëª¨ë¸ ì„œë²„ ìš©ëŸ‰ ë¶€ì¡± | ê³ ì • 15ì´ˆ | í”¼í¬ ì‹œê°„ëŒ€ |
| `SERVER_ERROR` | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ (5xx) | ê³ ì • 20ì´ˆ | ì„œë¹„ìŠ¤ ë¶ˆì•ˆì • |
| `UNKNOWN` | ì•Œ ìˆ˜ ì—†ëŠ” ì›ì¸ | ê³ ì • 60ì´ˆ | íŒŒì‹± ë¶ˆê°€ëŠ¥í•œ ì˜¤ë¥˜ |

**ë°±ì˜¤í”„ ì‹œê°„ ê³„ì‚° ê³µì‹** (accounts.ts:51-75):

```typescript
// QUOTA_EXHAUSTED: ì ì§„ì  ë°±ì˜¤í”„ (ì—°ì† ì‹¤íŒ¨ íšŸìˆ˜ ê¸°ë°˜)
// ì‹¤íŒ¨ 1íšŒ: 1ë¶„ (60_000ms)
// ì‹¤íŒ¨ 2íšŒ: 5ë¶„ (300_000ms)
// ì‹¤íŒ¨ 3íšŒ: 30ë¶„ (1_800_000ms)
// ì‹¤íŒ¨ 4íšŒ ì´ìƒ: 120ë¶„ (7_200_000ms)

// ê¸°íƒ€ ìœ í˜•: ê³ ì • ë°±ì˜¤í”„
// RATE_LIMIT_EXCEEDED: 30ì´ˆ
// MODEL_CAPACITY_EXHAUSTED: 15ì´ˆ
// SERVER_ERROR: 20ì´ˆ
// UNKNOWN: 60ì´ˆ
```

### ì§€ìˆ˜ ë°±ì˜¤í”„ ì•Œê³ ë¦¬ì¦˜

Antigravity AuthëŠ” **ì¤‘ë³µ ì œê±°ê°€ í¬í•¨ëœ ì§€ìˆ˜ ë°±ì˜¤í”„** ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

**í•µì‹¬ ë¡œì§** (plugin.ts:509-567):

```typescript
// 1. ì¤‘ë³µ ì œê±° ìœˆë„ìš°: 2ì´ˆ ë‚´ì˜ ë™ì‹œ 429ëŠ” ë™ì¼ ì´ë²¤íŠ¸ë¡œ ê°„ì£¼
const RATE_LIMIT_DEDUP_WINDOW_MS = 2000;

// 2. ìƒíƒœ ë¦¬ì…‹: 2ë¶„ê°„ 429 ì—†ìœ¼ë©´ ì¹´ìš´íŠ¸ ë¦¬ì…‹
const RATE_LIMIT_STATE_RESET_MS = 120_000;

// 3. ì§€ìˆ˜ ë°±ì˜¤í”„: baseDelay * 2^(attempt-1), ìµœëŒ€ 60ì´ˆ
const expBackoff = Math.min(baseDelay * Math.pow(2, attempt - 1), 60000);
```

**ì™œ ì¤‘ë³µ ì œê±° ìœˆë„ìš°ê°€ í•„ìš”í•œê°€ìš”?**

3ê°œì˜ ë™ì‹œ ìš”ì²­ì´ ëª¨ë‘ 429ë¥¼ íŠ¸ë¦¬ê±°í•œë‹¤ê³  ê°€ì •:
- **ì¤‘ë³µ ì œê±° ì—†ìŒ**: ê° ìš”ì²­ë§ˆë‹¤ ì¹´ìš´í„° +1, attempt=3ì´ ë˜ì–´ 4ì´ˆ ë°±ì˜¤í”„ (2^2 Ã— 1ì´ˆ)
- **ì¤‘ë³µ ì œê±° ìˆìŒ**: ë™ì¼ ì´ë²¤íŠ¸ë¡œ ê°„ì£¼, attempt=1, 1ì´ˆ ë°±ì˜¤í”„

ì¤‘ë³µ ì œê±° ìœˆë„ìš°ëŠ” ë™ì‹œ ìš”ì²­ìœ¼ë¡œ ì¸í•œ ë°±ì˜¤í”„ ì‹œê°„ ê³¼ë„í•œ ì¦ê°€ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

### ë‹¤ì¤‘ ê³„ì • ì „í™˜ ë¡œì§

Antigravity AuthëŠ” ë‹¤ì¤‘ ê³„ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ **ìš°ì„  ì „í™˜, ì¬ì‹œë„ ë°±ì—…** ì „ëµì„ ì±„íƒí•©ë‹ˆë‹¤:

**ì˜ì‚¬ê²°ì • íë¦„**:

```mermaid
flowchart TD
    A[429 ë°œìƒ] --> B{ì²« ë²ˆì§¸ ì†ë„ ì œí•œ?}
    B -->|ì˜ˆ| C{switch_on_first_rate_limit?}
    B -->|ì•„ë‹ˆì˜¤| D{ë‹¤ì¤‘ ê³„ì •?}
    
    C -->|true| E[1ì´ˆ ëŒ€ê¸°]
    E --> F[í˜„ì¬ ê³„ì •ì„ ì†ë„ ì œí•œìœ¼ë¡œ í‘œì‹œ]
    F --> G[ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ê³„ì •ìœ¼ë¡œ ì „í™˜]
    
    C -->|false| H[1ì´ˆ ëŒ€ê¸° í›„ ì¬ì‹œë„]
    H --> I{ì„±ê³µ?}
    I -->|ì˜ˆ| J[í˜„ì¬ ê³„ì • ê³„ì† ì‚¬ìš©]
    I -->|ì•„ë‹ˆì˜¤| K[í˜„ì¬ ê³„ì •ì„ ì†ë„ ì œí•œìœ¼ë¡œ í‘œì‹œ]
    K --> D
    
    D -->|ì˜ˆ| L[ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ê³„ì •ìœ¼ë¡œ ì „í™˜]
    D -->|ì•„ë‹ˆì˜¤| M[ì§€ìˆ˜ ë°±ì˜¤í”„ ëŒ€ê¸°]
    
    M --> N{ë‹¤ë¥¸ ê³„ì • ìˆìŒ?}
    N -->|ì˜ˆ| L
    N -->|ì•„ë‹ˆì˜¤| O[ê³„ì† ëŒ€ê¸°]
```

**ì£¼ìš” ì„¤ì •** (config/schema.ts:256-259):

| ì„¤ì • í•­ëª© | ê¸°ë³¸ê°’ | ì„¤ëª… |
| --- | --- | --- |
| `switch_on_first_rate_limit` | `true` | ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ê³„ì • ì „í™˜ ì—¬ë¶€ (1ì´ˆ ëŒ€ê¸° í›„) |
| `max_rate_limit_wait_seconds` | `300` | ëª¨ë“  ê³„ì • ì†ë„ ì œí•œ ì‹œ ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ (5ë¶„) |

**ê¶Œì¥ ì„¤ì •**:

- **ë‹¤ì¤‘ ê³„ì • (2ê°œ ì´ìƒ)**: `switch_on_first_rate_limit: true`, ì¦‰ì‹œ ì „í™˜í•˜ì—¬ í• ë‹¹ëŸ‰ ë‚­ë¹„ ë°©ì§€
- **ë‹¨ì¼ ê³„ì •**: ì´ ì„¤ì •ì€ ë¬´íš¨, ìë™ìœ¼ë¡œ ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ ì‚¬ìš©

### Gemini ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ Fallback

Gemini ëª¨ë¸ì€ ë‘ ê°œì˜ ë…ë¦½ì ì¸ í• ë‹¹ëŸ‰ í’€ì„ ì§€ì›í•©ë‹ˆë‹¤:
- **Antigravity í• ë‹¹ëŸ‰ í’€**: ìš°ì„  ì‚¬ìš©, ìš©ëŸ‰ì´ ì‘ìŒ
- **Gemini CLI í• ë‹¹ëŸ‰ í’€**: ëŒ€ì²´ ì‚¬ìš©, ìš©ëŸ‰ì´ í¼

**Fallback ë¡œì§** (plugin.ts:1318-1345):

```
1. Antigravity í• ë‹¹ëŸ‰ í’€ë¡œ ìš”ì²­ ë°œì‹ 
2. 429 ì†ë„ ì œí•œ ë°œìƒ
3. ë‹¤ë¥¸ ê³„ì •ì˜ Antigravity í• ë‹¹ëŸ‰ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
   - ìˆìŒ: ê³„ì • ì „í™˜, Antigravity ê³„ì† ì‚¬ìš©
   - ì—†ìŒ: quota_fallback=trueì¸ ê²½ìš° Gemini CLI í• ë‹¹ëŸ‰ í’€ë¡œ ì „í™˜
```

**ì„¤ì • ì˜µì…˜** (config/schema.ts:179):

```json
{
  "quota_fallback": true  // ê¸°ë³¸ê°’ false
}
```

**ì˜ˆì‹œ**:

2ê°œ ê³„ì •ì´ ìˆê³  ëª¨ë‘ 429 ë°œìƒ:

| ìƒíƒœ | quota_fallback=false | quota_fallback=true |
| --- | --- | --- |
| ê³„ì • 1 (Antigravity) | ì†ë„ ì œí•œ | ì†ë„ ì œí•œ â†’ Gemini CLI ì‹œë„ |
| ê³„ì • 2 (Antigravity) | ì†ë„ ì œí•œ | ì†ë„ ì œí•œ â†’ Gemini CLI ì‹œë„ |
| ê²°ê³¼ | 5ë¶„ ëŒ€ê¸° í›„ ì¬ì‹œë„ | Gemini CLIë¡œ ì „í™˜, ëŒ€ê¸° ë¶ˆí•„ìš” |

::: tip ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ì˜ ì¥ì 
Gemini CLI í• ë‹¹ëŸ‰ í’€ì€ ì¼ë°˜ì ìœ¼ë¡œ ë” í¬ë¯€ë¡œ fallbackì€ ìš”ì²­ ì„±ê³µë¥ ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨, ì£¼ì˜ì‚¬í•­:
- ëª…ì‹œì ìœ¼ë¡œ `:antigravity` ì ‘ë¯¸ì‚¬ë¥¼ ì‚¬ìš©í•œ ëª¨ë¸ì€ fallbackí•˜ì§€ ì•ŠìŒ
- ëª¨ë“  ê³„ì •ì˜ Antigravity í• ë‹¹ëŸ‰ì´ ì†Œì§„ëœ í›„ì—ë§Œ fallback
:::

### ë‹¨ì¼ ê³„ì • ì¬ì‹œë„ ë¡œì§

ê³„ì •ì´ í•˜ë‚˜ë§Œ ìˆëŠ” ê²½ìš° Antigravity AuthëŠ” **ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

**ì¬ì‹œë„ ê³µì‹** (plugin.ts:1373-1375):

```typescript
// ì²« ë²ˆì§¸: 1ì´ˆ
// ë‘ ë²ˆì§¸: 2ì´ˆ (1ì´ˆ Ã— 2^1)
// ì„¸ ë²ˆì§¸: 4ì´ˆ (1ì´ˆ Ã— 2^2)
// ë„¤ ë²ˆì§¸: 8ì´ˆ (1ì´ˆ Ã— 2^3)
// ...
// ìµœëŒ€: 60ì´ˆ
const expBackoffMs = Math.min(1000 * Math.pow(2, attempt - 1), 60000);
```

**ì¬ì‹œë„ íë¦„**:

```
ì²« ë²ˆì§¸: 429 ë°œìƒ
  â†“ 1ì´ˆ ëŒ€ê¸° í›„ ì¬ì‹œë„ (ë¹ ë¥¸ ì¬ì‹œë„)
ë‘ ë²ˆì§¸: ì—¬ì „íˆ 429
  â†“ 2ì´ˆ ëŒ€ê¸° í›„ ì¬ì‹œë„
ì„¸ ë²ˆì§¸: ì—¬ì „íˆ 429
  â†“ 4ì´ˆ ëŒ€ê¸° í›„ ì¬ì‹œë„
...
```

**ë‹¤ì¤‘ ê³„ì •ê³¼ì˜ ì°¨ì´**:

| ì‹œë‚˜ë¦¬ì˜¤ | ì „ëµ | ëŒ€ê¸° ì‹œê°„ |
| --- | --- | --- |
| ë‹¨ì¼ ê³„ì • | ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ | 1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ â†’ 8ì´ˆ â†’ ... â†’ 60ì´ˆ |
| ë‹¤ì¤‘ ê³„ì • | ê³„ì • ì „í™˜ | 1ì´ˆ (ì²« ë²ˆì§¸) ë˜ëŠ” 5ì´ˆ (ë‘ ë²ˆì§¸) |

## ğŸ’ ì‹œì‘ ì „ ì¤€ë¹„

::: warning ì‚¬ì „ í™•ì¸
ë‹¤ìŒì„ ì™„ë£Œí–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:
- [x] ë‹¤ì¤‘ ê³„ì • ì„¤ì • (ìµœì†Œ 2ê°œ Google ê³„ì •)
- [x] [ê³„ì • ì„ íƒ ì „ëµ](/ko/NoeFabris/opencode-antigravity-auth/advanced/account-selection-strategies/) ì´í•´
- [x] [ì´ì¤‘ í• ë‹¹ëŸ‰ ì‹œìŠ¤í…œ](/ko/NoeFabris/opencode-antigravity-auth/platforms/dual-quota-system/) ì´í•´
:::

## ë”°ë¼í•˜ê¸°

### 1ë‹¨ê³„: ë””ë²„ê·¸ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ì—¬ ì†ë„ ì œí•œ ê´€ì°°

**ì™œ í•„ìš”í•œê°€**
ë””ë²„ê·¸ ë¡œê·¸ëŠ” ì†ë„ ì œí•œì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ì—¬ í”ŒëŸ¬ê·¸ì¸ì˜ ì‘ë™ ì›ë¦¬ë¥¼ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

**ì‘ì—…**

ë””ë²„ê·¸ ë¡œê·¸ í™œì„±í™”:

```bash
export OPENCODE_ANTIGRAVITY_DEBUG=1
```

ì†ë„ ì œí•œì„ íŠ¸ë¦¬ê±°í•˜ëŠ” ìš”ì²­ ë°œì‹ :

```bash
# ì—¬ëŸ¬ ë™ì‹œ ìš”ì²­ ë°œì‹  (429 íŠ¸ë¦¬ê±° í™•ì¸)
for i in {1..10}; do
  opencode run "Test $i" --model=google/antigravity-gemini-3-pro &
done
wait
```

**ì˜ˆìƒ ê²°ê³¼**:

```
[RateLimit] 429 on Account 0 family=claude retryAfterMs=60000
  message: You have exceeded the quota for this request.
  quotaResetTime: 2026-01-23T12:00:00Z
  retryDelayMs: 60000
  reason: QUOTA_EXHAUSTED

Rate limited. Quick retry in 1s... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
```

**ë¡œê·¸ í•´ì„**:

- `429 on Account 0 family=claude`: ê³„ì • 0ì˜ Claude ëª¨ë¸ ì†ë„ ì œí•œ
- `retryAfterMs=60000`: ì„œë²„ê°€ 60ì´ˆ ëŒ€ê¸° ê¶Œì¥
- `reason: QUOTA_EXHAUSTED`: í• ë‹¹ëŸ‰ ì†Œì§„ (ë°±ì˜¤í”„ ì‹œê°„ ì ì§„ì  ì¦ê°€)

### 2ë‹¨ê³„: ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜ ì„¤ì •

**ì™œ í•„ìš”í•œê°€**
ì—¬ëŸ¬ ê³„ì •ì´ ìˆëŠ” ê²½ìš° ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜í•˜ë©´ í• ë‹¹ëŸ‰ í™œìš©ë¥ ì„ ê·¹ëŒ€í™”í•˜ê³  ëŒ€ê¸°ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**

ì„¤ì • íŒŒì¼ ìˆ˜ì •:

```bash
cat > ~/.config/opencode/antigravity.json << 'EOF'
{
  "$schema": "https://raw.githubusercontent.com/NoeFabris/opencode-antigravity-auth/main/assets/antigravity.schema.json",
  "switch_on_first_rate_limit": true
}
EOF
```

**ì˜ˆìƒ ê²°ê³¼**: ì„¤ì • íŒŒì¼ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì„¤ì • ì ìš© í™•ì¸**:

ì—¬ëŸ¬ ìš”ì²­ì„ ë°œì‹ í•˜ì—¬ ì²« ë²ˆì§¸ ì†ë„ ì œí•œ í›„ ë™ì‘ ê´€ì°°:

```bash
export OPENCODE_ANTIGRAVITY_DEBUG=1
for i in {1..5}; do
  opencode run "Test $i" --model=google/antigravity-gemini-3-pro &
done
wait
```

**ì˜ˆìƒ ê²°ê³¼**:

```
[RateLimit] 429 on Account 0 family=gemini retryAfterMs=30000
Server at capacity. Switching account in 1s... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
[AccountContext] Selected account: user2@gmail.com (index: 1)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ì²« ë²ˆì§¸ 429 í›„ 1ì´ˆ ëŒ€ê¸°
- ìë™ìœ¼ë¡œ ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ê³„ì •ìœ¼ë¡œ ì „í™˜ (index: 1)
- í˜„ì¬ ê³„ì • ì¬ì‹œë„ ì•ˆ í•¨

### 3ë‹¨ê³„: ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜ ë¹„í™œì„±í™”

**ì™œ í•„ìš”í•œê°€**
í˜„ì¬ ê³„ì •ì„ ë¨¼ì € ì¬ì‹œë„í•˜ê³  ì‹¶ì€ ê²½ìš° (ë¹ˆë²ˆí•œ ì „í™˜ ë°©ì§€), ì´ ì˜µì…˜ì„ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**

ì„¤ì • íŒŒì¼ ìˆ˜ì •:

```bash
cat > ~/.config/opencode/antigravity.json << 'EOF'
{
  "$schema": "https://raw.githubusercontent.com/NoeFabris/opencode-antigravity-auth/main/assets/antigravity.schema.json",
  "switch_on_first_rate_limit": false
}
EOF
```

**ì˜ˆìƒ ê²°ê³¼**: ì„¤ì • íŒŒì¼ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì„¤ì • ì ìš© í™•ì¸**:

ì—¬ëŸ¬ ìš”ì²­ì„ ë‹¤ì‹œ ë°œì‹ :

```bash
export OPENCODE_ANTIGRAVITY_DEBUG=1
for i in {1..5}; do
  opencode run "Test $i" --model=google/antigravity-gemini-3-pro &
done
wait
```

**ì˜ˆìƒ ê²°ê³¼**:

```
[RateLimit] 429 on Account 0 family=gemini retryAfterMs=30000
Rate limited. Quick retry in 1s... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
[RateLimit] 429 on Account 0 family=gemini retryAfterMs=30000
Rate limited again. Switching account in 5s... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
[AccountContext] Selected account: user2@gmail.com (index: 1)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ì²« ë²ˆì§¸ 429: 1ì´ˆ ëŒ€ê¸° í›„ **í˜„ì¬ ê³„ì • ì¬ì‹œë„**
- ë‘ ë²ˆì§¸ 429: 5ì´ˆ ëŒ€ê¸° í›„ **ê³„ì • ì „í™˜**
- ì¬ì‹œë„ ì„±ê³µ ì‹œ í˜„ì¬ ê³„ì • ê³„ì† ì‚¬ìš©

### 4ë‹¨ê³„: Gemini ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ Fallback í™œì„±í™”

**ì™œ í•„ìš”í•œê°€**
Gemini ëª¨ë¸ì€ ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ì„ ì§€ì›í•˜ë©°, fallbackì„ í™œì„±í™”í•˜ë©´ ìš”ì²­ ì„±ê³µë¥ ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**

ì„¤ì • íŒŒì¼ ìˆ˜ì •:

```bash
cat > ~/.config/opencode/antigravity.json << 'EOF'
{
  "$schema": "https://raw.githubusercontent.com/NoeFabris/opencode-antigravity-auth/main/assets/antigravity.schema.json",
  "quota_fallback": true
}
EOF
```

**ì˜ˆìƒ ê²°ê³¼**: ì„¤ì • íŒŒì¼ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì„¤ì • ì ìš© í™•ì¸**:

Gemini ìš”ì²­ ë°œì‹  (Antigravity í• ë‹¹ëŸ‰ í’€ ì†ë„ ì œí•œ íŠ¸ë¦¬ê±° í™•ì¸):

```bash
export OPENCODE_ANTIGRAVITY_DEBUG=1
for i in {1..5}; do
  opencode run "Test $i" --model=google/antigravity-gemini-3-pro &
done
wait
```

**ì˜ˆìƒ ê²°ê³¼**:

```
[RateLimit] 429 on Account 0 family=gemini retryAfterMs=30000
Antigravity quota exhausted for gemini-3-pro. Switching to Gemini CLI quota... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
[DEBUG] quota fallback: gemini-cli
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ëª¨ë“  ê³„ì •ì˜ Antigravity í• ë‹¹ëŸ‰ ì†Œì§„ í›„
- ìë™ìœ¼ë¡œ Gemini CLI í• ë‹¹ëŸ‰ í’€ë¡œ ì „í™˜
- ëŒ€ê¸° ë¶ˆí•„ìš”, ì¦‰ì‹œ ì¬ì‹œë„

**Antigravity í• ë‹¹ëŸ‰ ê°•ì œ ì‚¬ìš©** (fallback ì•ˆ í•¨):

```bash
# ëª…ì‹œì  ì ‘ë¯¸ì‚¬ :antigravity ì‚¬ìš©
opencode run "Test" --model=google/antigravity-gemini-3-pro:antigravity
```

### 5ë‹¨ê³„: ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ ì„¤ì •

**ì™œ í•„ìš”í•œê°€**
ëª¨ë“  ê³„ì •ì´ ì†ë„ ì œí•œì— ê±¸ë¦° ê²½ìš° í”ŒëŸ¬ê·¸ì¸ì€ ê°€ì¥ ì§§ì€ ë¦¬ì…‹ ì‹œê°„ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ì„ ì„¤ì •í•˜ì—¬ ë¬´í•œ ëŒ€ê¸°ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**

ì„¤ì • íŒŒì¼ ìˆ˜ì •:

```bash
cat > ~/.config/opencode/antigravity.json << 'EOF'
{
  "$schema": "https://raw.githubusercontent.com/NoeFabris/opencode-antigravity-auth/main/assets/antigravity.schema.json",
  "max_rate_limit_wait_seconds": 60
}
EOF
```

**ì˜ˆìƒ ê²°ê³¼**: ì„¤ì • íŒŒì¼ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì„¤ì • ì ìš© í™•ì¸**:

ëª¨ë“  ê³„ì • ì†ë„ ì œí•œ íŠ¸ë¦¬ê±°:

```bash
export OPENCODE_ANTIGRAVITY_DEBUG=1
for i in {1..20}; do
  opencode run "Test $i" --model=google/antigravity-claude-opus-4.5 &
done
wait
```

**ì˜ˆìƒ ê²°ê³¼**:

```
[RateLimit] 429 on Account 0 family=claude retryAfterMs=60000
[RateLimit] 429 on Account 1 family=claude retryAfterMs=60000
[DEBUG] All accounts rate limited. Min wait time: 60s, max wait: 60s
Rate limited. Retrying in 60s... (í† ìŠ¤íŠ¸ ì•Œë¦¼)
```

**í•µì‹¬ í¬ì¸íŠ¸**:
- ëª¨ë“  ê³„ì • ì†ë„ ì œí•œ ì‹œ ê°€ì¥ ì§§ì€ ë¦¬ì…‹ ì‹œê°„ ëŒ€ê¸°
- ê°€ì¥ ì§§ì€ ë¦¬ì…‹ ì‹œê°„ > `max_rate_limit_wait_seconds`ì¸ ê²½ìš° ìµœëŒ€ê°’ ì‚¬ìš©
- ê¸°ë³¸ ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ 300ì´ˆ (5ë¶„)

## ì²´í¬í¬ì¸íŠ¸ âœ…

::: tip ì„¤ì • ì ìš© í™•ì¸ ë°©ë²•
1. ì„¤ì • íŒŒì¼ì—ì„œ ì„¤ì • í•­ëª© í™•ì¸
2. ë””ë²„ê·¸ ë¡œê·¸ í™œì„±í™”: `OPENCODE_ANTIGRAVITY_DEBUG=1`
3. ë¡œê·¸ì—ì„œ `[RateLimit]` ì´ë²¤íŠ¸ ê´€ì°°
4. ê³„ì • ì „í™˜ ë™ì‘ ê´€ì°° (`AccountContext` ë¡œê·¸)
5. í† ìŠ¤íŠ¸ ì•Œë¦¼ì´ ì˜ˆìƒëŒ€ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
:::

## ì£¼ì˜ì‚¬í•­

### âŒ ì¤‘ë³µ ì œê±° ìœˆë„ìš° ë¬´ì‹œ, ë°±ì˜¤í”„ ì‹œê°„ ì˜¤í•´

**ì˜ëª»ëœ í–‰ë™**:
- 10ê°œì˜ ë™ì‹œ ìš”ì²­ ë°œì‹ , ëª¨ë‘ 429 ë°œìƒ
- ë°±ì˜¤í”„ ì‹œê°„ì´ 2^10 Ã— 1ì´ˆ = 1024ì´ˆë¼ê³  ìƒê°
- ì‹¤ì œë¡œëŠ” 1ì´ˆ (ì¤‘ë³µ ì œê±° ìœˆë„ìš° ë•Œë¬¸)

**ì˜¬ë°”ë¥¸ ë°©ë²•**: 2ì´ˆ ì¤‘ë³µ ì œê±° ìœˆë„ìš°ë¥¼ ì´í•´í•˜ê³ , ë™ì‹œ ìš”ì²­ì€ ì¤‘ë³µ ì¹´ìš´íŠ¸ë˜ì§€ ì•ŠìŒì„ ì¸ì§€í•©ë‹ˆë‹¤.

### âŒ `switch_on_first_rate_limit`ì™€ ë‹¨ì¼ ê³„ì • í˜¼ìš©

**ì˜ëª»ëœ í–‰ë™**:
- ê³„ì •ì´ 1ê°œë¿ì¸ë° `switch_on_first_rate_limit: true` ì„¤ì •
- ê³„ì •ì´ ì „í™˜ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì „í™˜í•  ë‹¤ë¥¸ ê³„ì •ì´ ì—†ìŒ

**ì˜¬ë°”ë¥¸ ë°©ë²•**: ë‹¨ì¼ ê³„ì • ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ì´ ì„¤ì •ì´ ë¬´íš¨ì´ë©°, ìë™ìœ¼ë¡œ ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

### âŒ Gemini ëª…ì‹œì  ì ‘ë¯¸ì‚¬ê°€ fallback ì°¨ë‹¨

**ì˜ëª»ëœ í–‰ë™**:
- `google/antigravity-gemini-3-pro:antigravity` ì‚¬ìš©
- `quota_fallback: true` ì„¤ì •
- í•˜ì§€ë§Œ 429 ë°œìƒ ì‹œ Gemini CLIë¡œ fallbackí•˜ì§€ ì•ŠìŒ

**ì˜¬ë°”ë¥¸ ë°©ë²•**: ëª…ì‹œì  ì ‘ë¯¸ì‚¬ëŠ” ì§€ì •ëœ í• ë‹¹ëŸ‰ í’€ì„ ê°•ì œ ì‚¬ìš©í•˜ë¯€ë¡œ, fallbackì´ í•„ìš”í•˜ë©´ ì ‘ë¯¸ì‚¬ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.

### âŒ ëª¨ë“  ê³„ì • ì†ë„ ì œí•œ í›„ ëŒ€ê¸° ì‹œê°„ ê³¼ë‹¤

**ì˜ëª»ëœ í–‰ë™**:
- `max_rate_limit_wait_seconds: 600` (10ë¶„) ì„¤ì •
- ëª¨ë“  ê³„ì •ì´ 60ì´ˆ ì†ë„ ì œí•œì´ì§€ë§Œ 10ë¶„ ëŒ€ê¸°

**ì˜¬ë°”ë¥¸ ë°©ë²•**: `max_rate_limit_wait_seconds`ëŠ” **ìµœëŒ€ê°’**ì´ë©°, ì‹¤ì œ ëŒ€ê¸° ì‹œê°„ì€ ê°€ì¥ ì§§ì€ ë¦¬ì…‹ ì‹œê°„ì´ê³  ìµœëŒ€ê°’ì„ ì´ˆê³¼í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

## ì´ë²ˆ ê°•ì˜ ìš”ì•½

| ë©”ì»¤ë‹ˆì¦˜ | í•µì‹¬ íŠ¹ì§• | ì ìš© ì‹œë‚˜ë¦¬ì˜¤ |
| --- | --- | --- |
| **ì†ë„ ì œí•œ ê°ì§€** | 5ê°€ì§€ ìœ í˜• êµ¬ë¶„ (QUOTA_EXHAUSTED, RATE_LIMIT_EXCEEDED ë“±) | ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ |
| **ì§€ìˆ˜ ë°±ì˜¤í”„** | ì‹¤íŒ¨ íšŸìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ëŒ€ê¸° ì‹œê°„ ì¦ê°€ (1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ â†’ ... â†’ 60ì´ˆ) | ë‹¨ì¼ ê³„ì • |
| **ê³„ì • ì „í™˜** | ë‹¤ì¤‘ ê³„ì •ì€ ìš°ì„  ì „í™˜, ë‹¨ì¼ ê³„ì •ì€ ë°±ì˜¤í”„ ì¬ì‹œë„ | ë‹¤ì¤‘ ê³„ì • |
| **ì¤‘ë³µ ì œê±° ìœˆë„ìš°** | 2ì´ˆ ë‚´ì˜ ë™ì‹œ 429ëŠ” ë™ì¼ ì´ë²¤íŠ¸ë¡œ ê°„ì£¼ | ë™ì‹œ ì‹œë‚˜ë¦¬ì˜¤ |
| **ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ fallback** | Antigravity ì†ë„ ì œí•œ í›„ Gemini CLI ì‹œë„ | Gemini ëª¨ë¸ |

**ì£¼ìš” ì„¤ì •**:

| ì„¤ì • í•­ëª© | ê¸°ë³¸ê°’ | ê¶Œì¥ê°’ | ì„¤ëª… |
| --- | --- | --- | --- |
| `switch_on_first_rate_limit` | `true` | `true` (ë‹¤ì¤‘ ê³„ì •) | ì²« ë²ˆì§¸ ì†ë„ ì œí•œ ì‹œ ì¦‰ì‹œ ì „í™˜ |
| `quota_fallback` | `false` | `true` (Gemini) | ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ fallback í™œì„±í™” |
| `max_rate_limit_wait_seconds` | `300` | `300` | ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ (ì´ˆ) |

**ë””ë²„ê·¸ ë°©ë²•**:

- ë””ë²„ê·¸ ë¡œê·¸ í™œì„±í™”: `OPENCODE_ANTIGRAVITY_DEBUG=1`
- `[RateLimit]` ì´ë²¤íŠ¸ í™•ì¸: ì†ë„ ì œí•œ ìœ í˜•ê³¼ ë°±ì˜¤í”„ ì‹œê°„ íŒŒì•…
- `[AccountContext]` ë¡œê·¸ í™•ì¸: ê³„ì • ì „í™˜ ë™ì‘ ê´€ì°°

## ë‹¤ìŒ ê°•ì˜ ì˜ˆê³ 

> ë‹¤ìŒ ê°•ì˜ì—ì„œëŠ” **[ì„¸ì…˜ ë³µêµ¬](/ko/NoeFabris/opencode-antigravity-auth/advanced/session-recovery/)**ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.
>
> ë°°ìš¸ ë‚´ìš©:
> - ì¤‘ë‹¨ëœ ë„êµ¬ í˜¸ì¶œì„ ìë™ìœ¼ë¡œ ë³µêµ¬í•˜ëŠ” ë°©ë²•
> - Thinking ëª¨ë¸ì˜ ì„¸ì…˜ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
> - Synthetic tool_result ì£¼ì… ì›ë¦¬

---

## ë¶€ë¡: ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°

<details>
<summary><strong>í´ë¦­í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ ë³´ê¸°</strong></summary>

> ì—…ë°ì´íŠ¸ ì‹œê°„: 2026-01-23

| ê¸°ëŠ¥ | íŒŒì¼ ê²½ë¡œ | ë¼ì¸ ë²ˆí˜¸ |
| --- | --- | --- |
| ì†ë„ ì œí•œ ìœ í˜• ì •ì˜ | [`src/plugin/accounts.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/accounts.ts#L10-L20) | 10-20 |
| ì†ë„ ì œí•œ ì›ì¸ íŒŒì‹± | [`src/plugin/accounts.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/accounts.ts#L29-L49) | 29-49 |
| ë°±ì˜¤í”„ ì‹œê°„ ê³„ì‚° | [`src/plugin/accounts.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/accounts.ts#L51-L75) | 51-75 |
| ì§€ìˆ˜ ë°±ì˜¤í”„ ì•Œê³ ë¦¬ì¦˜ | [`src/plugin.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin.ts#L532-L567) | 532-567 |
| ê³„ì • ì†ë„ ì œí•œ í‘œì‹œ | [`src/plugin/accounts.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/accounts.ts#L434-L461) | 434-461 |
| ê³„ì • ì†ë„ ì œí•œ ì—¬ë¶€ í™•ì¸ | [`src/plugin/accounts.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/accounts.ts#L134-L152) | 134-152 |
| 429 ì˜¤ë¥˜ ì²˜ë¦¬ | [`src/plugin.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin.ts#L1260-L1396) | 1260-1396 |
| Gemini ì´ì¤‘ í• ë‹¹ëŸ‰ í’€ fallback | [`src/plugin.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin.ts#L1318-L1345) | 1318-1345 |
| ì†ë„ ì œí•œ ë¡œê·¸ | [`src/plugin/debug.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/debug.ts#L354-L396) | 354-396 |
| ì„¤ì • Schema | [`src/plugin/config/schema.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/config/schema.ts#L256-L221) | 256-221 |

**ì£¼ìš” ìƒìˆ˜**:

- `QUOTA_EXHAUSTED_BACKOFFS = [60_000, 300_000, 1_800_000, 7_200_000]`: í• ë‹¹ëŸ‰ ì†Œì§„ ì ì§„ì  ë°±ì˜¤í”„ ì‹œê°„ (accounts.ts:22)
- `RATE_LIMIT_EXCEEDED_BACKOFF = 30_000`: ì†ë„ ì œí•œ ê³ ì • ë°±ì˜¤í”„ 30ì´ˆ (accounts.ts:23)
- `MODEL_CAPACITY_EXHAUSTED_BACKOFF = 15_000`: ìš©ëŸ‰ ì†Œì§„ ê³ ì • ë°±ì˜¤í”„ 15ì´ˆ (accounts.ts:24)
- `SERVER_ERROR_BACKOFF = 20_000`: ì„œë²„ ì˜¤ë¥˜ ê³ ì • ë°±ì˜¤í”„ 20ì´ˆ (accounts.ts:25)
- `RATE_LIMIT_DEDUP_WINDOW_MS = 2000`: ì¤‘ë³µ ì œê±° ìœˆë„ìš° 2ì´ˆ (plugin.ts:509)
- `RATE_LIMIT_STATE_RESET_MS = 120_000`: ìƒíƒœ ë¦¬ì…‹ 2ë¶„ (plugin.ts:510)
- `FIRST_RETRY_DELAY_MS = 1000`: ì²« ë²ˆì§¸ ë¹ ë¥¸ ì¬ì‹œë„ 1ì´ˆ (plugin.ts:1304)

**ì£¼ìš” í•¨ìˆ˜**:

- `parseRateLimitReason(reason?, message?)`: ì†ë„ ì œí•œ ì›ì¸ íŒŒì‹± (accounts.ts:29)
- `calculateBackoffMs(reason, consecutiveFailures, retryAfterMs?)`: ë°±ì˜¤í”„ ì‹œê°„ ê³„ì‚° (accounts.ts:51)
- `markRateLimitedWithReason(account, family, headerStyle, model, reason, retryAfterMs?)`: ê³„ì • ì†ë„ ì œí•œ í‘œì‹œ (accounts.ts:445)
- `isRateLimitedForHeaderStyle(account, family, headerStyle, model?)`: ê³„ì • ì†ë„ ì œí•œ ì—¬ë¶€ í™•ì¸ (accounts.ts:536)
- `getRateLimitBackoff(accountIndex, quotaKey, serverRetryAfterMs)`: ì¤‘ë³µ ì œê±° í›„ ë°±ì˜¤í”„ ì‹œê°„ ê°€ì ¸ì˜¤ê¸° (plugin.ts:532)
- `resetRateLimitState(accountIndex, quotaKey)`: ì†ë„ ì œí•œ ìƒíƒœ ë¦¬ì…‹ (plugin.ts:573)

</details>
