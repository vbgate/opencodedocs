---
title: "URL ê³µìœ : ë°±ì—”ë“œ ì—†ëŠ” í˜‘ì—… | Plannotator"
sidebarTitle: "íŒ€ê³¼ ê³µìœ í•˜ê¸°"
subtitle: "URL ê³µìœ : ë°±ì—”ë“œ ì—†ëŠ” í˜‘ì—…"
description: "Plannotatorì˜ URL ê³µìœ  ê¸°ëŠ¥ì„ ë°°ì›Œë³´ì„¸ìš”. deflate ì••ì¶•ê³¼ Base64 ì¸ì½”ë”©ìœ¼ë¡œ ë°±ì—”ë“œ ì—†ì´ í˜‘ì—…í•˜ê³ , í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ë©° ì¼ë°˜ì ì¸ ê³µìœ  ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤."
tags:
  - "URL ê³µìœ "
  - "íŒ€ í˜‘ì—…"
  - "ë°±ì—”ë“œ ì—†ìŒ"
  - "deflate ì••ì¶•"
  - "Base64 ì¸ì½”ë”©"
  - "ë³´ì•ˆ"
prerequisite:
  - "start-getting-started"
  - "platforms-plan-review-basics"
order: 1
---

# URL ê³µìœ : ë°±ì—”ë“œ ì—†ëŠ” ê³„íš í˜‘ì—…

## ì´ ê°•ì˜ë¥¼ ë§ˆì¹˜ë©´ í•  ìˆ˜ ìˆëŠ” ê²ƒ

- âœ… URLì„ í†µí•´ ê³„íšê³¼ ì£¼ì„ì„ ê³µìœ  - ê³„ì • ë¡œê·¸ì¸ì´ë‚˜ ì„œë²„ ë°°í¬ ë¶ˆí•„ìš”
- âœ… deflate ì••ì¶•ê³¼ Base64 ì¸ì½”ë”©ì´ ë°ì´í„°ë¥¼ URL hashì— ì–´ë–»ê²Œ ì„ë² ë”©í•˜ëŠ”ì§€ ì´í•´
- âœ… ê³µìœ  ëª¨ë“œ(ì½ê¸° ì „ìš©)ì™€ ë¡œì»¬ ëª¨ë“œ(í¸ì§‘ ê°€ëŠ¥)ì˜ ì°¨ì´ì  êµ¬ë¶„
- âœ… `PLANNOTATOR_SHARE` í™˜ê²½ ë³€ìˆ˜ë¡œ ê³µìœ  ê¸°ëŠ¥ ì œì–´
- âœ… URL ê¸¸ì´ ì œí•œê³¼ ê³µìœ  ì‹¤íŒ¨ ìƒí™© ì²˜ë¦¬

## í˜„ì¬ ê²ªê³  ìˆëŠ” ì–´ë ¤ì›€

**ë¬¸ì œ 1**: íŒ€ì›ì—ê²Œ AIê°€ ìƒì„±í•œ ê³„íš ê²€í† ë¥¼ ìš”ì²­í•˜ê³  ì‹¶ì§€ë§Œ í˜‘ì—… í”Œë«í¼ì´ ì—†ìŠµë‹ˆë‹¤.

**ë¬¸ì œ 2**: ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ í…ìŠ¤íŠ¸ ë³µì‚¬ë¡œ ê²€í†  ë‚´ìš©ì„ ê³µìœ í•˜ë©´ ìƒëŒ€ë°©ì´ ì£¼ì„ì„ ì§ì ‘ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

**ë¬¸ì œ 3**: ì˜¨ë¼ì¸ í˜‘ì—… ì„œë²„ ë°°í¬ ë¹„ìš©ì´ ë†’ê±°ë‚˜ íšŒì‚¬ ë³´ì•ˆ ì •ì±…ì´ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ë¬¸ì œ 4**: ê°„ë‹¨í•˜ê³  ë¹ ë¥¸ ê³µìœ  ë°©ë²•ì´ í•„ìš”í•˜ì§€ë§Œ ë°ì´í„° í”„ë¼ì´ë²„ì‹œë¥¼ ì–´ë–»ê²Œ ë³´ì¥í• ì§€ ëª¨ë¦…ë‹ˆë‹¤.

**Plannotatorê°€ ë„ì™€ë“œë¦½ë‹ˆë‹¤**:
- ë°±ì—”ë“œ ì„œë²„ ë¶ˆí•„ìš”, ëª¨ë“  ë°ì´í„°ê°€ URLì— ì••ì¶•ë¨
- ê³µìœ  ë§í¬ì— ì™„ì „í•œ ê³„íšê³¼ ì£¼ì„ í¬í•¨, ìˆ˜ì‹ ìê°€ ë°”ë¡œ í™•ì¸ ê°€ëŠ¥
- ë°ì´í„°ê°€ ë¡œì»¬ ê¸°ê¸°ë¥¼ ë– ë‚˜ì§€ ì•Šì•„ í”„ë¼ì´ë²„ì‹œ ì•ˆì „
- ìƒì„±ëœ URLì„ ì–´ë–¤ ë©”ì‹ ì €ì—ë“  ë³µì‚¬ ê°€ëŠ¥

## ì–¸ì œ ì´ ë°©ë²•ì„ ì‚¬ìš©í• ê¹Œ

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:
- íŒ€ì›ì—ê²Œ AI ìƒì„± êµ¬í˜„ ê³„íš ê²€í†  ìš”ì²­
- ë™ë£Œì—ê²Œ ì½”ë“œ ë¦¬ë·° ê²°ê³¼ ê³µìœ 
- ê²€í†  ë‚´ìš©ì„ ë…¸íŠ¸ì— ì €ì¥ (Obsidian/Bear ì—°ë™ê³¼ í•¨ê»˜)
- ê³„íšì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¹ ë¥´ê²Œ ë°›ê¸°

**ì í•©í•˜ì§€ ì•Šì€ ì‹œë‚˜ë¦¬ì˜¤**:
- ì‹¤ì‹œê°„ í˜‘ì—… í¸ì§‘ í•„ìš” (Plannotator ê³µìœ ëŠ” ì½ê¸° ì „ìš©)
- ê³„íš ë‚´ìš©ì´ URL ê¸¸ì´ ì œí•œ ì´ˆê³¼ (ë³´í†µ ìˆ˜ì²œ ì¤„)
- ê³µìœ  ë‚´ìš©ì— ë¯¼ê°í•œ ì •ë³´ í¬í•¨ (URL ìì²´ëŠ” ì•”í˜¸í™”ë˜ì§€ ì•ŠìŒ)

::: warning ë³´ì•ˆ ì£¼ì˜
ê³µìœ  URLì—ëŠ” ì™„ì „í•œ ê³„íšê³¼ ì£¼ì„ì´ í¬í•¨ë©ë‹ˆë‹¤. ë¯¼ê°í•œ ì •ë³´(API í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“±)ê°€ í¬í•¨ëœ ë‚´ìš©ì€ ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”. ê³µìœ  URLì€ ëˆ„êµ¬ë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©° ìë™ìœ¼ë¡œ ë§Œë£Œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
:::

## í•µì‹¬ ê°œë…

### URL ê³µìœ ë€ ë¬´ì—‡ì¸ê°€

**URL ê³µìœ **ëŠ” Plannotatorê°€ ì œê³µí•˜ëŠ” ë°±ì—”ë“œ ì—†ëŠ” í˜‘ì—… ë°©ì‹ìœ¼ë¡œ, ê³„íšê³¼ ì£¼ì„ì„ URL hashì— ì••ì¶•í•˜ì—¬ ì„œë²„ ì—†ì´ ê³µìœ  ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

::: info ì™œ 'ë°±ì—”ë“œ ì—†ìŒ'ì´ë¼ê³  í• ê¹Œìš”?
ê¸°ì¡´ í˜‘ì—… ì†”ë£¨ì…˜ì€ ê³„íšê³¼ ì£¼ì„ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ë°±ì—”ë“œ ì„œë²„ê°€ í•„ìš”í•˜ê³ , ì‚¬ìš©ìëŠ” IDë‚˜ í† í°ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤. Plannotatorì˜ URL ê³µìœ ëŠ” ì–´ë–¤ ë°±ì—”ë“œì—ë„ ì˜ì¡´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤â€”ëª¨ë“  ë°ì´í„°ê°€ URLì— ìˆì–´ì„œ ìˆ˜ì‹ ìê°€ ë§í¬ë¥¼ ì—´ë©´ ë°”ë¡œ ë‚´ìš©ì„ íŒŒì‹±í•©ë‹ˆë‹¤. ì´ëŠ” í”„ë¼ì´ë²„ì‹œ(ë°ì´í„° ì—…ë¡œë“œ ì—†ìŒ)ì™€ ê°„í¸í•¨(ì„œë¹„ìŠ¤ ë°°í¬ ë¶ˆí•„ìš”)ì„ ë³´ì¥í•©ë‹ˆë‹¤.
:::

### ì‘ë™ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì A (ê³µìœ ì)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. ê³„íš ê²€í† , ì£¼ì„ ì¶”ê°€                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚     â”‚ Plan: êµ¬í˜„ ê³„íš       â”‚                           â”‚
â”‚     â”‚ Annotations: [       â”‚                           â”‚
â”‚     â”‚   {type: 'REPLACE'},â”‚                           â”‚
â”‚     â”‚   {type: 'COMMENT'}  â”‚                           â”‚
â”‚     â”‚ ]                   â”‚                           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚              â”‚                                         â”‚
â”‚              â–¼                                         â”‚
â”‚  2. Export â†’ Share í´ë¦­                                 â”‚
â”‚              â”‚                                         â”‚
â”‚              â–¼                                         â”‚
â”‚  3. ë°ì´í„° ì••ì¶•                                         â”‚
â”‚     JSON â†’ deflate â†’ Base64 â†’ URL ì•ˆì „ ë¬¸ì              â”‚
â”‚     â†“                                                â”‚
â”‚     https://share.plannotator.ai/#eJyrVkrLz1...       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ URL ë³µì‚¬
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì B (ìˆ˜ì‹ ì)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. ê³µìœ  URL ì—´ê¸°                                       â”‚
â”‚     https://share.plannotator.ai/#eJyrVkrLz1...       â”‚
â”‚              â”‚                                         â”‚
â”‚              â–¼                                         â”‚
â”‚  2. ë¸Œë¼ìš°ì €ê°€ hash íŒŒì‹±                                â”‚
â”‚     URL ì•ˆì „ ë¬¸ì â†’ Base64 ë””ì½”ë”© â†’ deflate ì••ì¶• í•´ì œ â†’ JSON â”‚
â”‚              â”‚                                         â”‚
â”‚              â–¼                                         â”‚
â”‚  3. ê³„íšê³¼ ì£¼ì„ ë³µì›                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚     â”‚ Plan: êµ¬í˜„ ê³„íš       â”‚  âœ… ì½ê¸° ì „ìš© ëª¨ë“œ        â”‚
â”‚     â”‚ Annotations: [       â”‚  (ê²°ì • ì œì¶œ ë¶ˆê°€)         â”‚
â”‚     â”‚   {type: 'REPLACE'},â”‚                           â”‚
â”‚     â”‚   {type: 'COMMENT'}  â”‚                           â”‚
â”‚     â”‚ ]                   â”‚                           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ìƒì„¸

**ë‹¨ê³„ 1: JSON ì§ë ¬í™”**
```json
{
  "p": "# Plan\n\nStep 1...",
  "a": [
    ["R", "old text", "new text", null, null],
    ["C", "context", "comment text", null, null]
  ],
  "g": ["image1.png", "image2.png"]
}
```

**ë‹¨ê³„ 2: Deflate-raw ì••ì¶•**
- ë„¤ì´í‹°ë¸Œ `CompressionStream('deflate-raw')` API ì‚¬ìš©
- ì¼ë°˜ì ì¸ ì••ì¶•ë¥  60-80% (í…ìŠ¤íŠ¸ ë°˜ë³µë„ì— ë”°ë¼ ë‹¤ë¦„, ì†ŒìŠ¤ ì½”ë“œ ì •ì˜ ì•„ë‹˜)
- ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `packages/ui/utils/sharing.ts:34`

**ë‹¨ê³„ 3: Base64 ì¸ì½”ë”©**
```typescript
const base64 = btoa(String.fromCharCode(...compressed));
```

**ë‹¨ê³„ 4: URL ì•ˆì „ ë¬¸ì ì¹˜í™˜**
```typescript
base64
  .replace(/\+/g, '-')   // + â†’ -
  .replace(/\//g, '_')   // / â†’ _
  .replace(/=/g, '');    // = â†’ ''(íŒ¨ë”© ì œê±°)
```

::: tip ì™œ íŠ¹ìˆ˜ ë¬¸ìë¥¼ ì¹˜í™˜í• ê¹Œìš”?
URLì—ì„œ ì¼ë¶€ ë¬¸ìëŠ” íŠ¹ë³„í•œ ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤(`+`ëŠ” ê³µë°±, `/`ëŠ” ê²½ë¡œ êµ¬ë¶„ì). Base64 ì¸ì½”ë”© í›„ ì´ëŸ° ë¬¸ìê°€ í¬í•¨ë  ìˆ˜ ìˆì–´ URL íŒŒì‹± ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. `-`ì™€ `_`ë¡œ ì¹˜í™˜í•˜ë©´ URLì´ ì•ˆì „í•´ì§€ê³  ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
:::

### ì£¼ì„ í˜•ì‹ ìµœì í™”

ì••ì¶• íš¨ìœ¨ì„ ìœ„í•´ PlannotatorëŠ” ê°„ì†Œí™”ëœ ì£¼ì„ í˜•ì‹(`ShareableAnnotation`)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

| ì›ë³¸ Annotation | ê°„ì†Œí™” í˜•ì‹ | ì„¤ëª… |
| --- | --- | --- |
| `{type: 'DELETION', originalText: '...', text: undefined, ...}` | `['D', 'old text', null, images?]` | D = Deletion, nullì€ text ì—†ìŒ |
| `{type: 'REPLACEMENT', originalText: '...', text: 'new...', ...}` | `['R', 'old text', 'new text', null, images?]` | R = Replacement |
| `{type: 'COMMENT', originalText: '...', text: 'comment...', ...}` | `['C', 'old text', 'comment text', null, images?]` | C = Comment |
| `{type: 'INSERTION', originalText: '...', text: 'new...', ...}` | `['I', 'context', 'new text', null, images?]` | I = Insertion |
| `{type: 'GLOBAL_COMMENT', text: '...', ...}` | `['G', 'comment text', null, images?]` | G = Global comment |

í•„ë“œ ìˆœì„œê°€ ê³ ì •ë˜ì–´ ìˆê³  í‚¤ ì´ë¦„ì„ ìƒëµí•˜ì—¬ ë°ì´í„° ì–‘ì„ í¬ê²Œ ì¤„ì…ë‹ˆë‹¤. ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `packages/ui/utils/sharing.ts:76`

### ê³µìœ  URL êµ¬ì¡°

```
https://share.plannotator.ai/#<compressed_data>
                            â†‘
                        hash ë¶€ë¶„
```

- **ê¸°ë³¸ ë„ë©”ì¸**: `share.plannotator.ai` (ë…ë¦½ ê³µìœ  í˜ì´ì§€)
- **Hash êµ¬ë¶„ì**: `#` (ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŒ, ì™„ì „íˆ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ íŒŒì‹±)
- **ì••ì¶• ë°ì´í„°**: Base64url ì¸ì½”ë”©ëœ ì••ì¶• JSON

## ğŸ’ ì‹œì‘í•˜ê¸° ì „ ì¤€ë¹„

**ì‚¬ì „ ì¡°ê±´**:
- âœ… [ê³„íš ê²€í†  ê¸°ì´ˆ](../../platforms/plan-review-basics/) ì™„ë£Œ, ì£¼ì„ ì¶”ê°€ ë°©ë²• ì´í•´
- âœ… [ê³„íš ì£¼ì„ íŠœí† ë¦¬ì–¼](../../platforms/plan-review-annotations/) ì™„ë£Œ, ì£¼ì„ ìœ í˜• ì´í•´
- âœ… ë¸Œë¼ìš°ì €ê°€ `CompressionStream` API ì§€ì› (ëª¨ë“  ìµœì‹  ë¸Œë¼ìš°ì € ì§€ì›)

**ê³µìœ  ê¸°ëŠ¥ í™œì„±í™” í™•ì¸**:
```bash
# ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë¨
echo $PLANNOTATOR_SHARE

# ê³µìœ  ë¹„í™œì„±í™” í•„ìš” ì‹œ (ì˜ˆ: ê¸°ì—… ë³´ì•ˆ ì •ì±…)
export PLANNOTATOR_SHARE=disabled
```

::: info í™˜ê²½ ë³€ìˆ˜ ì„¤ëª…
`PLANNOTATOR_SHARE`ëŠ” ê³µìœ  ê¸°ëŠ¥ì˜ í™œì„±í™” ìƒíƒœë¥¼ ì œì–´í•©ë‹ˆë‹¤:
- **ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ "disabled"ê°€ ì•„ë‹Œ ê²½ìš°**: ê³µìœ  ê¸°ëŠ¥ í™œì„±í™”
- **"disabled"ë¡œ ì„¤ì •ëœ ê²½ìš°**: ê³µìœ  ë¹„í™œì„±í™” (Export Modalì— Raw Diff íƒ­ë§Œ í‘œì‹œ)

ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `apps/hook/server/index.ts:44`, `apps/opencode-plugin/index.ts:50`
:::

**ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í™•ì¸**:
```bash
# ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰
const stream = new CompressionStream('deflate-raw');
console.log('CompressionStream supported');
```

`CompressionStream supported`ê°€ ì¶œë ¥ë˜ë©´ ë¸Œë¼ìš°ì €ê°€ ì§€ì›í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìµœì‹  ë¸Œë¼ìš°ì €(Chrome 80+, Firefox 113+, Safari 16.4+)ëŠ” ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.

## ë”°ë¼í•˜ê¸°

### 1ë‹¨ê³„: ê³„íš ê²€í†  ì™„ë£Œ

**ì™œ í•„ìš”í•œê°€**
ê³µìœ  ì „ì— ë¨¼ì € ì£¼ì„ ì¶”ê°€ë¥¼ í¬í•¨í•œ ê²€í† ë¥¼ ì™„ë£Œí•´ì•¼ í•©ë‹ˆë‹¤.

**ì‘ì—…**:
1. Claude Code ë˜ëŠ” OpenCodeì—ì„œ ê³„íš ê²€í†  íŠ¸ë¦¬ê±°
2. ê³„íš ë‚´ìš© í™•ì¸, ìˆ˜ì •ì´ í•„ìš”í•œ í…ìŠ¤íŠ¸ ì„ íƒ
3. ì£¼ì„ ì¶”ê°€ (ì‚­ì œ, êµì²´, ì½”ë©˜íŠ¸ ë“±)
4. (ì„ íƒ) ì´ë¯¸ì§€ ì²¨ë¶€ ì—…ë¡œë“œ

**ì˜ˆìƒ í™”ë©´**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plan Review                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  # Implementation Plan                                    â”‚
â”‚                                                           â”‚
â”‚  ## Phase 1: Setup                                      â”‚
â”‚  Set up WebSocket server on port 8080                    â”‚
â”‚                                                           â”‚
â”‚  ## Phase 2: Authentication                             â”‚
â”‚  Implement JWT authentication middleware                   â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚ Replace: "implement" â”‚               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                           â”‚
â”‚  Annotation Panel                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ REPLACE: "implement" â†’ "add"                      â”‚  â”‚
â”‚  â”‚ JWT is overkill, use simple session tokens         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                           â”‚
â”‚  [Approve] [Request Changes] [Export]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ë‹¨ê³„: Export Modal ì—´ê¸°

**ì™œ í•„ìš”í•œê°€**
Export Modalì€ ê³µìœ  URL ìƒì„± ì§„ì…ì ì„ ì œê³µí•©ë‹ˆë‹¤.

**ì‘ì—…**:
1. ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ **Export** ë²„íŠ¼ í´ë¦­
2. Export Modalì´ ì—´ë¦´ ë•Œê¹Œì§€ ëŒ€ê¸°

**ì˜ˆìƒ í™”ë©´**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Export                                     Ã—             â”‚
â”‚  1 annotation                          Share | Raw Diff   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  Shareable URL                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ https://share.plannotator.ai/#eJyrVkrLz1...        â”‚ â”‚
â”‚  â”‚                                              [Copy] â”‚ â”‚
â”‚  â”‚                                           3.2 KB    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  This URL contains full plan and all annotations.          â”‚
â”‚  Anyone with this link can view and add to your annotations.â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

::: tip URL í¬ê¸° íŒíŠ¸
ì˜¤ë¥¸ìª½ í•˜ë‹¨ì— URLì˜ ë°”ì´íŠ¸ ìˆ˜ê°€ í‘œì‹œë©ë‹ˆë‹¤(ì˜ˆ: 3.2 KB). URLì´ ë„ˆë¬´ ê¸¸ë©´(8 KB ì´ˆê³¼) ì£¼ì„ ìˆ˜ë‚˜ ì´ë¯¸ì§€ ì²¨ë¶€ë¥¼ ì¤„ì´ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì„¸ìš”.
:::

### 3ë‹¨ê³„: ê³µìœ  URL ë³µì‚¬

**ì™œ í•„ìš”í•œê°€**
URLì„ ë³µì‚¬í•˜ë©´ ì–´ë–¤ ë©”ì‹ ì €(Slack, Email, ì¹´ì¹´ì˜¤í†¡ ë“±)ì—ë“  ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**:
1. **Copy** ë²„íŠ¼ í´ë¦­
2. ë²„íŠ¼ì´ **Copied!**ë¡œ ë³€ê²½ë  ë•Œê¹Œì§€ ëŒ€ê¸°
3. URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë¨

**ì˜ˆìƒ í™”ë©´**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Shareable URL                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ https://share.plannotator.ai/#eJyrVkrLz1...        â”‚ â”‚
â”‚  â”‚                                    âœ“ Copied         â”‚ â”‚
â”‚  â”‚                                           3.2 KB    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

::: tip ìë™ ì„ íƒ
URL ì…ë ¥ í•„ë“œë¥¼ í´ë¦­í•˜ë©´ ì „ì²´ ë‚´ìš©ì´ ìë™ìœ¼ë¡œ ì„ íƒë˜ì–´ ìˆ˜ë™ ë³µì‚¬ê°€ í¸ë¦¬í•©ë‹ˆë‹¤(Copy ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°).
:::

### 4ë‹¨ê³„: í˜‘ì—…ìì—ê²Œ URL ê³µìœ 

**ì™œ í•„ìš”í•œê°€**
í˜‘ì—…ìê°€ URLì„ ì—´ë©´ ê³„íšê³¼ ì£¼ì„ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‘ì—…**:
1. URLì„ ë©”ì‹ ì €(Slack, Email ë“±)ì— ë¶™ì—¬ë„£ê¸°
2. íŒ€ì›ì—ê²Œ ì „ì†¡

**ì˜ˆì‹œ ë©”ì‹œì§€**:
```
ì•ˆë…•í•˜ì„¸ìš” @íŒ€,

ì´ êµ¬í˜„ ê³„íš ê²€í†  ë¶€íƒë“œë¦½ë‹ˆë‹¤:
https://share.plannotator.ai/#eJyrVkrLz1...

2ë‹¨ê³„ì— êµì²´ ì£¼ì„ì„ ì¶”ê°€í–ˆëŠ”ë°, JWTê°€ ë„ˆë¬´ ë³µì¡í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.

í”¼ë“œë°± ë¶€íƒë“œë¦½ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!
```

### 5ë‹¨ê³„: í˜‘ì—…ìê°€ ê³µìœ  URL ì—´ê¸° (ìˆ˜ì‹ ì ì¸¡)

**ì™œ í•„ìš”í•œê°€**
í˜‘ì—…ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ URLì„ ì—´ì–´ ë‚´ìš©ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

**ì‘ì—…** (í˜‘ì—…ìê°€ ìˆ˜í–‰):
1. ê³µìœ  URL í´ë¦­
2. í˜ì´ì§€ ë¡œë”© ëŒ€ê¸°

**ì˜ˆìƒ í™”ë©´** (í˜‘ì—…ì ì‹œì ):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plan Review                               Read-only     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  # Implementation Plan                                    â”‚
â”‚                                                           â”‚
â”‚  ## Phase 1: Setup                                      â”‚
â”‚  Set up WebSocket server on port 8080                    â”‚
â”‚                                                           â”‚
â”‚  ## Phase 2: Authentication                             â”‚
â”‚  Implement JWT authentication middleware                   â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚ Replace: "implement" â”‚               â”‚
â”‚  â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚  â”‚ This annotation was shared by [Your Name]             â”‚
â”‚                                                           â”‚
â”‚  Annotation Panel                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ REPLACE: "implement" â†’ "add"                      â”‚  â”‚
â”‚  â”‚ JWT is overkill, use simple session tokens         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                           â”‚
â”‚  [View Only Mode - Approve and Deny disabled]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

::: warning ì½ê¸° ì „ìš© ëª¨ë“œ
ê³µìœ  URLì„ ì—´ë©´ ì¸í„°í˜ì´ìŠ¤ ì˜¤ë¥¸ìª½ ìƒë‹¨ì— "Read-only" ë¼ë²¨ì´ í‘œì‹œë˜ê³ , Approveì™€ Deny ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤. í˜‘ì—…ìëŠ” ê³„íšê³¼ ì£¼ì„ì„ ë³¼ ìˆ˜ ìˆì§€ë§Œ ê²°ì •ì„ ì œì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
:::

::: info ì••ì¶• í•´ì œ ê³¼ì •
í˜‘ì—…ìê°€ URLì„ ì—´ë©´ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤(`useSharing` Hookì— ì˜í•´ íŠ¸ë¦¬ê±°):
1. `window.location.hash`ì—ì„œ ì••ì¶• ë°ì´í„° ì¶”ì¶œ
2. ì—­ìˆœìœ¼ë¡œ Base64 ë””ì½”ë”© â†’ deflate ì••ì¶• í•´ì œ â†’ JSON íŒŒì‹± ì‹¤í–‰
3. ê³„íšê³¼ ì£¼ì„ ë³µì›
4. URL hash ì œê±° (ìƒˆë¡œê³ ì¹¨ ì‹œ ì¬ë¡œë”© ë°©ì§€)

ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `packages/ui/hooks/useSharing.ts:67`
:::

### ì²´í¬í¬ì¸íŠ¸ âœ…

**ê³µìœ  URL ìœ íš¨ì„± ê²€ì¦**:
1. ê³µìœ  URL ë³µì‚¬
2. ìƒˆ íƒ­ì´ë‚˜ ì‹œí¬ë¦¿ ëª¨ë“œì—ì„œ ì—´ê¸°
3. ë™ì¼í•œ ê³„íšê³¼ ì£¼ì„ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

**ì½ê¸° ì „ìš© ëª¨ë“œ ê²€ì¦**:
1. í˜‘ì—…ìê°€ ê³µìœ  URL ì—´ê¸°
2. ì˜¤ë¥¸ìª½ ìƒë‹¨ì— "Read-only" ë¼ë²¨ì´ ìˆëŠ”ì§€ í™•ì¸
3. Approveì™€ Deny ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸

**URL ê¸¸ì´ ê²€ì¦**:
1. Export Modalì—ì„œ URL í¬ê¸° í™•ì¸
2. 8 KBë¥¼ ì´ˆê³¼í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸ (ì´ˆê³¼ ì‹œ ì£¼ì„ ì¤„ì´ê¸° ê³ ë ¤)

## ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

### ë¬¸ì œ 1: URL ê³µìœ  ë²„íŠ¼ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

**í˜„ìƒ**: Export Modalì— Share íƒ­ì´ ì—†ê³  Raw Diffë§Œ ìˆìŒ.

**ì›ì¸**: `PLANNOTATOR_SHARE` í™˜ê²½ ë³€ìˆ˜ê°€ "disabled"ë¡œ ì„¤ì •ë¨.

**í•´ê²° ë°©ë²•**:
```bash
# í˜„ì¬ ê°’ í™•ì¸
echo $PLANNOTATOR_SHARE

# ì œê±°í•˜ê±°ë‚˜ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì„¤ì •
unset PLANNOTATOR_SHARE
# ë˜ëŠ”
export PLANNOTATOR_SHARE=enabled
```

ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `apps/hook/server/index.ts:44`

### ë¬¸ì œ 2: ê³µìœ  URLì„ ì—´ë©´ ë¹ˆ í˜ì´ì§€ê°€ í‘œì‹œë¨

**í˜„ìƒ**: í˜‘ì—…ìê°€ URLì„ ì—´ì—ˆëŠ”ë° í˜ì´ì§€ì— ë‚´ìš©ì´ ì—†ìŒ.

**ì›ì¸**: URL hashê°€ ë³µì‚¬ ê³¼ì •ì—ì„œ ì†ì‹¤ë˜ê±°ë‚˜ ì˜ë¦¼.

**í•´ê²° ë°©ë²•**:
1. ì™„ì „í•œ URLì„ ë³µì‚¬í–ˆëŠ”ì§€ í™•ì¸ (`#` ë° ê·¸ ë’¤ì˜ ëª¨ë“  ë¬¸ì í¬í•¨)
2. ë‹¨ì¶• URL ì„œë¹„ìŠ¤ ì‚¬ìš© ê¸ˆì§€ (hashê°€ ì˜ë¦´ ìˆ˜ ìˆìŒ)
3. ìˆ˜ë™ ë³µì‚¬ ëŒ€ì‹  Export Modalì˜ Copy ë²„íŠ¼ ì‚¬ìš©

::: tip URL hash ê¸¸ì´
ê³µìœ  URLì˜ hash ë¶€ë¶„ì€ ë³´í†µ ìˆ˜ì²œ ê°œì˜ ë¬¸ìê°€ ìˆì–´ ìˆ˜ë™ ë³µì‚¬ ì‹œ ëˆ„ë½ë˜ê¸° ì‰½ìŠµë‹ˆë‹¤. Copy ë²„íŠ¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸° ë‘ ë²ˆìœ¼ë¡œ ì™„ì „ì„±ì„ í™•ì¸í•˜ì„¸ìš”.
:::

### ë¬¸ì œ 3: URLì´ ë„ˆë¬´ ê¸¸ì–´ì„œ ì „ì†¡í•  ìˆ˜ ì—†ìŒ

**í˜„ìƒ**: URLì´ ë©”ì‹ ì €ì˜ ë¬¸ì ì œí•œì„ ì´ˆê³¼í•¨ (ì˜ˆ: ì¹´ì¹´ì˜¤í†¡, Slack).

**ì›ì¸**: ê³„íš ë‚´ìš©ì´ ë„ˆë¬´ ê¸¸ê±°ë‚˜ ì£¼ì„ ìˆ˜ê°€ ë„ˆë¬´ ë§ìŒ.

**í•´ê²° ë°©ë²•**:
1. ë¶ˆí•„ìš”í•œ ì£¼ì„ ì‚­ì œ
2. ì´ë¯¸ì§€ ì²¨ë¶€ ì¤„ì´ê¸°
3. Raw Diffë¡œ ë‚´ë³´ë‚´ì„œ íŒŒì¼ë¡œ ì €ì¥ ê³ ë ¤
4. ì½”ë“œ ë¦¬ë·° ê¸°ëŠ¥ ì‚¬ìš© (diff ëª¨ë“œì˜ ì••ì¶•ë¥ ì´ ë” ë†’ìŒ)

### ë¬¸ì œ 4: í˜‘ì—…ìê°€ ë‚´ ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ì—†ìŒ

**í˜„ìƒ**: ê³µìœ  URLì— ì´ë¯¸ì§€ ê²½ë¡œê°€ í¬í•¨ë˜ì–´ ìˆì§€ë§Œ í˜‘ì—…ìê°€ ì—´ë©´ "Image not found" í‘œì‹œ.

**ì›ì¸**: ì´ë¯¸ì§€ê°€ ë¡œì»¬ `/tmp/plannotator/` ë””ë ‰í† ë¦¬ì— ì €ì¥ë˜ì–´ ìˆì–´ í˜‘ì—…ìê°€ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ.

**í•´ê²° ë°©ë²•**:
- Plannotatorì˜ URL ê³µìœ ëŠ” ê¸°ê¸° ê°„ ì´ë¯¸ì§€ ì ‘ê·¼ì„ ì§€ì›í•˜ì§€ ì•ŠìŒ
- Obsidian ì—°ë™ ì‚¬ìš© ê¶Œì¥, ì´ë¯¸ì§€ë¥¼ vaultì— ì €ì¥ í›„ ê³µìœ  ê°€ëŠ¥
- ë˜ëŠ” ìŠ¤í¬ë¦°ìƒ·ì„ ì°ì–´ ì£¼ì„ì— í…ìŠ¤íŠ¸ ì„¤ëª…ìœ¼ë¡œ í¬í•¨

ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `packages/server/index.ts:163` (ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ)

### ë¬¸ì œ 5: ê³µìœ  í›„ ì£¼ì„ì„ ìˆ˜ì •í–ˆëŠ”ë° URLì´ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ

**í˜„ìƒ**: ìƒˆ ì£¼ì„ì„ ì¶”ê°€í–ˆëŠ”ë° Export Modalì˜ URLì´ ë³€ê²½ë˜ì§€ ì•ŠìŒ.

**ì›ì¸**: `shareUrl` ìƒíƒœê°€ ìë™ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨ë˜ì§€ ì•ŠìŒ (ë“œë¬¸ ê²½ìš°, ë³´í†µ React ìƒíƒœ ì—…ë°ì´íŠ¸ ë¬¸ì œ).

**í•´ê²° ë°©ë²•**:
1. Export Modal ë‹«ê¸°
2. Export Modal ë‹¤ì‹œ ì—´ê¸°
3. URLì´ ìë™ìœ¼ë¡œ ìµœì‹  ë‚´ìš©ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì–´ì•¼ í•¨

ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜: `packages/ui/hooks/useSharing.ts:128` (`refreshShareUrl` í•¨ìˆ˜)

## ì´ ê°•ì˜ ìš”ì•½

**URL ê³µìœ  ê¸°ëŠ¥**ìœ¼ë¡œ ë°±ì—”ë“œ ì„œë²„ ì—†ì´ ê³„íšê³¼ ì£¼ì„ì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- âœ… **ë°±ì—”ë“œ ì—†ìŒ**: ë°ì´í„°ê°€ URL hashì— ì••ì¶•ë˜ì–´ ì„œë²„ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- âœ… **í”„ë¼ì´ë²„ì‹œ ì•ˆì „**: ë°ì´í„°ê°€ ì—…ë¡œë“œë˜ì§€ ì•Šê³  ë¡œì»¬ê³¼ í˜‘ì—…ì ì‚¬ì´ì—ì„œë§Œ ì „ë‹¬
- âœ… **ê°„í¸í•˜ê³  íš¨ìœ¨ì **: ì›í´ë¦­ìœ¼ë¡œ URL ìƒì„±, ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¡œ ê³µìœ 
- âœ… **ì½ê¸° ì „ìš© ëª¨ë“œ**: í˜‘ì—…ìê°€ ì£¼ì„ì„ ë³´ê³  ì¶”ê°€í•  ìˆ˜ ìˆì§€ë§Œ ê²°ì •ì„ ì œì¶œí•  ìˆ˜ ì—†ìŒ

**ê¸°ìˆ  ì›ë¦¬**:
1. **Deflate-raw ì••ì¶•**: JSON ë°ì´í„°ë¥¼ ì•½ 60-80% ì••ì¶•
2. **Base64 ì¸ì½”ë”©**: ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜
3. **URL ì•ˆì „ ë¬¸ì ì¹˜í™˜**: `+` â†’ `-`, `/` â†’ `_`, `=` â†’ `''`
4. **Hash íŒŒì‹±**: í”„ë¡ íŠ¸ì—”ë“œê°€ ìë™ìœ¼ë¡œ ì••ì¶• í•´ì œí•˜ê³  ë‚´ìš© ë³µì›

**ì„¤ì • ì˜µì…˜**:
- `PLANNOTATOR_SHARE=disabled`: ê³µìœ  ê¸°ëŠ¥ ë¹„í™œì„±í™”
- ê¸°ë³¸ í™œì„±í™”: ê³µìœ  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

## ë‹¤ìŒ ê°•ì˜ ì˜ˆê³ 

> ë‹¤ìŒ ê°•ì˜ì—ì„œëŠ” **[Obsidian ì—°ë™](../obsidian-integration/)**ì„ ë°°ì›ë‹ˆë‹¤.
>
> ë°°ìš¸ ë‚´ìš©:
> - Obsidian vault ìë™ ê°ì§€
> - ìŠ¹ì¸ëœ ê³„íšì„ Obsidianì— ì €ì¥
> - frontmatterì™€ íƒœê·¸ ìë™ ìƒì„±
> - URL ê³µìœ ì™€ Obsidian ì§€ì‹ ê´€ë¦¬ ê²°í•©

## ë‹¤ìŒ ê°•ì˜ ì˜ˆê³ 

> ë‹¤ìŒ ê°•ì˜ì—ì„œëŠ” **[Obsidian ì—°ë™](../obsidian-integration/)**ì„ ë°°ì›ë‹ˆë‹¤.
>
> ë°°ìš¸ ë‚´ìš©:
> - Obsidian ì—°ë™ ì„¤ì • ë°©ë²•, ê³„íšì„ vaultì— ìë™ ì €ì¥
> - frontmatterì™€ íƒœê·¸ ìƒì„± ë©”ì»¤ë‹ˆì¦˜ ì´í•´
> - backlinkë¥¼ í™œìš©í•œ ì§€ì‹ ê·¸ë˜í”„ êµ¬ì¶•

---

## ë¶€ë¡: ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°

<details>
<summary><strong>ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ ë³´ê¸°</strong></summary>

> ì—…ë°ì´íŠ¸ ì‹œê°„: 2026-01-24

| ê¸°ëŠ¥ | íŒŒì¼ ê²½ë¡œ | í–‰ ë²ˆí˜¸ |
| --- | --- | --- |
| ë°ì´í„° ì••ì¶• (deflate + Base64) | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L30-L48) | 30-48 |
| ë°ì´í„° ì••ì¶• í•´ì œ | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L53-L71) | 53-71 |
| ì£¼ì„ í˜•ì‹ ë³€í™˜ (ê°„ì†Œí™”) | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L76-L95) | 76-95 |
| ì£¼ì„ í˜•ì‹ ë³µì› | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L102-L155) | 102-155 |
| ê³µìœ  URL ìƒì„± | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L162-L175) | 162-175 |
| URL hash íŒŒì‹± | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L181-L194) | 181-194 |
| URL í¬ê¸° í¬ë§·íŒ… | [`packages/ui/utils/sharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/utils/sharing.ts#L199-L205) | 199-205 |
| URL ê³µìœ  Hook | [`packages/ui/hooks/useSharing.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/hooks/useSharing.ts#L45-L155) | 45-155 |
| Export Modal UI | [`packages/ui/components/ExportModal.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ExportModal.tsx#L1-L196) | 1-196 |
| ê³µìœ  ìŠ¤ìœ„ì¹˜ ì„¤ì • (Hook) | [`apps/hook/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/hook/server/index.ts#L44) | 44 |
| ê³µìœ  ìŠ¤ìœ„ì¹˜ ì„¤ì • (OpenCode) | [`apps/opencode-plugin/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/opencode-plugin/index.ts#L50) | 50 |

**ì£¼ìš” ìƒìˆ˜**:
- `SHARE_BASE_URL = 'https://share.plannotator.ai'`: ê³µìœ  í˜ì´ì§€ ê¸°ë³¸ ë„ë©”ì¸

**ì£¼ìš” í•¨ìˆ˜**:
- `compress(payload: SharePayload): Promise<string>`: payloadë¥¼ base64url ë¬¸ìì—´ë¡œ ì••ì¶•
- `decompress(b64: string): Promise<SharePayload>`: base64url ë¬¸ìì—´ì„ payloadë¡œ ì••ì¶• í•´ì œ
- `toShareable(annotations: Annotation[]): ShareableAnnotation[]`: ì „ì²´ ì£¼ì„ì„ ê°„ì†Œí™” í˜•ì‹ìœ¼ë¡œ ë³€í™˜
- `fromShareable(data: ShareableAnnotation[]): Annotation[]`: ê°„ì†Œí™” í˜•ì‹ì„ ì „ì²´ ì£¼ì„ìœ¼ë¡œ ë³µì›
- `generateShareUrl(markdown, annotations, attachments): Promise<string>`: ì™„ì „í•œ ê³µìœ  URL ìƒì„±
- `parseShareHash(): Promise<SharePayload | null>`: í˜„ì¬ URLì˜ hash íŒŒì‹±

**ë°ì´í„° íƒ€ì…**:
```typescript
interface SharePayload {
  p: string;  // plan markdown
  a: ShareableAnnotation[];
  g?: string[];  // global attachments
}

type ShareableAnnotation =
  | ['D', string, string | null, string[]?]  // Deletion
  | ['R', string, string, string | null, string[]?]  // Replacement
  | ['C', string, string, string | null, string[]?]  // Comment
  | ['I', string, string, string | null, string[]?]  // Insertion
  | ['G', string, string | null, string[]?];  // Global Comment
```

</details>
