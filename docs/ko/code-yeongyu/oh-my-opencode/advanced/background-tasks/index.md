---
title: "ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…: ë³‘ë ¬ ì—ì´ì „íŠ¸ ì‹¤í–‰ | oh-my-opencode"
sidebarTitle: "ì—¬ëŸ¬ AI ë™ì‹œì— ì‘ì—…í•˜ê¸°"
subtitle: "ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…: ë³‘ë ¬ ì—ì´ì „íŠ¸ ì‹¤í–‰ | oh-my-opencode"
description: "oh-my-opencode ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì˜ ë³‘ë ¬ ì‹¤í–‰ ëŠ¥ë ¥ì„ í•™ìŠµí•©ë‹ˆë‹¤. 3ë‹¨ê³„ ë™ì‹œì„± ì œì–´, ì‘ì—… ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬, delegate_task ë° background_output ë„êµ¬ ì‚¬ìš©ë²•ì„ ë§ˆìŠ¤í„°í•˜ì„¸ìš”."
tags:
  - "background-tasks"
  - "parallel-execution"
  - "concurrency"
prerequisite:
  - "start-sisyphus-orchestrator"
order: 80
---

# ë°±ê·¸ë¼ìš´ë“œ ë³‘ë ¬ ì‘ì—…: íŒ€ì²˜ëŸ¼ ì¼í•˜ê¸°

## í•™ìŠµ ëª©í‘œ

- âœ… ì—¬ëŸ¬ ë³‘ë ¬ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì‹œì‘í•˜ì—¬ ë‹¤ë¥¸ AI ì—ì´ì „íŠ¸ê°€ ë™ì‹œì— ì‘ì—…í•˜ë„ë¡ ì„¤ì •
- âœ… ë™ì‹œì„± ì œí•œì„ êµ¬ì„±í•˜ì—¬ API ì†ë„ ì œí•œê³¼ ë¹„ìš© ê³¼ì§€ ë°©ì§€
- âœ… ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ê²°ê³¼ ê°€ì ¸ì˜¤ê¸°
- âœ… ì‘ì—…ì„ ì·¨ì†Œí•˜ì—¬ ë¦¬ì†ŒìŠ¤ í•´ì œ

## í˜„ì¬ ì§ë©´í•œ ë¬¸ì œ

**í˜¼ìë§Œ ì¼í•˜ê³  ìˆë‚˜ìš”?**

ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒìƒí•´ ë³´ì„¸ìš”:
- **Explore** ì—ì´ì „íŠ¸ê°€ ì½”ë“œë² ì´ìŠ¤ì—ì„œ ì¸ì¦ êµ¬í˜„ì„ ì°¾ì•„ì•¼ í•¨
- ë™ì‹œì— **Librarian** ì—ì´ì „íŠ¸ê°€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ë¥¼ ì—°êµ¬í•´ì•¼ í•¨
- ê·¸ë¦¬ê³  **Oracle** ì—ì´ì „íŠ¸ê°€ ì•„í‚¤í…ì²˜ ì„¤ê³„ë¥¼ ê²€í† í•´ì•¼ í•¨

ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ì´ ì†Œìš” ì‹œê°„ = 10ë¶„ + 15ë¶„ + 8ë¶„ = **33ë¶„**

í•˜ì§€ë§Œ ë³‘ë ¬ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ë©´? 3ê°œ ì—ì´ì „íŠ¸ê°€ ë™ì‹œì— ì‘ì—…í•˜ë©´ ì´ ì†Œìš” ì‹œê°„ = **max(10, 15, 8) = 15ë¶„**, **54%**ì˜ ì‹œê°„ì„ ì ˆì•½í•©ë‹ˆë‹¤.

**ë¬¸ì œ**: ê¸°ë³¸ì ìœ¼ë¡œ OpenCodeëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ì„¸ì…˜ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³‘ë ¬ ì‹¤í–‰ì„ êµ¬í˜„í•˜ë ¤ë©´ ì—¬ëŸ¬ ì°½ì„ ìˆ˜ë™ìœ¼ë¡œ ê´€ë¦¬í•˜ê±°ë‚˜ ì‘ì—… ì™„ë£Œë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.

**í•´ê²°**: oh-my-opencodeì˜ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì€ ì—¬ëŸ¬ AI ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ê³  ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•˜ì—¬ ë‹¤ë¥¸ ì‘ì—…ì„ ê³„ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì‚¬ìš© ì‹œê¸°

ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ íš¨ìœ¨ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” ì‹œë‚˜ë¦¬ì˜¤:

| ì‹œë‚˜ë¦¬ì˜¤ | ì˜ˆì‹œ | ê°€ì¹˜ |
|--- | --- | ---|
| **ë³‘ë ¬ ì—°êµ¬** | Exploreê°€ êµ¬í˜„ ì°¾ê¸° + Librarianì´ ë¬¸ì„œ ì°¾ê¸° | ì—°êµ¬ë¥¼ 3ë°° ë¹ ë¥´ê²Œ ì™„ë£Œ |
| **ë‹¤ì¤‘ ì „ë¬¸ê°€ ê²€í† ** | Oracleì´ ì•„í‚¤í…ì²˜ ê²€í†  + Momusê°€ ê³„íš ê²€ì¦ | ë‹¤ê°ë„ í”¼ë“œë°±ì„ ì‹ ì†í•˜ê²Œ íšë“ |
| **ë¹„ë™ê¸° ì‘ì—…** | Git commit ì œì¶œ ì‹œ ë™ì‹œì— ì½”ë“œ ê²€í†  ìˆ˜í–‰ | ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ì°¨ë‹¨ ë°©ì§€ |
| **ë¦¬ì†ŒìŠ¤ ì œí•œ** | ë™ì‹œì„± ìˆ˜ ì œí•œìœ¼ë¡œ API ì†ë„ ì œí•œ ë°©ì§€ | ë¹„ìš©ê³¼ ì•ˆì •ì„± ì œì–´ |

::: tip Ultrawork ëª¨ë“œ
í”„ë¡¬í”„íŠ¸ì— `ultrawork` ë˜ëŠ” `ulw`ë¥¼ ì¶”ê°€í•˜ë©´ ìµœëŒ€ ì„±ëŠ¥ ëª¨ë“œê°€ ìë™ìœ¼ë¡œ í™œì„±í™”ë˜ë©°, ëª¨ë“  ì „ë¬¸ ì—ì´ì „íŠ¸ì™€ ë³‘ë ¬ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ í¬í•¨ë©ë‹ˆë‹¤. ìˆ˜ë™ êµ¬ì„±ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.
:::

## ğŸ’ ì‹œì‘ ì „ ì¤€ë¹„

::: warning ì „ì œ ì¡°ê±´

ì´ íŠœí† ë¦¬ì–¼ì„ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:
1. oh-my-opencodeê°€ ì„¤ì¹˜ë¨ ( [ì„¤ì¹˜ íŠœí† ë¦¬ì–¼](../../start/installation/) ì°¸ì¡°)
2. ê¸°ë³¸ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©° ìµœì†Œ í•˜ë‚˜ì˜ AI Providerë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
3. Sisyphus ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì˜ ê¸°ë³¸ ì‚¬ìš©ë²•ì„ ì´í•´í•¨ ( [Sisyphus íŠœí† ë¦¬ì–¼](../sisyphus-orchestrator/) ì°¸ì¡°)

:::

## í•µì‹¬ ê°œë…

ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì˜ ì‘ë™ ì›ë¦¬ëŠ” ì„¸ ê°€ì§€ í•µì‹¬ ê°œë…ìœ¼ë¡œ ìš”ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### 1. ë³‘ë ¬ ì‹¤í–‰

ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì€ ì—¬ëŸ¬ AI ì—ì´ì „íŠ¸ ì‘ì—…ì„ ë™ì‹œì— ì‹œì‘í•  ìˆ˜ ìˆìœ¼ë©°, ê° ì‘ì—…ì€ ë…ë¦½ì ì¸ ì„¸ì…˜ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:

- **Explore**ê°€ ì½”ë“œ ê²€ìƒ‰
- **Librarian**ê°€ ë¬¸ì„œ ì°¸ì¡°
- **Oracle**ì´ ì„¤ê³„ ê²€í† 

ì„¸ ê°€ì§€ ì‘ì—…ì´ ë³‘ë ¬ë¡œ ì‹¤í–‰ë˜ë©° ì´ ì†Œìš” ì‹œê°„ì€ ê°€ì¥ ëŠë¦° ì‘ì—…ê³¼ ê°™ìŠµë‹ˆë‹¤.

### 2. ë™ì‹œì„± ì œì–´

ë„ˆë¬´ ë§ì€ ì‘ì—…ì„ ë™ì‹œì— ì‹œì‘í•˜ì—¬ API ì†ë„ ì œí•œì´ë‚˜ ë¹„ìš© ê³¼ì§€ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‹œìŠ¤í…œì€ 3ë‹¨ê³„ ë™ì‹œì„± ì œí•œì„ ì œê³µí•©ë‹ˆë‹¤:

```
ìš°ì„ ìˆœìœ„: Model > Provider > Default

êµ¬ì„± ì˜ˆì‹œ:
modelConcurrency:     claude-opus-4-5 â†’ 2
providerConcurrency:  anthropic â†’ 3
defaultConcurrency:   ëª¨ë‘ â†’ 5
```

**ê·œì¹™**:
- model ë ˆë²¨ ì œí•œì´ ì§€ì •ëœ ê²½ìš° í•´ë‹¹ ì œí•œ ì‚¬ìš©
- ê·¸ë ‡ì§€ ì•Šê³  provider ë ˆë²¨ ì œí•œì´ ì§€ì •ëœ ê²½ìš° í•´ë‹¹ ì œí•œ ì‚¬ìš©
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ì œí•œ ì‚¬ìš© (ê¸°ë³¸ê°’ 5)

### 3. í´ë§ ë©”ì»¤ë‹ˆì¦˜

ì‹œìŠ¤í…œì€ 2ì´ˆë§ˆë‹¤ ì‘ì—… ìƒíƒœë¥¼ í™•ì¸í•˜ì—¬ ì‘ì—… ì™„ë£Œ ì—¬ë¶€ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤. ì™„ë£Œ ì¡°ê±´:

- **ì„¸ì…˜ idle** (session.idle ì´ë²¤íŠ¸)
- **ì•ˆì •ì„± ê°ì§€**: ì—°ì† 3íšŒ í´ë§, ë©”ì‹œì§€ ìˆ˜ê°€ ë³€í•˜ì§€ ì•ŠìŒ
- **TODO ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ ìˆìŒ**: ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë¨

## ë”°ë¼í•´ ë³´ì„¸ìš”

### 1ë‹¨ê³„: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œì‘

`delegate_task` ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì‹œì‘í•˜ì„¸ìš”:

```markdown
ë³‘ë ¬ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œì‘:

1. Exploreê°€ ì¸ì¦ êµ¬í˜„ ì°¾ê¸°
2. Librarianê°€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì—°êµ¬
3. Oracleì´ ì•„í‚¤í…ì²˜ ì„¤ê³„ ê²€í† 

ë³‘ë ¬ ì‹¤í–‰:
```

**ì´ìœ **
ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì˜ ê°€ì¥ ëŒ€í‘œì ì¸ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. 3ê°€ì§€ ì‘ì—…ì´ ë™ì‹œì— ì§„í–‰ë  ìˆ˜ ìˆì–´ ì‹œê°„ì„ í¬ê²Œ ì ˆì•½í•©ë‹ˆë‹¤.

**ì˜ˆìƒ ê²°ê³¼**
ì‹œìŠ¤í…œì´ 3ê°œ ì‘ì—… IDë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤:

```
Background task launched successfully.

Task ID: bg_abc123
Session ID: sess_xyz789
Description: Explore: ì¸ì¦ êµ¬í˜„ ì°¾ê¸°
Agent: explore
Status: pending
...

Background task launched successfully.

Task ID: bg_def456
Session ID: sess_uvwx012
Description: Librarian: ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì—°êµ¬
Agent: librarian
Status: pending
...
```

::: info ì‘ì—… ìƒíƒœ ì„¤ëª…
- **pending**: ë™ì‹œì„± ìŠ¬ë¡¯ ëŒ€ê¸° ì¤‘
- **running**: ì‹¤í–‰ ì¤‘
- **completed**: ì™„ë£Œë¨
- **error**: ì˜¤ë¥˜ ë°œìƒ
- **cancelled**: ì·¨ì†Œë¨
:::

### 2ë‹¨ê³„: ì‘ì—… ìƒíƒœ í™•ì¸

`background_output` ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”:

```markdown
bg_abc123ì˜ ìƒíƒœ í™•ì¸:
```

**ì´ìœ **
ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì•„ë‹ˆë©´ ì—¬ì „íˆ ì‹¤í–‰ ì¤‘ì¸ì§€ íŒŒì•…í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

**ì˜ˆìƒ ê²°ê³¼**
ì‘ì—…ì´ ì—¬ì „íˆ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°:

```
## Task Status

| Field | Value |
|--- | ---|
| Task ID | `bg_abc123` |
| Description | Explore: ì¸ì¦ êµ¬í˜„ ì°¾ê¸° |
| Agent | explore |
| Status | **running** |
| Duration | 2m 15s |
| Session ID | `sess_xyz789` |

> **Note**: No need to wait explicitly - system will notify you when this task completes.

## Original Prompt

src/auth ë””ë ‰í† ë¦¬ä¸‹çš„ ì¸ì¦ êµ¬í˜„ ì°¾ê¸°, ë¡œê·¸ì¸, ë“±ë¡, Token ê´€ë¦¬ ë“± í¬í•¨
```

ì‘ì—…ì´ ì™„ë£Œëœ ê²½ìš°:

```
Task Result

Task ID: bg_abc123
Description: Explore: ì¸ì¦ êµ¬í˜„ ì°¾ê¸°
Duration: 5m 32s
Session ID: sess_xyz789

---

3ê°œì˜ ì¸ì¦ êµ¬í˜„ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤:
1. `src/auth/login.ts` - JWT ì¸ì¦
2. `src/auth/register.ts` - ì‚¬ìš©ì ë“±ë¡
3. `src/auth/token.ts` - Token ê°±ì‹ 
...
```

### 3ë‹¨ê³„: ë™ì‹œì„± ì œì–´ êµ¬ì„±

`~/.config/opencode/oh-my-opencode.json`ì„ í¸ì§‘í•˜ì„¸ìš”:

```jsonc
{
  "$schema": "https://code-yeongyu.github.io/oh-my-opencode/schema.json",

  "background_task": {
    // Provider ë ˆë²¨ ë™ì‹œì„± ì œí•œ (ê¶Œì¥ ì„¤ì •)
    "providerConcurrency": {
      "anthropic": 3,     // Anthropic ëª¨ë¸ ìµœëŒ€ 3ê°œ ë™ì‹œ
      "openai": 2,         // OpenAI ëª¨ë¸ ìµœëŒ€ 2ê°œ ë™ì‹œ
      "google": 2          // Google ëª¨ë¸ ìµœëŒ€ 2ê°œ ë™ì‹œ
    },

    // Model ë ˆë²¨ ë™ì‹œì„± ì œí•œ (ìµœê³  ìš°ì„ ìˆœìœ„)
    "modelConcurrency": {
      "claude-opus-4-5": 2,    // Opus 4.5 ìµœëŒ€ 2ê°œ ë™ì‹œ
      "gpt-5.2": 2              // GPT 5.2 ìµœëŒ€ 2ê°œ ë™ì‹œ
    },

    // ê¸°ë³¸ ë™ì‹œì„± ì œí•œ (ìœ„ ì„¤ì •ì´ ì—†ì„ ë•Œ ì‚¬ìš©)
    "defaultConcurrency": 3
  }
}
```

**ì´ìœ **
ë™ì‹œì„± ì œì–´ëŠ” ë¹„ìš© ê³¼ì§€ë¥¼ ë°©ì§€í•˜ëŠ” í•µì‹¬ì…ë‹ˆë‹¤. ì œí•œì„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ 10ê°œì˜ Opus 4.5 ì‘ì—…ì„ ë™ì‹œì— ì‹œì‘í•˜ì—¬ ìˆœê°„ì ìœ¼ë¡œ ë§ì€ API í• ë‹¹ëŸ‰ì„ ì†Œë¹„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

::: tip ê¶Œì¥ ì„¤ì •
ëŒ€ë¶€ë¶„ì˜ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ë‹¤ìŒ ì„¤ì •ì„ ê¶Œì¥í•©ë‹ˆë‹¤:
- `providerConcurrency.anthropic: 3`
- `providerConcurrency.openai: 2`
- `defaultConcurrency: 5`
:::

**ì˜ˆìƒ ê²°ê³¼**
êµ¬ì„±ì´ ì ìš©ëœ í›„ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì‹œì‘í•  ë•Œ:
- ë™ì‹œì„± ì œí•œì— ë„ë‹¬í•˜ë©´ ì‘ì—…ì´ **pending** ìƒíƒœë¡œ ëŒ€ê¸°ì—´ì— ë“¤ì–´ê°
- ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì‹œì‘ë¨

### 4ë‹¨ê³„: ì‘ì—… ì·¨ì†Œ

`background_cancel` ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—…ì„ ì·¨ì†Œí•˜ì„¸ìš”:

```markdown
ëª¨ë“  ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì·¨ì†Œ:
```

**ì´ìœ **
ë•Œë¡œëŠ” ì‘ì—…ì´ ë©ˆì¶”ê±°ë‚˜ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•˜ê¸° ìœ„í•´ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì˜ˆìƒ ê²°ê³¼**

```
Cancelled 3 background task(s):

| Task ID | Description | Status | Session ID |
|--- | --- | --- | ---|
| `bg_abc123` | Explore: ì¸ì¦ êµ¬í˜„ ì°¾ê¸° | running | `sess_xyz789` |
| `bg_def456` | Librarian: ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì—°êµ¬ | running | `sess_uvwx012` |
| `bg_ghi789` | Oracle: ì•„í‚¤í…ì²˜ ì„¤ê³„ ê²€í†  | pending | (not started) |

## Continue Instructions

To continue a cancelled task, use:

    delegate_task(session_id="<session_id>", prompt="Continue: <your follow-up>")

Continuable sessions:
- `sess_xyz789` (Explore: ì¸ì¦ êµ¬í˜„ ì°¾ê¸°)
- `sess_uvwx012` (Librarian: ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì—°êµ¬)
```

## ì²´í¬í¬ì¸íŠ¸ âœ…

ë‹¤ìŒ í•µì‹¬ ì‚¬í•­ì„ ì´í•´í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

- [ ] ì—¬ëŸ¬ ë³‘ë ¬ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì‹œì‘í•  ìˆ˜ ìˆìŒ
- [ ] ì‘ì—… ìƒíƒœ(pending, running, completed)ë¥¼ ì´í•´í•¨
- [ ] í•©ë¦¬ì ì¸ ë™ì‹œì„± ì œí•œì„ êµ¬ì„±í•¨
- [ ] ì‘ì—… ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
- [ ] ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìŒ

## í”í•œ ì‹¤ìˆ˜

### í•¨ì • 1: ë™ì‹œì„± ì œí•œ ì„¤ì • ìŠìŒ

**ì¦ìƒ**: ë„ˆë¬´ ë§ì€ ì‘ì—…ì„ ì‹œì‘í•˜ì—¬ API í• ë‹¹ëŸ‰ì´ ìˆœê°„ì ìœ¼ë¡œ ì†Œì§„ë˜ê±°ë‚˜ ì†ë„ ì œí•œì— ë„ë‹¬í•¨

**í•´ê²°**: `oh-my-opencode.json`ì—ì„œ `providerConcurrency` ë˜ëŠ” `defaultConcurrency`ë¥¼ êµ¬ì„±í•˜ì„¸ìš”

### í•¨ì • 2: ê²°ê³¼ í™•ì¸ í´ë§ì´ ë„ˆë¬´ ì¦ìŒ

**ì¦ìƒ**: ëª‡ ì´ˆë§ˆë‹¤ `background_output`ì„ í˜¸ì¶œí•˜ì—¬ ì‘ì—… ìƒíƒœë¥¼ í™•ì¸, ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œ ì¦ê°€

**í•´ê²°**: ì‹œìŠ¤í…œì´ ì‘ì—… ì™„ë£Œë¥¼ ìë™ìœ¼ë¡œ ì•Œë ¤ì¤ë‹ˆë‹¤. ì‹¤ì œë¡œ ì¤‘ê°„ ê²°ê³¼ê°€ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ìˆ˜ë™ìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”

### í•¨ì • 3: ì‘ì—… íƒ€ì„ì•„ì›ƒ

**ì¦ìƒ**: ì‘ì—…ì´ 30ë¶„ í›„ì— ìë™ìœ¼ë¡œ ì·¨ì†Œë¨

**ì›ì¸**: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì—ëŠ” 30ë¶„ì˜ TTL(íƒ€ì„ì•„ì›ƒ)ì´ ìˆìŒ

**í•´ê²°**: ì¥ê¸° ì‘ì—…ì´ í•„ìš”í•œ ê²½ìš° ì—¬ëŸ¬ í•˜ìœ„ ì‘ì—…ìœ¼ë¡œ ë¶„í• í•˜ê±°ë‚˜ `delegate_task(background=false)`ë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”

### í•¨ì • 4: Pending ì‘ì—…ì´ ê³„ì† ì‹œì‘ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: ì‘ì—… ìƒíƒœê°€ ê³„ì† `pending`ì´ë©° `running`ìœ¼ë¡œ ë“¤ì–´ê°€ì§€ ì•ŠìŒ

**ì›ì¸**: ë™ì‹œì„± ì œí•œì´ ê°€ë“ ì°¨ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¬ë¡¯ì´ ì—†ìŒ

**í•´ê²°**:
- ê¸°ì¡´ ì‘ì—… ì™„ë£Œ ëŒ€ê¸°
- ë™ì‹œì„± ì œí•œ êµ¬ì„± ì¦ê°€
- ë¶ˆí•„ìš”í•œ ì‘ì—… ì·¨ì†Œí•˜ì—¬ ìŠ¬ë¡¯ í•´ì œ

## ìˆ˜ì—… ìš”ì•½

ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œìŠ¤í…œì„ í†µí•´ ì‹¤ì œ íŒ€ì²˜ëŸ¼ ì‘ì—…í•  ìˆ˜ ìˆìœ¼ë©°, ì—¬ëŸ¬ AI ì—ì´ì „íŠ¸ê°€ ë³‘ë ¬ë¡œ ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤:

1. **ë³‘ë ¬ ì‘ì—… ì‹œì‘**: `delegate_task` ë„êµ¬ ì‚¬ìš©
2. **ë™ì‹œì„± ì œì–´**: `providerConcurrency`, `modelConcurrency`, `defaultConcurrency` êµ¬ì„±
3. **ê²°ê³¼ ê°€ì ¸ì˜¤ê¸°**: `background_output` ë„êµ¬ ì‚¬ìš© (ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ì•Œë¦¼)
4. **ì‘ì—… ì·¨ì†Œ**: `background_cancel` ë„êµ¬ ì‚¬ìš©

**í•µì‹¬ ê·œì¹™**:
- 2ì´ˆë§ˆë‹¤ ì‘ì—… ìƒíƒœ í´ë§
- ì—°ì† 3íšŒ ì•ˆì • ë˜ëŠ” idleì´ë©´ ì‘ì—… ì™„ë£Œ
- ì‘ì—… 30ë¶„ í›„ ìë™ íƒ€ì„ì•„ì›ƒ
- ìš°ì„ ìˆœìœ„: modelConcurrency > providerConcurrency > defaultConcurrency

## ë‹¤ìŒ ìˆ˜ì—… ì˜ˆê³ 

> ë‹¤ìŒ ìˆ˜ì—…ì—ì„œëŠ” **[LSP ë° AST-Grep: ì½”ë“œ ë¦¬íŒ©í† ë§ ë„êµ¬](../lsp-ast-tools/)**ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.
>
> í•™ìŠµ ë‚´ìš©:
> - LSP ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ íƒìƒ‰ ë° ë¦¬íŒ©í† ë§í•˜ëŠ” ë°©ë²•
> - AST-Grepì„ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ íŒ¨í„´ ê²€ìƒ‰ ë° êµì²´í•˜ëŠ” ë°©ë²•
> - LSPì™€ AST-Grep ê²°í•© ì‚¬ìš©ì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

---

## ë¶€ë¡: ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°

<details>
<summary><strong>í´ë¦­í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ ë³´ê¸°</strong></summary>

> ì—…ë°ì´íŠ¸ ì‹œê°„: 2026-01-26

| ê¸°ëŠ¥ | íŒŒì¼ ê²½ë¡œ | ì¤„ ìˆ˜ |
|--- | --- | ---|
| ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ê´€ë¦¬ì | [`src/features/background-agent/manager.ts`](https://github.com/code-yeongyu/oh-my-opencode/blob/main/src/features/background-agent/manager.ts) | 1-1378 |
| ë™ì‹œì„± ì œì–´ | [`src/features/background-agent/concurrency.ts`](https://github.com/code-yeongyu/oh-my-opencode/blob/main/src/features/background-agent/concurrency.ts) | 1-138 |
| delegate_task ë„êµ¬ | [`src/tools/background-task/tools.ts`](https://github.com/code-yeongyu/oh-my-opencode/blob/main/src/tools/background-task/tools.ts) | 51-119 |
| background_output ë„êµ¬ | [`src/tools/background-task/tools.ts`](https://github.com/code-yeongyu/oh-my-opencode/blob/main/src/tools/background-task/tools.ts) | 320-384 |
| background_cancel ë„êµ¬ | [`src/tools/background-task/tools.ts`](https://github.com/code-yeongyu/oh-my-opencode/blob/main/src/tools/background-task/tools.ts) | 386-514 |

**í•µì‹¬ ìƒìˆ˜**:
- `TASK_TTL_MS = 30 * 60 * 1000`: ì‘ì—… íƒ€ì„ì•„ì›ƒ ì‹œê°„ (30ë¶„)
- `MIN_STABILITY_TIME_MS = 10 * 1000`: ì•ˆì •ì„± ê°ì§€ ì‹œì‘ ì‹œê°„ (10ì´ˆ)
- `DEFAULT_STALE_TIMEOUT_MS = 180_000`: ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ ì‹œê°„ (3ë¶„)
- `MIN_IDLE_TIME_MS = 5000`: ì´ˆê¸° idle ë¬´ì‹œ ìµœì†Œ ì‹œê°„ (5ì´ˆ)

**í•µì‹¬ í´ë˜ìŠ¤**:
- `BackgroundManager`: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ê´€ë¦¬ì, ì‹œì‘, ì¶”ì , í´ë§, ì™„ë£Œ ë‹´ë‹¹
- `ConcurrencyManager`: ë™ì‹œì„± ì œì–´ ê´€ë¦¬ì, 3ë‹¨ê³„ ìš°ì„ ìˆœìœ„ êµ¬í˜„ (model > provider > default)

**í•µì‹¬ í•¨ìˆ˜**:
- `BackgroundManager.launch()`: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œì‘
- `BackgroundManager.pollRunningTasks()`: 2ì´ˆë§ˆë‹¤ ì‘ì—… ìƒíƒœ í´ë§ (1182ë²ˆ ì¤„)
- `BackgroundManager.tryCompleteTask()`: ì•ˆì „í•˜ê²Œ ì‘ì—… ì™„ë£Œ, ê²½ìŸ ì¡°ê±´ ë°©ì§€ (909ë²ˆ ì¤„)
- `ConcurrencyManager.getConcurrencyLimit()`: ë™ì‹œì„± ì œí•œ ê°€ì ¸ì˜¤ê¸° (24ë²ˆ ì¤„)
- `ConcurrencyManager.acquire()` / `ConcurrencyManager.release()`: ë™ì‹œì„± ìŠ¬ë¡¯ íšë“/í•´ì œ (41, 71ë²ˆ ì¤„)

</details>
