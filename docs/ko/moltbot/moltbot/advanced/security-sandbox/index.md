---
title: "ë³´ì•ˆ ë° ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬: AI ì–´ì‹œìŠ¤í„´íŠ¸ì˜ íŒŒì¼ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤ ì œí•œ | Clawdbot íŠœí† ë¦¬ì–¼"
sidebarTitle: "AI ì•¡ì„¸ìŠ¤ ë²”ìœ„ ì œí•œ"
subtitle: "ë³´ì•ˆ ë° ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬: AI ì–´ì‹œìŠ¤í„´íŠ¸ì˜ íŒŒì¼ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤ ì œí•œ | Clawdbot íŠœí† ë¦¬ì–¼"
description: "Clawdbot ë³´ì•ˆ ëª¨ë¸ êµ¬ì„±, ë„êµ¬ ê¶Œí•œ ì œì–´, ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ ë°©ë²•ì„ í•™ìŠµí•˜ì„¸ìš”. ì•¡ì„¸ìŠ¤ ì œì–´, ê¶Œí•œ ì œí•œ, ì»¨í…Œì´ë„ˆ ê²©ë¦¬ë¥¼ í†µí•´ ê°•ë ¥í•œ AI ê¸°ëŠ¥ì„ ëˆ„ë¦¬ë©´ì„œ ë³´ì•ˆ ìœ„í—˜ì„ ìµœì†Œí™”í•˜ì„¸ìš”."
tags:
  - "security"
  - "sandbox"
  - "permissions"
prerequisite:
  - "start-gateway-startup"
order: 290
---

# ë³´ì•ˆ ë° ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬: AI ì–´ì‹œìŠ¤í„´íŠ¸ ë³´í˜¸

## í•™ìŠµ í›„ ë‹¬ì„± ëª©í‘œ

ì´ ê³¼ì •ì„ ë§ˆì¹˜ë©´ ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ì•¡ì„¸ìŠ¤ ì œì–´ë¶€í„° ë„êµ¬ ê¶Œí•œê¹Œì§€ ë‹¤ì¸µ ë³´ì•ˆ ì •ì±… êµ¬ì„±
- ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ë¡œ AI ì–´ì‹œìŠ¤í„´íŠ¸ì˜ íŒŒì¼ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤ ì œí•œ
- ë³´ì•ˆ ê°ì‚¬ë¥¼ ì‹¤í–‰í•˜ì—¬ ì¼ë°˜ì ì¸ ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬ ë° ìˆ˜ì •
- ë‹¤ì–‘í•œ ì‹œë‚˜ë¦¬ì˜¤(ê°œì¸/ê°€ì¡±/ê³µê°œ)ì— ë”°ë¥¸ ë³´ì•ˆ ë ˆë²¨ ì¡°ì •

## í˜„ì¬ ì–´ë ¤ì›€

Clawdbotì€ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ê°•ë ¥í•˜ê²Œ ë§Œë“¤ì§€ë§Œ, ìƒˆë¡œìš´ ë³´ì•ˆ ë¬¸ì œë„ ë°œìƒì‹œí‚µë‹ˆë‹¤:

- **Shell ì•¡ì„¸ìŠ¤**: AIê°€ ì„ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  íŒŒì¼ì„ ì½ê¸°/ì“°ê¸°í•  ìˆ˜ ìˆìŒ
- **ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤**: AIê°€ ì„ì˜ URL ë° ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŒ
- **ë©”ì‹œì§€ ì „ì†¡**: AIê°€ ëˆ„êµ¬ì—ê²Œë‚˜ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆìŒ(WhatsApp êµ¬ì„± ì‹œ)
- **ì›ê²© ì œì–´**: ë¸Œë¼ìš°ì € ë„êµ¬ë¥¼ í†µí•´ ë¡œì»¬ ë¸Œë¼ìš°ì € ì œì–´
- **ë°ì´í„° ë…¸ì¶œ**: ëª¨ë“  ëŒ€í™” ê¸°ë¡ì´ ë””ìŠ¤í¬ì— ì €ì¥ë¨

ì ì ˆí•œ ë³´í˜¸ê°€ ì—†ìœ¼ë©´ ì¡°ì‘ëœ AI ëª¨ë¸ë¡œ ì¸í•´ ì¬ì•™ì ì¸ ê²°ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”

- âœ… ìì²´ ì¥ì¹˜ì—ì„œ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì‹¤í–‰í•´ì•¼ í•˜ë©° ë³´ì•ˆ ìœ„í—˜ì„ ìš°ë ¤í•˜ëŠ” ê²½ìš°
- âœ… AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì—¬ëŸ¬ ì‚¬ìš©ì(ê°€ì¡± êµ¬ì„±ì›, íŒ€)ì—ê²Œ ê³µìœ í•˜ë ¤ëŠ” ê²½ìš°
- âœ… AIê°€ íŠ¹ì • íŒŒì¼ ë˜ëŠ” ë””ë ‰í† ë¦¬ì—ë§Œ ì•¡ì„¸ìŠ¤í•˜ë„ë¡ ì œí•œí•´ì•¼ í•˜ëŠ” ê²½ìš°
- âœ… ë‹¤ë¥¸ ì‚¬ìš©ì/ì„¸ì…˜ì˜ ì•¡ì„¸ìŠ¤ ë²”ìœ„ë¥¼ ê²©ë¦¬í•˜ë ¤ëŠ” ê²½ìš°
- âœ… AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì œí•œëœ í™˜ê²½(ìƒŒë“œë°•ìŠ¤)ì—ì„œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°

::: info
**ì¤‘ìš” ê°œë…**: ë³´ì•ˆì€ ê³„ì¸µì ì…ë‹ˆë‹¤. "ëˆ„ê°€ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ”ì§€"ì—ì„œ "ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€"ë¡œ, ë§ˆì§€ë§‰ìœ¼ë¡œ "ëª¨ë¸ ë³´ì•ˆ"ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.
:::

## ğŸ’ ì‹œì‘ ì „ ì¤€ë¹„

### ì‚¬ì „ í™•ì¸

- [x] [ë¹ ë¥¸ ì‹œì‘](../../start/getting-started/)ì„ ì™„ë£Œí•˜ì—¬ Gateway ì‹œì‘ ë°©ë²• ì´í•´
- [ ] ìµœì†Œ í•˜ë‚˜ì˜ AI ëª¨ë¸(Anthropic, OpenAI ë˜ëŠ” Ollama) êµ¬ì„± ì™„ë£Œ
- [ ] ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ ì´í•´(ê°œì¸ ì‚¬ìš©, ê°€ì¡± ê³µìœ , ê³µê°œ ì„œë¹„ìŠ¤)
- [ ] Linux íŒŒì¼ ê¶Œí•œ ê°œë…(chmod) ì´í•´

### ì¶”ì²œ ë„êµ¬

- ëª…ë ¹ì¤„ ë„êµ¬: Terminal ë˜ëŠ” SSH
- ì—ë””í„°: ì„ í˜¸í•˜ëŠ” ì½”ë“œ ì—ë””í„°
- Docker: ìƒŒë“œë°•ìŠ¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ìš©(ì„ íƒ ì‚¬í•­)

---

## í•µì‹¬ ê°œë…

Clawdbotì˜ ë³´ì•ˆ ëª¨ë¸ì€ í•˜ë‚˜ì˜ í•µì‹¬ ì² í•™ì— ê¸°ë°˜í•©ë‹ˆë‹¤: **ì•¡ì„¸ìŠ¤ ì œì–´ ìš°ì„ , ì œí•œ í›„ ë³´ì•ˆ**.

### ë³´ì•ˆ ê³„ì¸µ

```mermaid
graph TB
    A[ì•¡ì„¸ìŠ¤ ì œì–´] --> B[ê¶Œí•œ ì œì–´]
    B --> C[ë„êµ¬ ì œí•œ]
    C --> D[ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬]
    D --> E[ê°ì‚¬ ë° ìˆ˜ì •]
```

1. **ì•¡ì„¸ìŠ¤ ì œì–´**: ëˆ„ê°€ AI ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™”í•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •
2. **ê¶Œí•œ ì œì–´**: AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ì–´ë–¤ ë„êµ¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •
3. **ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬**: ë„êµ¬ê°€ ì–´ë–¤ í™˜ê²½(í˜¸ìŠ¤íŠ¸ ë˜ëŠ” ì»¨í…Œì´ë„ˆ)ì—ì„œ ì‹¤í–‰ë˜ëŠ”ì§€ ê²°ì •
4. **ê°ì‚¬ ë° ìˆ˜ì •**: ë³´ì•ˆ êµ¬ì„±ì„ ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•˜ê³  ìˆ˜ì •

ì´ ê³„ì¸µ ì„¤ê³„ëŠ” ëª¨ë¸ì´ ì¡°ì‘ë˜ë”ë¼ë„ ê³µê²© ë²”ìœ„ê°€ ì •ì˜ëœ ê²½ê³„ ë‚´ë¡œ ì œí•œë˜ë„ë¡ í•©ë‹ˆë‹¤.

### ì•¡ì„¸ìŠ¤ ì œì–´ì˜ 3ê³„ì¸µ ë³´í˜¸

Clawdbotì€ 3ê³„ì¸µ ì•¡ì„¸ìŠ¤ ì œì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

| ê³„ì¸µ | ë³´í˜¸ ë‚´ìš© | êµ¬ì„± ìœ„ì¹˜ |
|--- | --- | ---|
| **Gateway ì¸ì¦** | WebSocket ì—°ê²° | `gateway.auth` |
| **DM ì •ì±…** | ê°œì¸ ë©”ì‹œì§€ | `channels.*.dmPolicy` |
| **Group ì •ì±…** | ê·¸ë£¹ ë©”ì‹œì§€ | `channels.*.groupPolicy` / `channels.*.groups` |

ê° ê³„ì¸µì€ ë…ë¦½ì ìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆì–´ ì‹¬ì¸µ ë°©ì–´ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤.

---

## ë³´ì•ˆ ê°ì‚¬: ìœ„í—˜ ë°œê²¬

Clawdbotì€ ì¼ë°˜ì ì¸ ë³´ì•ˆ ì·¨ì•½ì ì„ ë¹ ë¥´ê²Œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ë‚´ì¥ ë³´ì•ˆ ê°ì‚¬ ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ê°ì‚¬ ì‹¤í–‰

```bash
# ê¸°ë³¸ ê°ì‚¬
clawdbot security audit

# ì‹¬ì¸µ ê°ì‚¬(Gateway íƒì§€ í¬í•¨)
clawdbot security audit --deep

# ë³´ì•ˆ ì œì•ˆ ìë™ ìˆ˜ì •
clawdbot security audit --fix
```

### ê°ì‚¬ ê²€ì‚¬ í•­ëª©

ê°ì‚¬ ë„êµ¬ëŠ” ë‹¤ìŒ ì¸¡ë©´ì„ ê²€ì‚¬í•©ë‹ˆë‹¤:

| ê²€ì‚¬ ì¹´í…Œê³ ë¦¬ | êµ¬ì²´ì  í•­ëª© | ìœ„í—˜ ë ˆë²¨ |
|--- | --- | ---|
| **ì¸ë°”ìš´ë“œ ì•¡ì„¸ìŠ¤** | Gateway ì¸ì¦, DM ì •ì±…, Group ì •ì±… | Critical / Warn |
| **ë„êµ¬ ì•¡ì„¸ìŠ¤** | Elevated exec í—ˆìš© ëª©ë¡, ë„êµ¬ allow/deny | Critical / Warn |
| **ë„¤íŠ¸ì›Œí¬ ë…¸ì¶œ** | Gateway ë°”ì¸ë“œ ëª¨ë“œ, Tailscale Serve/Funnel | Critical / Info |
| **ë¸Œë¼ìš°ì € ì œì–´** | ì›ê²© ë¸Œë¼ìš°ì € ì œì–´ ì¸ì¦, URL í”„ë¡œí† ì½œ | Critical / Warn |
| **íŒŒì¼ ê¶Œí•œ** | êµ¬ì„± íŒŒì¼ ê¶Œí•œ, ìƒíƒœ ë””ë ‰í† ë¦¬ ê¶Œí•œ | Critical / Warn |
| **í”ŒëŸ¬ê·¸ì¸ ì‹ ë¢°** | ëª…ì‹œì ìœ¼ë¡œ í—ˆìš©ë˜ì§€ ì•Šì€ í”ŒëŸ¬ê·¸ì¸ | Warn |

### ê°ì‚¬ ì¶œë ¥ ì´í•´

ê°ì‚¬ ë³´ê³ ì„œëŠ” ì‹¬ê°ë„ ìˆ˜ì¤€ë³„ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤:

- **Critical(ë¹¨ê°„ìƒ‰)**: ì¦‰ì‹œ ìˆ˜ì • í•„ìš”, ì›ê²© ì½”ë“œ ì‹¤í–‰ ë˜ëŠ” ë°ì´í„° ìœ ì¶œ ê°€ëŠ¥
- **Warn(ë…¸ë€ìƒ‰)**: ìˆ˜ì • ê¶Œì¥, ë³´ì•ˆ ê²½ê³„ ê°ì†Œ
- **Info(íŒŒë€ìƒ‰)**: ì •ë³´ ì•Œë¦¼, ë³´ì•ˆ ë¬¸ì œ ì•„ë‹˜

### ìë™ ìˆ˜ì •

`--fix` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì‚¬ ë„êµ¬ê°€ ì•ˆì „í•˜ê²Œ ë‹¤ìŒ ìˆ˜ì •ì„ ì ìš©í•©ë‹ˆë‹¤:

- `groupPolicy="open"`ì„ `allowlist`ë¡œ ë³€ê²½
- `logging.redactSensitive="off"`ë¥¼ `"tools"`ë¡œ ë³€ê²½
- íŒŒì¼ ê¶Œí•œ ìˆ˜ì •(êµ¬ì„± íŒŒì¼ 600, ë””ë ‰í† ë¦¬ 700)

::: tip
**ëª¨ë²” ì‚¬ë¡€**: êµ¬ì„±ì„ ë³€ê²½í•˜ê±°ë‚˜ Gatewayë¥¼ ì—…ë°ì´íŠ¸í•œ í›„ ì •ê¸°ì ìœ¼ë¡œ ê°ì‚¬ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.
:::

---

## ì•¡ì„¸ìŠ¤ ì œì–´: AI ì–´ì‹œìŠ¤í„´íŠ¸ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒ

ì•¡ì„¸ìŠ¤ ì œì–´ëŠ” ëˆ„ê°€ AI ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•˜ëŠ” ì²« ë²ˆì§¸ ë°©ì–´ì„ ì…ë‹ˆë‹¤.

### Gateway ì¸ì¦

ê¸°ë³¸ì ìœ¼ë¡œ GatewayëŠ” ì¸ì¦ì´ í•„ìš”í•´ì•¼ WebSocket ì—°ê²°ì„ ìˆ˜ë½í•©ë‹ˆë‹¤.

#### ì¸ì¦ ë°©ì‹ êµ¬ì„±

```json5
{
  "gateway": {
    "auth": {
      "mode": "token",  // ë˜ëŠ” "password"
      "token": "your-long-random-token-please-change-me"
    }
  }
}
```

**ì¸ì¦ ëª¨ë“œ**:

| ëª¨ë“œ | ìš©ë„ | ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤ |
|--- | --- | ---|
| `token` | ê³µìœ  bearer token | ëŒ€ë¶€ë¶„ì˜ ê²½ìš°, ì¶”ì²œ |
| `password` | ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ | ë¡œì»¬ ê°œë°œ, ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ìš© í¸ë¦¬ |
| Tailscale Identity | Tailscale Serve | Tailscaleì„ í†µí•œ ì›ê²© ì•¡ì„¸ìŠ¤ |

::: warning
**ì¤‘ìš”**: `gateway.bind`ê°€ non-loopback(ì˜ˆ: `lan`, `tailnet`)ìœ¼ë¡œ ì„¤ì •ëœ ê²½ìš° ì¸ì¦ì„ êµ¬ì„±í•´ì•¼ í•˜ë©°, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì—°ê²°ì´ ê±°ë¶€ë©ë‹ˆë‹¤.
:::

### DM ì •ì±…: ê°œì¸ ë©”ì‹œì§€ ë³´í˜¸

DM ì •ì±…ì€ ìµëª… ì‚¬ìš©ìê°€ AI ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ì§ì ‘ ëŒ€í™”í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì œì–´í•©ë‹ˆë‹¤.

| ì •ì±… | ë™ì‘ | ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤ |
|--- | --- | ---|
| `pairing`(ê¸°ë³¸ê°’) | ì•Œ ìˆ˜ ì—†ëŠ” ë°œì‹ ìê°€ í˜ì–´ë§ ì½”ë“œë¥¼ ë°›ê³ , í˜ì–´ë§ ì „ì—ëŠ” ì²˜ë¦¬ë˜ì§€ ì•ŠìŒ | ê°œì¸ ì‚¬ìš©, ì¶”ì²œ |
| `allowlist` | ì•Œ ìˆ˜ ì—†ëŠ” ë°œì‹ ìê°€ ê±°ë¶€ë¨ | ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë‹¤ì¸ í™˜ê²½ |
| `open` | ëª¨ë‘ í—ˆìš© | ê³µê°œ ì„œë¹„ìŠ¤(`allowFrom`ì— `"*"` í¬í•¨ í•„ìš”) |
| `disabled` | ëª¨ë“  ê°œì¸ ë©”ì‹œì§€ ë¬´ì‹œ | ê·¸ë£¹ ê¸°ëŠ¥ë§Œ ì‚¬ìš© |

#### êµ¬ì„± ì˜ˆì‹œ

```json5
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "pairing"
    },
    "telegram": {
      "dmPolicy": "allowlist",
      "allowFrom": ["user123", "user456"]
    }
  }
}
```

#### í˜ì–´ë§ ê´€ë¦¬

```bash
# ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ í˜ì–´ë§ ìš”ì²­ ë³´ê¸°
clawdbot pairing list whatsapp

# í˜ì–´ë§ ìŠ¹ì¸
clawdbot pairing approve whatsapp <í˜ì–´ë§ ì½”ë“œ>
```

::: tip
**ëª¨ë²” ì‚¬ë¡€**: ê¸°ë³¸ `pairing` ëª¨ë“œëŠ” ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆì˜ ì¢‹ì€ ê· í˜•ì„ ì œê³µí•©ë‹ˆë‹¤. ëª¨ë“  ì‚¬ìš©ìë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‹ ë¢°í•  ë•Œë§Œ `allowlist` ë˜ëŠ” `open`ì„ ì‚¬ìš©í•˜ì„¸ìš”.
:::

### Group ì •ì±…: ê·¸ë£¹ ë©”ì‹œì§€ ì œì–´

Group ì •ì±…ì€ AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ê·¸ë£¹ì—ì„œ ë©”ì‹œì§€ì— ì–´ë–»ê²Œ ì‘ë‹µí•˜ëŠ”ì§€ ê²°ì •í•©ë‹ˆë‹¤.

| ì •ì±… | ë™ì‘ | êµ¬ì„± ìœ„ì¹˜ |
|--- | --- | ---|
| `allowlist` | í—ˆìš© ëª©ë¡ì˜ ê·¸ë£¹ë§Œ ìˆ˜ë½ | `channels.whatsapp.groups` |
| `disabled` | ëª¨ë“  ê·¸ë£¹ ë©”ì‹œì§€ ë¬´ì‹œ | `channels.telegram.groups` |
| `requireMention` | @ë©˜ì…˜ ë˜ëŠ” ëª…ë ¹ìœ¼ë¡œë§Œ íŠ¸ë¦¬ê±° ì‹œ ì‘ë‹µ | `channels.*.groups.*` |

#### êµ¬ì„± ì˜ˆì‹œ

```json5
{
  "channels": {
    "whatsapp": {
      "groups": {
        "*": {
          "requireMention": true
        }
      }
    },
    "discord": {
      "guilds": {
        "your-guild-id": {
          "users": ["user1", "user2"]
        }
      }
    }
  }
}
```

::: tip
**ëª¨ë²” ì‚¬ë¡€**: ê³µê°œ ê·¸ë£¹ì—ì„œ `requireMention`ì„ í™œì„±í™”í•˜ì—¬ ì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ì„¸ìš”.
:::

### ì„¸ì…˜ ê²©ë¦¬: ì»¨í…ìŠ¤íŠ¸ ìœ ì¶œ ë°©ì§€

ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ê°œì¸ ë©”ì‹œì§€ëŠ” ë™ì¼í•œ ë©”ì¸ ì„¸ì…˜ìœ¼ë¡œ ë¼ìš°íŒ…ë©ë‹ˆë‹¤. ì—¬ëŸ¬ ì‚¬ìš©ìê°€ AI ì–´ì‹œìŠ¤í„´íŠ¸ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì»¨í…ìŠ¤íŠ¸ ìœ ì¶œì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```json5
{
  "session": {
    "dmScope": "per-channel-peer"  // ê° ì±„ë„-ë°œì‹ ìë§ˆë‹¤ ë…ë¦½ ì„¸ì…˜ ìƒì„±
  }
}
```

---

## ë„êµ¬ ê¶Œí•œ ì œì–´: AIê°€ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì‘ì—… ì œí•œ

ë„êµ¬ ê¶Œí•œ ì œì–´ëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ì–´ë–¤ ë„êµ¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•˜ëŠ” ë‘ ë²ˆì§¸ ë°©ì–´ì„ ì…ë‹ˆë‹¤.

### ë„êµ¬ Allow/Deny ëª©ë¡

ì „ì—­ ë˜ëŠ” ê° Agentë³„ë¡œ ë„êµ¬ì˜ í—ˆìš© ëª©ë¡ê³¼ ì°¨ë‹¨ ëª©ë¡ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```json5
{
  "agents": {
    "defaults": {
      "tools": {
        "allow": ["read", "write", "web_search"],
        "deny": ["exec", "browser", "web_fetch"]
      }
    },
    "list": [
      {
        "id": "read-only",
        "tools": {
          "allow": ["read"],
          "deny": ["write", "edit", "apply_patch", "exec", "browser"]
        }
      }
    ]
  }
}
```

### ì¼ë°˜ì ì¸ ë„êµ¬ ë¶„ë¥˜

| ë„êµ¬ ì¹´í…Œê³ ë¦¬ | êµ¬ì²´ì  ë„êµ¬ | ìœ„í—˜ ë ˆë²¨ |
|--- | --- | ---|
| **íŒŒì¼ ì‘ì—…** | `read`ã€`write`ã€`edit`ã€`apply_patch` | ì¤‘ê°„ |
| **Shell ì‹¤í–‰** | `exec`ã€`process` | ë†’ìŒ |
| **ë¸Œë¼ìš°ì € ì œì–´** | `browser` | ë†’ìŒ |
| **ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤** | `web_search`ã€`web_fetch` | ì¤‘ê°„ |
| **Canvas ì‹œê°í™”** | `canvas` | ì¤‘ê°„ |
| **ë…¸ë“œ ì‘ì—…** | `nodes_invoke` | ë†’ìŒ |
| **Cron ì˜ˆì•½ ì‘ì—…** | `cron` | ì¤‘ê°„ |
| **ë©”ì‹œì§€ ì „ì†¡** | `message`ã€`sessions_*` | ë‚®ìŒ |

### Elevated ëª¨ë“œ: í˜¸ìŠ¤íŠ¸ ì‹¤í–‰ì˜ íƒˆì¶œêµ¬

Elevated execëŠ” ìƒŒë“œë°•ìŠ¤ë¥¼ ìš°íšŒí•˜ì—¬ ë„êµ¬ê°€ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ íƒˆì¶œêµ¬ì…ë‹ˆë‹¤.

```json5
{
  "tools": {
    "elevated": {
      "enabled": true,
      "allowFrom": {
        "whatsapp": ["your-trusted-user-id"]
      },
      "security": "allowlist",
      "ask": "on"  // ì‹¤í–‰í•  ë•Œë§ˆë‹¤ í™•ì¸ ìš”ì²­
    }
  }
}
```

::: danger
**ì¤‘ìš” ê²½ê³ **: Elevated execëŠ” ìƒŒë“œë°•ìŠ¤ ì œí•œì„ ìš°íšŒí•©ë‹ˆë‹¤. í—ˆìš©ëœ ì‚¬ìš©ìì™€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì™„ì „íˆ ì‹ ë¢°í•  ë•Œë§Œ í™œì„±í™”í•˜ì„¸ìš”.
:::

::: tip
**ëª¨ë²” ì‚¬ë¡€**: ëŒ€ë¶€ë¶„ì˜ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ elevated execë¥¼ ë¹„í™œì„±í™”í•˜ê³  ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ì™€ ì—„ê²©í•œ ë„êµ¬ í—ˆìš© ëª©ë¡ì— ì˜ì¡´í•˜ì„¸ìš”.
:::

---

## ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬: ì œí•œëœ í™˜ê²½ì—ì„œ ì‹¤í–‰

ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ëŠ” ë„êµ¬ê°€ Docker ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ë„ë¡ í•˜ì—¬ íŒŒì¼ ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ ì•¡ì„¸ìŠ¤ë¥¼ ì œí•œí•©ë‹ˆë‹¤.

### ìƒŒë“œë°•ìŠ¤ ëª¨ë“œ

| ëª¨ë“œ | ë™ì‘ | ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤ |
|--- | --- | ---|
| `off` | ëª¨ë“  ë„êµ¬ê°€ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ | ê°œì¸ ì‹ ë¢° í™˜ê²½ |
| `non-main`(ì¶”ì²œ) | ë©”ì¸ ì„¸ì…˜ì€ í˜¸ìŠ¤íŠ¸, ë‹¤ë¥¸ ì„¸ì…˜ì€ ìƒŒë“œë°•ìŠ¤ | ì„±ëŠ¥ê³¼ ë³´ì•ˆ ê· í˜• |
| `all` | ëª¨ë“  ì„¸ì…˜ì€ ìƒŒë“œë°•ìŠ¤ | ë‹¤ì¸ í™˜ê²½, ê³µê°œ ì„œë¹„ìŠ¤ |

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "mode": "non-main"
      }
    }
  }
}
```

### ì‘ì—… ê³µê°„ ì•¡ì„¸ìŠ¤

ì‘ì—… ê³µê°„ ì•¡ì„¸ìŠ¤ëŠ” ìƒŒë“œë°•ìŠ¤ ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì˜ ì–´ë–¤ ë””ë ‰í† ë¦¬ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•©ë‹ˆë‹¤.

| ì•¡ì„¸ìŠ¤ ë ˆë²¨ | ë™ì‘ | ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤ |
|--- | --- | ---|
| `none`(ê¸°ë³¸ê°’) | ìƒŒë“œë°•ìŠ¤ ì‘ì—… ê³µê°„ `~/.clawdbot/sandboxes` | ìµœëŒ€ ê²©ë¦¬ |
| `ro` | ì—ì´ì „íŠ¸ ì‘ì—… ê³µê°„ì„ `/agent`ì— ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§ˆìš´íŠ¸ | íŒŒì¼ì„ ì½ì§€ë§Œ ì“°ì§€ ì•ŠìŒ |
| `rw` | ì—ì´ì „íŠ¸ ì‘ì—… ê³µê°„ì„ `/workspace`ì— ì½ê¸°/ì“°ê¸°ë¡œ ë§ˆìš´íŠ¸ | íŒŒì¼ì„ ì¨ì•¼ í•˜ëŠ” Agent |

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "workspaceAccess": "none"
      }
    }
  }
}
```

### ìƒŒë“œë°•ìŠ¤ ë²”ìœ„

ìƒŒë“œë°•ìŠ¤ ë²”ìœ„ëŠ” ì»¨í…Œì´ë„ˆ ê²©ë¦¬ì˜ ì„¸ë¶„ì„±ì„ ê²°ì •í•©ë‹ˆë‹¤.

| ë²”ìœ„ | ë™ì‘ | ì»¨í…Œì´ë„ˆ ìˆ˜ |
|--- | --- | ---|
| `session`(ê¸°ë³¸ê°’) | ê° ì„¸ì…˜ë§ˆë‹¤ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆ | ë” ë§ì€ ì»¨í…Œì´ë„ˆ, ë” ë‚˜ì€ ê²©ë¦¬ |
| `agent` | ê° Agentë§ˆë‹¤ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆ | ê²©ë¦¬ì™€ ë¦¬ì†ŒìŠ¤ ê· í˜• |
| `shared` | ëª¨ë“  ì„¸ì…˜ì´ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆ ê³µìœ  | ë¦¬ì†ŒìŠ¤ ì ˆì•½, ê²©ë¦¬ ìµœì†Œ |

### Docker êµ¬ì„±

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "docker": {
          "image": "clawdbot-sandbox:bookworm-slim",
          "containerPrefix": "clawdbot-sbx-"
        }
      }
    }
  }
}
```

### ì‚¬ìš©ì ì •ì˜ ë§ˆìš´íŠ¸

í˜¸ìŠ¤íŠ¸ì˜ ì¶”ê°€ ë””ë ‰í† ë¦¬ë¥¼ ìƒŒë“œë°•ìŠ¤ ì»¨í…Œì´ë„ˆì— ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "docker": {
          "binds": [
            "/home/user/source:/source:ro",
            "/var/run/docker.sock:/var/run/docker.sock"
          ]
        }
      }
    }
  }
}
```

::: warning
**ë³´ì•ˆ íŒ**: ë§ˆìš´íŠ¸ëŠ” ìƒŒë“œë°•ìŠ¤ íŒŒì¼ ì‹œìŠ¤í…œ ê²©ë¦¬ë¥¼ ìš°íšŒí•©ë‹ˆë‹¤. ë¯¼ê°í•œ ë§ˆìš´íŠ¸(docker.sock ë“±)ëŠ” `:ro`(ì½ê¸° ì „ìš©) ëª¨ë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
:::

### ìƒŒë“œë°•ìŠ¤ ë¸Œë¼ìš°ì €

ìƒŒë“œë°•ìŠ¤ ë¸Œë¼ìš°ì €ëŠ” Chrome ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰í•˜ì—¬ ë¸Œë¼ìš°ì € ì‘ì—…ì„ ê²©ë¦¬í•©ë‹ˆë‹¤.

```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "browser": {
          "enabled": true,
          "autoStart": true,
          "autoStartTimeoutMs": 10000
        }
      }
    }
  }
}
```

::: tip
**ëª¨ë²” ì‚¬ë¡€**: ìƒŒë“œë°•ìŠ¤ ë¸Œë¼ìš°ì €ëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ì¼ì¼ ë¸Œë¼ìš°ì €ì˜ ë¡œê·¸ì¸ ì„¸ì…˜ ë° ë¯¼ê°í•œ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
:::

---

## ë‹¤ì¤‘ Agent ë³´ì•ˆ êµ¬ì„±

ë‹¤ë¥¸ AgentëŠ” ë‹¤ë¥¸ ë³´ì•ˆ êµ¬ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ê°œì¸ Agent(ì™„ì „ ì‹ ë¢°)

```json5
{
  "agents": {
    "list": [
      {
        "id": "personal",
        "sandbox": { "mode": "off" },
        "tools": {
          "allow": ["*"],
          "deny": []
        }
      }
    ]
  }
}
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ê°€ì¡± Agent(ì½ê¸° ì „ìš©)

```json5
{
  "agents": {
    "list": [
      {
        "id": "family",
        "workspace": "~/clawd-family",
        "sandbox": {
          "mode": "all",
          "scope": "agent",
          "workspaceAccess": "ro"
        },
        "tools": {
          "allow": ["read"],
          "deny": ["write", "edit", "apply_patch", "exec", "browser"]
        }
      }
    ]
  }
}
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ê³µê°œ Agent(ìƒŒë“œë°•ìŠ¤ + ì—„ê²©í•œ ì œí•œ)

```json5
{
  "agents": {
    "list": [
      {
        "id": "public",
        "workspace": "~/clawd-public",
        "sandbox": {
          "mode": "all",
          "scope": "agent",
          "workspaceAccess": "none"
        },
        "tools": {
          "allow": ["web_search", "sessions_list"],
          "deny": ["read", "write", "edit", "apply_patch", "exec", "browser", "web_fetch", "canvas", "nodes", "cron", "gateway", "image"]
        }
      }
    ]
  }
}
```

---

## Dockerí™”: ì™„ì „ ê²©ë¦¬ Gateway

ë„êµ¬ ìˆ˜ì¤€ ìƒŒë“œë°•ìŠ¤ ì™¸ì— ì „ì²´ Gatewayë¥¼ Docker ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

### ì™„ì „ Dockerí™”ì˜ ì´ì 

- Gateway í”„ë¡œì„¸ìŠ¤ ì™„ì „ ê²©ë¦¬
- í˜¸ìŠ¤íŠ¸ì— ì¢…ì†ì„± ì„¤ì¹˜ ë°©ì§€
- ë°°í¬ ë° ê´€ë¦¬ ìš©ì´
- ì¶”ê°€ ë³´ì•ˆ ê²½ê³„ ì œê³µ

::: tip
Dockerí™” vs ë„êµ¬ ìƒŒë“œë°•ìŠ¤ ì–¸ì œ ì‚¬ìš©:
- **ë„êµ¬ ìƒŒë“œë°•ìŠ¤**: ëŒ€ë¶€ë¶„ì˜ ì‹œë‚˜ë¦¬ì˜¤, ì„±ëŠ¥ê³¼ ë³´ì•ˆ ê· í˜•
- **Dockerí™”**: í”„ë¡œë•ì…˜ í™˜ê²½, ë‹¤ì¤‘ í…Œë„ŒíŠ¸ ë°°í¬, ì™„ì „ ê²©ë¦¬ í•„ìš”
:::

### Docker ì„¤ì¹˜ ì°¸ì¡°

ìƒì„¸í•œ Docker ì„¤ì¹˜ ì„¤ëª…ì€ [ë°°í¬ ì˜µì…˜](../../appendix/deployment/)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ì£¼ì˜ ì‚¬í•­

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜

#### âŒ Gateway ì¸ì¦ êµ¬ì„±ì„ ìŠìŒ

**ì˜ëª»ëœ êµ¬ì„±**:
```json5
{
  "gateway": {
    "bind": "lan"  // ìœ„í—˜!
    "auth": {}
  }
}
```

**ê²°ê³¼**: ê·€í•˜ì˜ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì‚¬ëŒì´ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì˜¬ë°”ë¥¸ êµ¬ì„±**:
```json5
{
  "gateway": {
    "bind": "loopback",  // ë˜ëŠ” ê°•ë ¥í•œ ì¸ì¦ êµ¬ì„±
    "auth": {
      "mode": "token",
      "token": "your-secure-token"
    }
  }
}
```

#### âŒ `dmPolicy: "open"` ì‚¬ìš©í•˜ì§€ë§Œ `allowFrom` ìŠìŒ

**ì˜ëª»ëœ êµ¬ì„±**:
```json5
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "open"  // ìœ„í—˜!
    }
  }
}
```

**ê²°ê³¼**: ëˆ„êµ¬ë‚˜ AI ì–´ì‹œìŠ¤í„´íŠ¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì˜¬ë°”ë¥¸ êµ¬ì„±**:
```json5
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "open",
      "allowFrom": ["*"]  // ëª…ì‹œì  í—ˆìš© í•„ìš”
    }
  }
}
```

#### âŒ Elevated exec í™œì„±í™”í•˜ì§€ë§Œ allowFrom êµ¬ì„±í•˜ì§€ ì•ŠìŒ

**ì˜ëª»ëœ êµ¬ì„±**:
```json5
{
  "tools": {
    "elevated": {
      "enabled": true  // ìœ„í—˜!
    }
  }
}
```

**ê²°ê³¼**: ëª¨ë“  ì‚¬ìš©ìê°€ í˜¸ìŠ¤íŠ¸ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì˜¬ë°”ë¥¸ êµ¬ì„±**:
```json5
{
  "tools": {
    "elevated": {
      "enabled": true,
      "allowFrom": {
        "discord": ["your-user-id"]  // í—ˆìš©ëœ ì‚¬ìš©ì ì œí•œ
      },
      "security": "allowlist",
      "ask": "on"  // í™•ì¸ ìš”ì²­
    }
  }
}
```

#### âŒ ë¯¼ê°í•œ ë§ˆìš´íŠ¸ì— ì½ê¸°/ì“°ê¸° ëª¨ë“œ ì‚¬ìš©

**ì˜ëª»ëœ êµ¬ì„±**:
```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "docker": {
          "binds": [
            "/var/run/docker.sock:/var/run/docker.sock"  // ìœ„í—˜!
          ]
        }
      }
    }
  }
}
```

**ê²°ê³¼**: ìƒŒë“œë°•ìŠ¤ê°€ Docker ë°ëª¬ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì˜¬ë°”ë¥¸ êµ¬ì„±**:
```json5
{
  "agents": {
    "defaults": {
      "sandbox": {
        "docker": {
          "binds": [
            "/var/run/docker.sock:/var/run/docker.sock:ro"  // ì½ê¸° ì „ìš©
          ]
        }
      }
    }
  }
}
```

### ëª¨ë²” ì‚¬ë¡€ ìš”ì•½

| ì‚¬ë¡€ | ì´ìœ  |
|--- | ---|
| ê¸°ë³¸ì ìœ¼ë¡œ `pairing` ëª¨ë“œ ì‚¬ìš© | ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆ ê· í˜• |
| ê·¸ë£¹ ë©”ì‹œì§€ì— `requireMention` ì‚¬ìš© | ì¡°ì‘ ë°©ì§€ |
| ë„êµ¬ ì°¨ë‹¨ ëª©ë¡ ëŒ€ì‹  í—ˆìš© ëª©ë¡ ì‚¬ìš© | ìµœì†Œ ê¶Œí•œ ì›ì¹™ |
| ìƒŒë“œë°•ìŠ¤ í™œì„±í™”í•˜ì§€ë§Œ `workspaceAccess: "none"` ì„¤ì • | ì‘ì—… ê³µê°„ ì•¡ì„¸ìŠ¤ ê²©ë¦¬ |
| ì •ê¸°ì ìœ¼ë¡œ ë³´ì•ˆ ê°ì‚¬ ì‹¤í–‰ | ì§€ì†ì ì¸ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ |
| ë¯¼ê°í•œ í‚¤ë¥¼ í™˜ê²½ ë³€ìˆ˜ ë˜ëŠ” êµ¬ì„± íŒŒì¼ì— ì €ì¥ | ì½”ë“œ ìœ ì¶œ ë°©ì§€ |

---

## ì´ ê³¼ì • ìš”ì•½

ì´ ê³¼ì •ì—ì„œëŠ” Clawdbotì˜ ë³´ì•ˆ ëª¨ë¸ê³¼ ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ ê¸°ëŠ¥ì„ ì†Œê°œí–ˆìŠµë‹ˆë‹¤:

**í•µì‹¬ ìš”ì **:

1. **ë³´ì•ˆ ê³„ì¸µ**: ì•¡ì„¸ìŠ¤ ì œì–´ â†’ ê¶Œí•œ ì œì–´ â†’ ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ â†’ ê°ì‚¬ ë° ìˆ˜ì •
2. **ì•¡ì„¸ìŠ¤ ì œì–´**: Gateway ì¸ì¦, DM ì •ì±…, Group ì •ì±…
3. **ë„êµ¬ ê¶Œí•œ**: allow/deny ëª©ë¡, Elevated ëª¨ë“œ
4. **ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬**: ëª¨ë“œ, ë²”ìœ„, ì‘ì—… ê³µê°„ ì•¡ì„¸ìŠ¤, Docker êµ¬ì„±
5. **ë³´ì•ˆ ê°ì‚¬**: `clawdbot security audit`ë¡œ ë¬¸ì œ ë°œê²¬ ë° ìˆ˜ì •

**ë³´ì•ˆ ìš°ì„  ì›ì¹™**:
- ìµœì†Œ ê¶Œí•œë¶€í„° ì‹œì‘í•˜ê³  í•„ìš”í•  ë•Œë§Œ ì™„í™”
- ìƒŒë“œë°•ìŠ¤ ê²©ë¦¬ë¡œ ê³µê²© ë²”ìœ„ ì œí•œ
- ì •ê¸°ì ìœ¼ë¡œ ê°ì‚¬í•˜ê³  êµ¬ì„± ì—…ë°ì´íŠ¸
- ë¯¼ê°í•œ ê¸°ëŠ¥(Elevated exec ë“±)ì— ì£¼ì˜ ìœ ì§€

---

## ë‹¤ìŒ ê³¼ì • ì˜ˆê³ 

> ë‹¤ìŒ ê³¼ì •ì—ì„œëŠ” **[ì›ê²© Gateway ë° Tailscale](../remote-gateway/)**ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.
>
> ë‹¤ìŒì„ ë°°ìš°ê²Œ ë©ë‹ˆë‹¤:
> - Tailscale Serveë¥¼ í†µí•´ Gatewayë¥¼ Tailnetì— ë…¸ì¶œ
> - Tailscale Funnelì„ í†µí•œ ê³µê°œ ì•¡ì„¸ìŠ¤(ì£¼ì˜ í•„ìš”)
> - SSH í„°ë„ ë° ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì„±
> - ì›ê²© ì•¡ì„¸ìŠ¤ ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€

---

## ë¶€ë¡: ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°

<details>
<summary><strong>í´ë¦­í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ ë³´ê¸°</strong></summary>

> ì—…ë°ì´íŠ¸ ì‹œê°„: 2026-01-27

| ê¸°ëŠ¥ | íŒŒì¼ ê²½ë¡œ | í–‰ ë²ˆí˜¸ |
|--- | --- | ---|
| ë³´ì•ˆ ê°ì‚¬ | [`src/security/audit.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/security/audit.ts#L1-L910) | 1-910 |
| ë³´ì•ˆ ìˆ˜ì • | [`src/security/fix.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/security/fix.ts#L1-L385) | 1-385 |
| íŒŒì¼ ê¶Œí•œ í™•ì¸ | [`src/security/audit-fs.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/security/audit-fs.ts) | ì „ì²´ íŒŒì¼ |
| Gateway êµ¬ì„± Schema | [`src/config/zod-schema.core.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/config/zod-schema.core.ts) | ì „ì²´ íŒŒì¼ |
| Agent Defaults Schema | [`src/config/zod-schema.agent-defaults.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/config/zod-schema.agent-defaults.ts) | 1-172 |
| Sandbox Schema | [`src/config/zod-schema.agent-runtime.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/config/zod-schema.agent-runtime.ts) | 82-511 |
| ìƒŒë“œë°•ìŠ¤ ê´€ë¦¬ | [`src/agents/sandbox.ts`](https://github.com/clawdbot/clawdbot/blob/main/src/agents/sandbox.ts) | ì „ì²´ íŒŒì¼ |
| ìƒŒë“œë°•ìŠ¤ êµ¬ì„± ë¶„ì„ | [`src/agents/sandbox/config.js`](https://github.com/clawdbot/clawdbot/blob/main/src/agents/sandbox/config.js) | ì „ì²´ íŒŒì¼ |
| Docker ì„¤ì • | [`src/agents/sandbox/docker.js`](https://github.com/clawdbot/clawdbot/blob/main/src/agents/sandbox/docker.js) | ì „ì²´ íŒŒì¼ |
| ë³´ì•ˆ ë¬¸ì„œ | [`docs/gateway/security.md`](https://github.com/clawdbot/clawdbot/blob/main/docs/gateway/security.md) | ì „ì²´ íŒŒì¼ |
| ìƒŒë“œë°•ìŠ¤ ë¬¸ì„œ | [`docs/gateway/sandboxing.md`](https://github.com/clawdbot/clawdbot/blob/main/docs/gateway/sandboxing.md) | ì „ì²´ íŒŒì¼ |
| ìƒŒë“œë°•ìŠ¤ CLI | [`docs/cli/sandbox.md`](https://github.com/clawdbot/clawdbot/blob/main/docs/cli/sandbox.md) | ì „ì²´ íŒŒì¼ |

**í•µì‹¬ êµ¬ì„± í•„ë“œ**:

```typescript
// ìƒŒë“œë°•ìŠ¤ êµ¬ì„±
sandbox: {
  mode: "off" | "non-main" | "all",  // ìƒŒë“œë°•ìŠ¤ ëª¨ë“œ
  workspaceAccess: "none" | "ro" | "rw",  // ì‘ì—… ê³µê°„ ì•¡ì„¸ìŠ¤
  scope: "session" | "agent" | "shared",  // ìƒŒë“œë°•ìŠ¤ ë²”ìœ„
  docker: {
    image: string,  // Docker ì´ë¯¸ì§€
    binds: string[],  // í˜¸ìŠ¤íŠ¸ ë§ˆìš´íŠ¸
    network: "bridge" | "none" | "custom"  // ë„¤íŠ¸ì›Œí¬ ëª¨ë“œ
  },
  browser: {
    enabled: boolean,  // ë¸Œë¼ìš°ì € ìƒŒë“œë°•ì‹± ì—¬ë¶€
    autoStart: boolean,  // ìë™ ì‹œì‘
  },
  prune: {
    idleHours: number,  // ìœ íœ´ í›„ ìë™ ì‚­ì œ
    maxAgeDays: number,  // ìµœëŒ€ ë³´ìœ  ì¼ìˆ˜
  }
}

// ë„êµ¬ ê¶Œí•œ
tools: {
  allow: string[],  // í—ˆìš©ëœ ë„êµ¬
  deny: string[],  // ê±°ë¶€ëœ ë„êµ¬
  elevated: {
    enabled: boolean,  // í˜¸ìŠ¤íŠ¸ ì‹¤í–‰ í™œì„±í™” ì—¬ë¶€
    allowFrom: {  // ì±„ë„ë³„ í—ˆìš© ëª©ë¡
      [provider: string]: string[] | number[]
    },
    security: "deny" | "allowlist" | "full",  // ë³´ì•ˆ ì •ì±…
    ask: "off" | "on-miss" | "always",  // í™•ì¸ ì •ì±…
  }
}

// DM ì •ì±…
dmPolicy: "pairing" | "allowlist" | "open" | "disabled"

// Group ì •ì±…
groupPolicy: "allowlist" | "open" | "disabled"
```

**í•µì‹¬ ìƒìˆ˜**:

- `DEFAULT_SANDBOX_IMAGE`: `"clawdbot-sandbox:bookworm-slim"` - ê¸°ë³¸ ìƒŒë“œë°•ìŠ¤ ì´ë¯¸ì§€
- `DEFAULT_SANDBOX_COMMON_IMAGE`: ê¸°ë³¸ ì¼ë°˜ ìƒŒë“œë°•ìŠ¤ ì´ë¯¸ì§€

**í•µì‹¬ í•¨ìˆ˜**:

- `runSecurityAudit()`: ë³´ì•ˆ ê°ì‚¬ ì‹¤í–‰
- `fixSecurityFootguns()`: ë³´ì•ˆ ìˆ˜ì • ì ìš©
- `resolveSandboxConfigForAgent()`: Agentì˜ ìƒŒë“œë°•ìŠ¤ êµ¬ì„± ë¶„ì„
- `buildSandboxCreateArgs()`: ìƒŒë“œë°•ìŠ¤ ì»¨í…Œì´ë„ˆ ìƒì„± ë§¤ê°œë³€ìˆ˜ êµ¬ì¶•

</details>
