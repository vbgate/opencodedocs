---
title: "ë³´ì•ˆ: í”„ë¼ì´ë²„ì‹œì™€ ì¸ì¦ êµ¬ì„± | Antigravity-Manager"
sidebarTitle: "ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¥¼ ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”"
subtitle: 'ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ: auth_mode, allow_lan_access, ê·¸ë¦¬ê³  "ê³„ì • ì •ë³´ ìœ ì¶œ ë°©ì§€" ì„¤ê³„'
description: "Antigravity Toolsì˜ ë³´ì•ˆ êµ¬ì„± ë°©ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤. auth_modeì˜ 4ê°€ì§€ ëª¨ë“œ, allow_lan_accessì˜ ì£¼ì†Œ ì°¨ì´, api_key êµ¬ì„± ë° /healthz ê²€ì¦ì„ ë§ˆìŠ¤í„°í•˜ì—¬ ê³„ì • ì •ë³´ ìœ ì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤."
tags:
  - "security"
  - "privacy"
  - "auth_mode"
  - "allow_lan_access"
  - "api_key"
prerequisite:
  - "start-getting-started"
  - "start-proxy-and-first-client"
duration: 16
order: 2
---

# ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ: auth_mode, allow_lan_access, ê·¸ë¦¬ê³  "ê³„ì • ì •ë³´ ìœ ì¶œ ë°©ì§€" ì„¤ê³„

Antigravity Toolsë¥¼ "ë¡œì»¬ AI ê²Œì´íŠ¸ì›¨ì´"ë¡œ ì‚¬ìš©í•  ë•Œ ë³´ì•ˆ ë¬¸ì œëŠ” ë³´í†µ ë‘ ê°€ì§€ë¡œ ìš”ì•½ë©ë‹ˆë‹¤: ëˆ„êµ¬ì—ê²Œ ì„œë¹„ìŠ¤ë¥¼ ë…¸ì¶œí•˜ëŠ”ì§€(ë¡œì»¬ë§Œì¸ì§€, ì „ì²´ LAN/ì¸í„°ë„·ì¸ì§€), ì™¸ë¶€ ìš”ì²­ì— API Keyë¥¼ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€. ì´ ìˆ˜ì—…ì—ì„œëŠ” ì†ŒìŠ¤ ì½”ë“œì˜ ê·œì¹™ì„ ëª…í™•íˆ ì„¤ëª…í•˜ê³ , ë°”ë¡œ ë”°ë¼ í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë³´ì•ˆ ê¸°ì¤€ì„ ì œê³µí•©ë‹ˆë‹¤.

## ìˆ˜ì—…ì„ ë§ˆì¹˜ë©´ í•  ìˆ˜ ìˆëŠ” ê²ƒ

- `allow_lan_access`ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì„ íƒ: ìˆ˜ì‹  ì£¼ì†Œ(`127.0.0.1` vs `0.0.0.0`)ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ì••ë‹ˆë‹¤
- `auth_mode`ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì„ íƒ: `off/strict/all_except_health/auto`ì˜ ì‹¤ì œ ë™ì‘ì„ ëª…í™•íˆ í•©ë‹ˆë‹¤
- `api_key`ë¥¼ êµ¬ì„±í•˜ê³  ê²€ì¦: `curl`ì„ ì‚¬ìš©í•˜ì—¬ "ì¸ì¦ì´ ì¼œì ¸ ìˆëŠ”ì§€" í•œëˆˆì— ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ì˜ ê²½ê³„ë¥¼ ì´í•´: ë¡œì»¬ proxy keyëŠ” ì—…ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. API í´ë¼ì´ì–¸íŠ¸ì˜ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ê³„ì • ì´ë©”ì¼ ìœ ì¶œì„ í”¼í•©ë‹ˆë‹¤

## í˜„ì¬ ê²ªê³  ìˆëŠ” ë¬¸ì œ

- íœ´ëŒ€í°/ë‹¤ë¥¸ PCì—ì„œ ì•¡ì„¸ìŠ¤í•˜ê³  ì‹¶ì§€ë§Œ, LAN ì•¡ì„¸ìŠ¤ë¥¼ ì¼œë©´ "ë…¸ì¶œ"ì´ ë ê¹Œ ê±±ì •í•©ë‹ˆë‹¤
- ì¸ì¦ì„ ì¼œê³  ì‹¶ì§€ë§Œ `/healthz`ë¥¼ ë©´ì œí•´ì•¼ í• ì§€ í™•ì‹¤í•˜ì§€ ì•Šê³ , í—¬ìŠ¤ ì²´í¬ë¥¼ ë§ê°€ëœ¨ë¦´ê¹Œ ë´ ê±±ì •í•©ë‹ˆë‹¤
- ë¡œì»¬ í‚¤, ì¿ í‚¤, ê³„ì • ì´ë©”ì¼ì´ ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ë‚˜ ì—…ìŠ¤íŠ¸ë¦¼ í”Œë«í¼ìœ¼ë¡œ ìœ ì¶œë˜ëŠ” ê²ƒì„ ê±±ì •í•©ë‹ˆë‹¤

## ì–¸ì œ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”

- `allow_lan_access`ë¥¼ ì¼œë ¤ í•  ë•Œ(NAS, ê°€ì • LAN, íŒ€ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬)
- cloudflared/ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ ì„œë¹„ìŠ¤ë¥¼ ì¸í„°ë„·ì— ë…¸ì¶œí•˜ë ¤ í•  ë•Œ(ë¨¼ì € **[Cloudflared ì¼í´ë¦­ í„°ë„](/ko/lbjlaq/Antigravity-Manager/platforms/cloudflared/)**ì„ ë³´ì„¸ìš”)
- `401`ì„ ë§Œë‚˜ "í‚¤ê°€ ì—†ëŠ” ê²ƒ"ì¸ì§€ "ëª¨ë“œê°€ ë§ì§€ ì•ŠëŠ” ê²ƒ"ì¸ì§€ í™•ì¸í•´ì•¼ í•  ë•Œ

## ğŸ’ ì‹œì‘ ì „ ì¤€ë¹„

::: warning ì „ì œ ì¡°ê±´
- GUIì—ì„œ API Proxyë¥¼ ì‹œì‘í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤(ì•„ì§ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´, ë¨¼ì € **[ë¡œì»¬ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì‹œì‘ ë° ì²« ë²ˆì§¸ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°](/ko/lbjlaq/Antigravity-Manager/start/proxy-and-first-client/)**ë¥¼ ë³´ì„¸ìš”).
- í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œë¥¼ ì•Œê³  ìˆìŠµë‹ˆë‹¤: ë¡œì»¬ë§Œ ì•¡ì„¸ìŠ¤ì¸ì§€, LAN/ì¸í„°ë„· ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œì§€.
:::

::: info ì´ ìˆ˜ì—…ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” 3ê°œ í•„ë“œ
- `allow_lan_access`: LAN ì•¡ì„¸ìŠ¤ í—ˆìš© ì—¬ë¶€
- `auth_mode`: ì¸ì¦ ì „ëµ(ì–´ë–¤ ë¼ìš°íŠ¸ì— keyë¥¼ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€ ê²°ì •)
- `api_key`: ë¡œì»¬ í”„ë¡ì‹œì˜ API Key(ë¡œì»¬ í”„ë¡ì‹œ ì¸ì¦ì—ë§Œ ì‚¬ìš©, ì—…ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ)
:::

## auth_modeë€ ë¬´ì—‡ì¸ê°€?

**auth_mode**ëŠ” Antigravity Toolsì˜ "í”„ë¡ì‹œ ì¸ì¦ ìŠ¤ìœ„ì¹˜ + ë©´ì œ ì „ëµ"ì…ë‹ˆë‹¤. ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ê°€ ë¡œì»¬ í”„ë¡ì‹œ ì—”ë“œí¬ì¸íŠ¸ì— ì•¡ì„¸ìŠ¤í•  ë•Œ, ì–´ë–¤ ìš”ì²­ì— `proxy.api_key`ë¥¼ ê°€ì ¸ì•¼ í•˜ë©°, `/healthz` ê°™ì€ í—¬ìŠ¤ ì²´í¬ ë¼ìš°íŠ¸ë¥¼ ì¸ì¦ ì—†ì´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

## í•µì‹¬ ì•„ì´ë””ì–´

1. ë¨¼ì € "ë…¸ì¶œë©´"ì„ ê²°ì •: `allow_lan_access=false`ì¼ ë•ŒëŠ” `127.0.0.1`ë§Œ ìˆ˜ì‹ ; `true`ì¼ ë•ŒëŠ” `0.0.0.0` ìˆ˜ì‹ 
2. ê·¸ ë‹¤ìŒ "ì…êµ¬ í‚¤"ë¥¼ ê²°ì •: `auth_mode`ê°€ keyë¥¼ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€, `/healthz`ë¥¼ ë©´ì œí• ì§€ë¥¼ ê²°ì •
3. ë§ˆì§€ë§‰ìœ¼ë¡œ "í”„ë¼ì´ë²„ì‹œ ë§ˆë¬´ë¦¬": ë¡œì»¬ proxy í‚¤/ì¿ í‚¤ë¥¼ ì—…ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬í•˜ì§€ ì•ŠìŒ. ëŒ€ì™¸ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ê³„ì • ì´ë©”ì¼ì„ ìµœëŒ€í•œ í¬í•¨í•˜ì§€ ì•ŠìŒ

## ë”°ë¼í•´ë³´ê¸°

### 1ë‹¨ê³„: LAN ì•¡ì„¸ìŠ¤ë¥¼ ì¼¤ì§€ ë¨¼ì € ê²°ì •(allow_lan_access)

**ì´ìœ **
"ë‹¤ë¥¸ ì¥ì¹˜ê°€ ì•¡ì„¸ìŠ¤í•´ì•¼ í•  ë•Œ"ë§Œ LAN ì•¡ì„¸ìŠ¤ë¥¼ ì¼œì•¼ í•©ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë¡œì»¬ë§Œ ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²ƒì´ ê°€ì¥ í¸ë¦¬í•œ ë³´ì•ˆ ì „ëµì…ë‹ˆë‹¤.

`ProxyConfig`ì—ì„œ ìˆ˜ì‹  ì£¼ì†ŒëŠ” `allow_lan_access`ë¡œ ê²°ì •ë©ë‹ˆë‹¤:

```rust
pub fn get_bind_address(&self) -> &str {
    if self.allow_lan_access {
        "0.0.0.0"
    } else {
        "127.0.0.1"
    }
}
```

GUIì˜ `API Proxy` í˜ì´ì§€ì—ì„œ "LAN ì•¡ì„¸ìŠ¤ í—ˆìš©" ìŠ¤ìœ„ì¹˜ë¥¼ ìš”êµ¬ì— ë”°ë¼ ì„¤ì •í•˜ì„¸ìš”.

**ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ**
- ë„ë©´: "ë¡œì»¬ë§Œ ì•¡ì„¸ìŠ¤" ì˜ë¯¸ì˜ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤(êµ¬ì²´ì ì¸ í…ìŠ¤íŠ¸ëŠ” ì–¸ì–´ íŒ©ì— ë”°ë¦„)
- ì¼œë©´: ì¸í„°í˜ì´ìŠ¤ì— ëª…í™•í•œ ìœ„í—˜ ê²½ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤(ì´ê²ƒì´ "ë…¸ì¶œë©´ í™•ëŒ€"ë¼ëŠ” ê²ƒì„ ìƒê¸°ì‹œí‚´)

### 2ë‹¨ê³„: auth_modeë¥¼ ì„ íƒ(ë¨¼ì € auto ì‚¬ìš© ê¶Œì¥)

**ì´ìœ **
`auth_mode`ëŠ” ë‹¨ìˆœíˆ "ì¸ì¦ ì¼¬ê¸°/ë„ê¸°"ê°€ ì•„ë‹ˆë¼, `/healthz` ê°™ì€ í—¬ìŠ¤ ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë©´ì œí• ì§€ë„ ê²°ì •í•©ë‹ˆë‹¤.

í”„ë¡œì íŠ¸ëŠ” 4ê°€ì§€ ëª¨ë“œë¥¼ ì§€ì›í•©ë‹ˆë‹¤(`docs/proxy/auth.md`ì—ì„œ ì˜´):

- `off`: ëª¨ë“  ë¼ìš°íŠ¸ê°€ ì¸ì¦ ë¶ˆí•„ìš”
- `strict`: ëª¨ë“  ë¼ìš°íŠ¸ê°€ ì¸ì¦ í•„ìš”
- `all_except_health`: `/healthz`ë¥¼ ì œì™¸í•œ ëª¨ë“  ë¼ìš°íŠ¸ê°€ ì¸ì¦ í•„ìš”
- `auto`: ìë™ ëª¨ë“œ, `allow_lan_access`ì—ì„œ ì‹¤ì œ ì „ëµì„ ìœ ë„

`auto`ì˜ ìœ ë„ ë¡œì§ì€ `ProxySecurityConfig::effective_auth_mode()`ì— ìˆìŠµë‹ˆë‹¤:

```rust
match self.auth_mode {
    ProxyAuthMode::Auto => {
        if self.allow_lan_access {
            ProxyAuthMode::AllExceptHealth
        } else {
            ProxyAuthMode::Off
        }
    }
    ref other => other.clone(),
}
```

**ê¶Œì¥ ì‚¬í•­**
- ë¡œì»¬ë§Œ ì•¡ì„¸ìŠ¤: `allow_lan_access=false` + `auth_mode=auto`(ê²°êµ­ `off`ì™€ ë™ë“±)
- LAN ì•¡ì„¸ìŠ¤: `allow_lan_access=true` + `auth_mode=auto`(ê²°êµ­ `all_except_health`ì™€ ë™ë“±)

**ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ**
- `API Proxy` í˜ì´ì§€ì—ì„œ "Auth Mode" ë“œë¡­ë‹¤ìš´ì— `off/strict/all_except_health/auto` ë„¤ ê°€ì§€ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤

### 3ë‹¨ê³„: api_key í™•ì¸(í•„ìš”í•˜ë©´ ì¬ìƒì„±)

**ì´ìœ **
í”„ë¡ì‹œê°€ ì™¸ë¶€ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©´(LAN/ì¸í„°ë„·), `api_key`ë¥¼ ì•”í˜¸ë¡œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ `ProxyConfig::default()`ëŠ” `sk-...` í˜•ì‹ì˜ í‚¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

```rust
api_key: format!("sk-{}", uuid::Uuid::new_v4().simple()),
```

`API Proxy` í˜ì´ì§€ì—ì„œ í˜„ì¬ `api_key`ë¥¼ í¸ì§‘, ì¬ìƒì„±, ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ**
- í˜ì´ì§€ì— `api_key` ì…ë ¥ë€ê³¼ í¸ì§‘/ì¬ìƒì„±/ë³µì‚¬ ë²„íŠ¼ì´ ìˆìŠµë‹ˆë‹¤

### 4ë‹¨ê³„: /healthzë¡œ "ë©´ì œ ì „ëµ"ì´ ì˜ˆìƒëŒ€ë¡œì¸ì§€ ê²€ì¦

**ì´ìœ **
`/healthz`ëŠ” ê°€ì¥ ì§§ì€ ë£¨í”„: ì‹¤ì œë¡œ ëª¨ë¸ì„ í˜¸ì¶œí•˜ì§€ ì•Šê³  "ì„œë¹„ìŠ¤ ë„ë‹¬ ê°€ëŠ¥ + ì¸ì¦ ì „ëµ ì •í™•"ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`<PORT>`ë¥¼ ë³¸ì¸ì˜ í¬íŠ¸ë¡œ ë°”ê¾¸ì„¸ìš”(ê¸°ë³¸ê°’ `8045`):

::: code-group

```bash [macOS/Linux]
curl -sS "http://127.0.0.1:<PORT>/healthz"
```

```powershell [Windows]
curl.exe -sS "http://127.0.0.1:<PORT>/healthz"
```

:::

**ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ**

```json
{"status":"ok"}
```

::: details auth_modeë¥¼ strictë¡œ ì„¤ì •í•œ ê²½ìš°
`strict`ëŠ” `/healthz`ë¥¼ ë©´ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í‚¤ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤:

```bash
curl -sS "http://127.0.0.1:<PORT>/healthz" \
  -H "Authorization: Bearer <API_KEY>"
```
:::

### 5ë‹¨ê³„: "ë¹„ health ì—”ë“œí¬ì¸íŠ¸"ë¡œ 401 ê²€ì¦(ë° í‚¤ë¥¼ ê°€ì ¸ì˜¤ë©´ 401ì´ ì•„ë‹˜)

**ì´ìœ **
ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ê°€ ì •ë§ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. UIì—ì„œ ëª¨ë“œë¥¼ ì„ íƒí–ˆì§€ë§Œ ì‹¤ì œë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.

ë‹¤ìŒ ìš”ì²­ ë³¸ë¬¸ì€ ì¼ë¶€ëŸ¬ ë¶ˆì™„ì „í•˜ê²Œ ì‘ì„±í•œ ê²ƒì…ë‹ˆë‹¤. "í˜¸ì¶œ ì„±ê³µ"ì´ ëª©ì ì´ ì•„ë‹ˆë¼, ì¸ì¦ì— ì˜í•´ ì°¨ë‹¨ë˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:

```bash
#í‚¤ ì—†ìŒ: auth_mode != offì¼ ë•Œ, ì§ì ‘ 401ì´ì–´ì•¼ í•¨
curl -i "http://127.0.0.1:<PORT>/v1/messages" \
  -H "Content-Type: application/json" \
  -d "{}"

#í‚¤ ìˆìŒ: 401ì´ ì•„ë‹ˆì–´ì•¼ í•¨(ìš”ì²­ ë³¸ë¬¸ì´ ë¶ˆì™„ì „í•˜ë¯€ë¡œ 400/422 ë°˜í™˜ ê°€ëŠ¥)
curl -i "http://127.0.0.1:<PORT>/v1/messages" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <API_KEY>" \
  -d "{}"
```

**ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ**
- í‚¤ ì—†ìŒ: `HTTP/1.1 401 Unauthorized`
- í‚¤ ìˆìŒ: ìƒíƒœ ì½”ë“œê°€ 401ì´ ì•„ë‹˜

## ì²´í¬í¬ì¸íŠ¸ âœ…

- í˜„ì¬ ë…¸ì¶œë©´ì„ ëª…í™•íˆ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: ë¡œì»¬ë§Œ(`127.0.0.1`)ì¸ì§€ LAN(`0.0.0.0`)ì¸ì§€
- `auth_mode=auto`ì¼ ë•Œ, ì‹¤ì œ ìœ íš¨ ëª¨ë“œë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(LAN â†’ `all_except_health`, ë¡œì»¬ â†’ `off`)
- 2ê°œì˜ `curl` ëª…ë ¹ìœ¼ë¡œ "í‚¤ê°€ ì—†ëŠ” 401"ì„ ì¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## í•¨ì • ê²½ê³ 

::: warning ì˜ëª»ëœ ë°©ë²• vs ê¶Œì¥ ë°©ë²•

| ì‹œë‚˜ë¦¬ì˜¤ | âŒ ì¼ë°˜ì ì¸ ì˜¤ë¥˜ | âœ“ ê¶Œì¥ ë°©ë²• |
| --- | --- | --- |
| LAN ì•¡ì„¸ìŠ¤ í•„ìš” | `allow_lan_access=true`ë§Œ ì¼œê³ , `auth_mode=off` | `auth_mode=auto`ë¥¼ ì‚¬ìš©í•˜ê³  ê°•ë ¥í•œ `api_key`ë¥¼ ì„¤ì • |
| ì¸ì¦ì„ ì¼°ëŠ”ë° ê³„ì† 401 | í´ë¼ì´ì–¸íŠ¸ê°€ í‚¤ë¥¼ ê°€ì ¸ì˜¤ì§€ë§Œ í—¤ë” ì´ë¦„ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŒ | í”„ë¡ì‹œëŠ” `Authorization`/`x-api-key`/`x-goog-api-key` ì„¸ ê°€ì§€ í—¤ë”ë¥¼ í˜¸í™˜ |
| ì¸ì¦ì„ ì¼°ì§€ë§Œ í‚¤ë¥¼ êµ¬ì„±í•˜ì§€ ì•ŠìŒ | `api_key`ê°€ ë¹„ì–´ ìˆëŠ”ë°ë„ ì¸ì¦ì„ ì¼¬ | ë°±ì—”ë“œê°€ ì§ì ‘ ê±°ë¶€í•©ë‹ˆë‹¤(ë¡œê·¸ì— í‚¤ê°€ ë¹„ì–´ ìˆë‹¤ê³  í‘œì‹œë¨) |
:::

::: warning /healthz ë©´ì œëŠ” all_except_healthì—ì„œë§Œ ìœ íš¨
ë¯¸ë“¤ì›¨ì–´ëŠ” "ìœ íš¨ ëª¨ë“œ"ê°€ `all_except_health`ì´ê³  ê²½ë¡œê°€ `/healthz`ì¼ ë•Œ í†µê³¼í•©ë‹ˆë‹¤. "í—¬ìŠ¤ ì²´í¬ í¬íŠ¸"ë¡œ ì‚¬ìš©í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ APIë¡œ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
:::

## í”„ë¼ì´ë²„ì‹œì™€ "ê³„ì • ì •ë³´ ìœ ì¶œ ë°©ì§€" ì„¤ê³„

### 1) ë¡œì»¬ proxy í‚¤ëŠ” ì—…ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ

ì¸ì¦ì€ ë¡œì»¬ í”„ë¡ì‹œ ì§„ì…ì—ì„œë§Œ ë°œìƒí•©ë‹ˆë‹¤. `docs/proxy/auth.md`ì— ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤: proxy API keyëŠ” ì—…ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### 2) z.aië¡œ ì „ë‹¬í•  ë•Œ, ì „ë‹¬ ê°€ëŠ¥í•œ í—¤ë”ë¥¼ ì˜ë„ì ìœ¼ë¡œ ì¶•ì†Œ

ìš”ì²­ì´ z.ai(Anthropic í˜¸í™˜)ë¡œ ì „ë‹¬ë  ë•Œ, ì½”ë“œëŠ” ì†Œìˆ˜ì˜ í—¤ë”ë§Œ í†µê³¼ì‹œì¼œ ë¡œì»¬ proxy í‚¤ë‚˜ ì¿ í‚¤ê°€ ë‚˜ê°€ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤:

```rust
// Only forward a conservative set of headers to avoid leaking the local proxy key or cookies.
```

### 3) í† í° ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨ì˜ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ê³„ì • ì´ë©”ì¼ í¬í•¨ì„ í”¼í•¨

í† í° ìƒˆë¡œê³ ì¹¨ì´ ì‹¤íŒ¨í•˜ë©´ ë¡œê·¸ì—ëŠ” êµ¬ì²´ì ì¸ ê³„ì •ì´ ê¸°ë¡ë˜ì§€ë§Œ, API í´ë¼ì´ì–¸íŠ¸ë¡œ ë°˜í™˜ë˜ëŠ” ì˜¤ë¥˜ëŠ” ì´ë©”ì¼ì„ í¬í•¨í•˜ì§€ ì•ŠëŠ” í˜•ì‹ìœ¼ë¡œ ë‹¤ì‹œ ì‘ì„±ë©ë‹ˆë‹¤:

```rust
// Avoid leaking account emails to API clients; details are still in logs.
last_error = Some(format!("Token refresh failed: {}", e));
```

## ì´ ìˆ˜ì—… ìš”ì•½

- ë¨¼ì € ë…¸ì¶œë©´(`allow_lan_access`)ì„ ê²°ì •í•˜ê³ , ì…êµ¬ í‚¤(`auth_mode` + `api_key`)ë¥¼ ê²°ì •
- `auth_mode=auto`ì˜ ê·œì¹™ì€ ê°„ë‹¨: LANì´ë©´ ìµœì†Œ `all_except_health`, ë¡œì»¬ë§Œì´ë©´ `off`
- í”„ë¼ì´ë²„ì‹œì˜ ê¸°ì¤€ì€ "ë¡œì»¬ í‚¤ëŠ” ì™¸ë¶€ë¡œ ë‚˜ê°€ì§€ ì•Šê³ , ê³„ì • ì´ë©”ì¼ì€ ëŒ€ì™¸ ì˜¤ë¥˜ì— ìœ ì¶œë˜ì§€ ì•ŠìŒ", ì„¸ë¶€ ì‚¬í•­ì€ ë¯¸ë“¤ì›¨ì–´ì™€ ì—…ìŠ¤íŠ¸ë¦¼ ì „ë‹¬ ì½”ë“œì— ìˆìŒ

## ë‹¤ìŒ ìˆ˜ì—… ì˜ˆê³ 

> ë‹¤ìŒ ìˆ˜ì—…ì—ì„œëŠ” **[ê³ ê°€ìš©ì„± ìŠ¤ì¼€ì¤„ë§: ë¡œí…Œì´ì…˜, ê³ ì • ê³„ì •, ìŠ¤í‹°í‚¤ ì„¸ì…˜ ë° ì‹¤íŒ¨ ì¬ì‹œë„](/ko/lbjlaq/Antigravity-Manager/advanced/scheduling/)**ë¥¼ ë³´ë©°, "ë³´ì•ˆ ì…êµ¬" í›„ "ì•ˆì •ëœ ì¶œêµ¬"ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.

---

## ë¶€ë¡: ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°

<details>
<summary><strong>í¼ì³ì„œ ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ í™•ì¸</strong></summary>

> ì—…ë°ì´íŠ¸ ì‹œê°„: 2026-01-23

| ê¸°ëŠ¥ | íŒŒì¼ ê²½ë¡œ | í–‰ ë²ˆí˜¸ |
| --- | --- | --- |
| auth_modeì˜ ë„¤ ê°€ì§€ ëª¨ë“œì™€ auto ì˜ë¯¸ ì„¤ëª… | [`docs/proxy/auth.md`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/docs/proxy/auth.md#L10-L24) | 10-24 |
| ProxyAuthMode ì—´ê±°í˜• ë° ê¸°ë³¸ê°’(ê¸°ë³¸ê°’ off) | [`src-tauri/src/proxy/config.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/config.rs#L5-L18) | 5-18 |
| ProxyConfigì˜ í•µì‹¬ í•„ë“œ ë° ê¸°ë³¸ê°’(allow_lan_access, api_key) | [`src-tauri/src/proxy/config.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/config.rs#L174-L259) | 174-259 |
| ìˆ˜ì‹  ì£¼ì†Œ ìœ ë„(127.0.0.1 vs 0.0.0.0) | [`src-tauri/src/proxy/config.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/config.rs#L281-L292) | 281-292 |
| auto -> effective_auth_mode ìœ ë„ ë¡œì§ | [`src-tauri/src/proxy/security.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/security.rs#L10-L30) | 10-30 |
| ì¸ì¦ ë¯¸ë“¤ì›¨ì–´(OPTIONS í†µê³¼, /healthz ë©´ì œ, ì„¸ ê°€ì§€ í—¤ë” í˜¸í™˜) | [`src-tauri/src/proxy/middleware/auth.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/middleware/auth.rs#L14-L78) | 14-78 |
| UI: allow_lan_access ë° auth_mode ìŠ¤ìœ„ì¹˜/ë“œë¡­ë‹¤ìš´ | [`src/pages/ApiProxy.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/ApiProxy.tsx#L943-L1046) | 943-1046 |
| UI: api_key í¸ì§‘/ì¬ì„¤ì •/ë³µì‚¬ | [`src/pages/ApiProxy.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/ApiProxy.tsx#L1048-L1120) | 1048-1120 |
| invalid_grant ìë™ ë¹„í™œì„±í™” ë° "ì´ë©”ì¼ ìœ ì¶œ ë°©ì§€" ì˜¤ë¥˜ ì¬ì‘ì„± | [`src-tauri/src/proxy/token_manager.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/token_manager.rs#L841-L940) | 841-940 |
| disable_account: disabled/disabled_at/disabled_reason ì“°ê¸° ë° ë©”ëª¨ë¦¬ í’€ì—ì„œ ì œê±° | [`src-tauri/src/proxy/token_manager.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/token_manager.rs#L942-L969) | 942-969 |
| z.ai ì „ë‹¬ ì‹œ ì „ë‹¬ ê°€ëŠ¥í•œ í—¤ë” ì¶•ì†Œ(ë¡œì»¬ í‚¤/ì¿ í‚¤ ìœ ì¶œ ë°©ì§€) | [`src-tauri/src/proxy/providers/zai_anthropic.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/providers/zai_anthropic.rs#L70-L89) | 70-89 |
| ê³„ì • í’€ ë¹„í™œì„±í™” ë° UI í‘œì‹œ ë™ì‘ ì„¤ëª…(ë¬¸ì„œ) | [`docs/proxy/accounts.md`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/docs/proxy/accounts.md#L9-L44) | 9-44 |

</details>
