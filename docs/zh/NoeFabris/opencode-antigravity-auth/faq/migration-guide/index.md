---
title: "è´¦æˆ·è¿ç§»: è·¨è®¾å¤‡è®¾ç½® | Antigravity Auth"
sidebarTitle: "æ¢ç”µè„‘ç»§ç»­ç”¨"
subtitle: "è¿ç§»è´¦æˆ·ï¼šè·¨æœºå™¨è®¾ç½®ä¸ç‰ˆæœ¬å‡çº§"
description: "å­¦ä¹ å¦‚ä½•åœ¨ macOS/Linux/Windows é—´è¿ç§» Antigravity Auth è´¦æˆ·æ–‡ä»¶ï¼Œç†è§£å­˜å‚¨æ ¼å¼è‡ªåŠ¨å‡çº§æœºåˆ¶ï¼Œè§£å†³è¿ç§»åçš„è®¤è¯é—®é¢˜ã€‚"
tags:
  - "è¿ç§»"
  - "è·¨æœºå™¨"
  - "ç‰ˆæœ¬å‡çº§"
  - "è´¦æˆ·ç®¡ç†"
prerequisite:
  - "quick-install"
order: 2
---

# è¿ç§»è´¦æˆ·ï¼šè·¨æœºå™¨è®¾ç½®ä¸ç‰ˆæœ¬å‡çº§

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- âœ… å°†è´¦æˆ·ä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°æœºå™¨
- âœ… ç†è§£å­˜å‚¨æ ¼å¼çš„ç‰ˆæœ¬å˜åŒ–ï¼ˆv1/v2/v3ï¼‰
- âœ… è§£å†³è¿ç§»åçš„è®¤è¯é—®é¢˜ï¼ˆinvalid_grant é”™è¯¯ï¼‰
- âœ… åœ¨å¤šå°è®¾å¤‡ä¸Šå…±äº«åŒä¸€ä¸ªè´¦æˆ·

## ä½ ç°åœ¨çš„å›°å¢ƒ

ä¹°äº†ä¸€å°æ–°ç”µè„‘ï¼Œéœ€è¦åœ¨ä¸Šé¢ç»§ç»­ç”¨ Antigravity Auth è®¿é—® Claude å’Œ Gemini 3ï¼Œä½†ä¸æƒ³é‡æ–°èµ°ä¸€é OAuth è®¤è¯æµç¨‹ã€‚æˆ–è€…å‡çº§æ’ä»¶ç‰ˆæœ¬åï¼Œå‘ç°åŸæ¥çš„è´¦æˆ·æ•°æ®æ— æ³•ä½¿ç”¨ã€‚

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

- ğŸ“¦ **æ¢æ–°è®¾å¤‡**ï¼šä»æ—§ç”µè„‘è¿ç§»åˆ°æ–°ç”µè„‘
- ğŸ”„ **å¤šè®¾å¤‡åŒæ­¥**ï¼šåœ¨å°å¼æœºå’Œç¬”è®°æœ¬é—´å…±äº«è´¦æˆ·
- ğŸ†™ **ç‰ˆæœ¬å‡çº§**ï¼šæ’ä»¶å‡çº§åå­˜å‚¨æ ¼å¼å˜åŒ–
- ğŸ’¾ **å¤‡ä»½æ¢å¤**ï¼šå®šæœŸå¤‡ä»½è´¦æˆ·æ•°æ®

## æ ¸å¿ƒæ€è·¯

**è´¦æˆ·è¿ç§»**æ˜¯å°†è´¦æˆ·æ–‡ä»¶ï¼ˆantigravity-accounts.jsonï¼‰ä»ä¸€å°æœºå™¨å¤åˆ¶åˆ°å¦ä¸€å°æœºå™¨çš„è¿‡ç¨‹ã€‚æ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†å­˜å‚¨æ ¼å¼ç‰ˆæœ¬å‡çº§ã€‚

### è¿ç§»æœºåˆ¶æ¦‚è§ˆ

å­˜å‚¨æ ¼å¼æœ‰ç‰ˆæœ¬æ§åˆ¶ï¼ˆå½“å‰æ˜¯ v3ï¼‰ï¼Œæ’ä»¶ä¼š**è‡ªåŠ¨å¤„ç†ç‰ˆæœ¬è¿ç§»**ï¼š

| ç‰ˆæœ¬ | ä¸»è¦å˜åŒ– | å½“å‰çŠ¶æ€ |
|--- | --- | ---|
| v1 â†’ v2 | é€Ÿç‡é™åˆ¶çŠ¶æ€ç»“æ„åŒ– | âœ… è‡ªåŠ¨è¿ç§» |
| v2 â†’ v3 | æ”¯æŒåŒé…é¢æ± ï¼ˆgemini-antigravity/gemini-cliï¼‰ | âœ… è‡ªåŠ¨è¿ç§» |

å­˜å‚¨æ–‡ä»¶ä½ç½®ï¼ˆè·¨å¹³å°ï¼‰ï¼š

| å¹³å° | è·¯å¾„ |
|--- | ---|
| macOS/Linux | `~/.config/opencode/antigravity-accounts.json` |
| Windows | `%APPDATA%\opencode\antigravity-accounts.json` |

::: tip å®‰å…¨æé†’
è´¦æˆ·æ–‡ä»¶åŒ…å« OAuth refresh tokenï¼Œ**ç›¸å½“äºå¯†ç **ã€‚ä¼ è¾“æ—¶è¯·ä½¿ç”¨åŠ å¯†æ–¹å¼ï¼ˆå¦‚ SFTPã€åŠ å¯† ZIPï¼‰ã€‚
:::

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

- [ ] ç›®æ ‡æœºå™¨å·²å®‰è£… OpenCode
- [ ] ç›®æ ‡æœºå™¨å·²å®‰è£… Antigravity Auth æ’ä»¶ï¼š`opencode plugin add opencode-antigravity-auth@beta`
- [ ] ç¡®ä¿ä¸¤å°æœºå™¨èƒ½å®‰å…¨ä¼ è¾“æ–‡ä»¶ï¼ˆSSHã€U ç›˜ç­‰ï¼‰

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šåœ¨æºæœºå™¨ä¸Šæ‰¾åˆ°è´¦æˆ·æ–‡ä»¶

**ä¸ºä»€ä¹ˆ**
éœ€è¦å®šä½åŒ…å«è´¦æˆ·ä¿¡æ¯çš„ JSON æ–‡ä»¶ã€‚

```bash
# macOS/Linux
ls -la ~/.config/opencode/antigravity-accounts.json

# Windows PowerShell
Get-ChildItem "$env:APPDATA\opencode\antigravity-accounts.json"
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ–‡ä»¶å­˜åœ¨ï¼ŒåŒ…å«ç±»ä¼¼å†…å®¹ï¼š

```json
{
  "version": 3,
  "accounts": [...],
  "activeIndex": 0
}
```

å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯´æ˜è¿˜æ²¡æ·»åŠ è´¦æˆ·ï¼Œè¯·å…ˆè¿è¡Œ `opencode auth login`ã€‚

### ç¬¬ 2 æ­¥ï¼šå¤åˆ¶è´¦æˆ·æ–‡ä»¶åˆ°ç›®æ ‡æœºå™¨

**ä¸ºä»€ä¹ˆ**
å°†è´¦æˆ·ä¿¡æ¯ï¼ˆrefresh token å’Œ Project IDï¼‰ä¼ è¾“åˆ°æ–°è®¾å¤‡ã€‚

::: code-group

```bash [macOS/Linux]
# æ–¹æ³• 1ï¼šä½¿ç”¨ scpï¼ˆé€šè¿‡ SSHï¼‰
scp ~/.config/opencode/antigravity-accounts.json user@new-machine:/tmp/

# æ–¹æ³• 2ï¼šä½¿ç”¨ U ç›˜
cp ~/.config/opencode/antigravity-accounts.json /Volumes/USB/
```

```powershell [Windows]
# æ–¹æ³• 1ï¼šä½¿ç”¨ PowerShell Copy-Itemï¼ˆé€šè¿‡ SMBï¼‰
Copy-Item "$env:APPDATA\opencode\antigravity-accounts.json" "\\new-machine\c$\Users\user\Downloads\"

# æ–¹æ³• 2ï¼šä½¿ç”¨ U ç›˜
Copy-Item "$env:APPDATA\opencode\antigravity-accounts.json" "E:\"
```

:::

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ–‡ä»¶æˆåŠŸå¤åˆ¶åˆ°ç›®æ ‡æœºå™¨çš„ä¸´æ—¶ç›®å½•ï¼ˆå¦‚ `/tmp/` æˆ– `Downloads/`ï¼‰ã€‚

### ç¬¬ 3 æ­¥ï¼šåœ¨ç›®æ ‡æœºå™¨ä¸Šå®‰è£…æ’ä»¶

**ä¸ºä»€ä¹ˆ**
ç¡®ä¿ç›®æ ‡æœºå™¨çš„æ’ä»¶ç‰ˆæœ¬å…¼å®¹ã€‚

```bash
opencode plugin add opencode-antigravity-auth@beta
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ’ä»¶å®‰è£…æˆåŠŸæç¤ºã€‚

### ç¬¬ 4 æ­¥ï¼šå°†æ–‡ä»¶æ”¾åˆ°æ­£ç¡®ä½ç½®

**ä¸ºä»€ä¹ˆ**
æ’ä»¶åªä¼šåœ¨å›ºå®šè·¯å¾„æŸ¥æ‰¾è´¦æˆ·æ–‡ä»¶ã€‚

::: code-group

```bash [macOS/Linux]
# åˆ›å»ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p ~/.config/opencode

# å¤åˆ¶æ–‡ä»¶
cp /tmp/antigravity-accounts.json ~/.config/opencode/

# éªŒè¯æƒé™
chmod 600 ~/.config/opencode/antigravity-accounts.json
```

```powershell [Windows]
# å¤åˆ¶æ–‡ä»¶ï¼ˆç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
Copy-Item "$env:Downloads\antigravity-accounts.json" "$env:APPDATA\opencode\"

# éªŒè¯
Test-Path "$env:APPDATA\opencode\antigravity-accounts.json"
```

:::

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ–‡ä»¶å­˜åœ¨äºé…ç½®ç›®å½•ã€‚

### ç¬¬ 5 æ­¥ï¼šéªŒè¯è¿ç§»ç»“æœ

**ä¸ºä»€ä¹ˆ**
ç¡®è®¤è´¦æˆ·å·²æ­£ç¡®åŠ è½½ã€‚

```bash
# åˆ—å‡ºè´¦æˆ·ï¼ˆä¼šè§¦å‘æ’ä»¶åŠ è½½è´¦æˆ·æ–‡ä»¶ï¼‰
opencode auth login

# å¦‚æœå·²æœ‰è´¦æˆ·ï¼Œä¼šæ˜¾ç¤ºï¼š
# 2 account(s) saved:
#   1. user1@gmail.com
#   2. user2@gmail.com
# (a)dd new account(s) or (f)resh start? [a/f]:
```

æŒ‰ `Ctrl+C` é€€å‡ºï¼ˆä¸éœ€è¦æ·»åŠ æ–°è´¦æˆ·ï¼‰ã€‚

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ’ä»¶æˆåŠŸè¯†åˆ«è´¦æˆ·åˆ—è¡¨ï¼ŒåŒ…æ‹¬è¿ç§»è¿‡æ¥çš„è´¦æˆ·é‚®ç®±ã€‚

### ç¬¬ 6 æ­¥ï¼šæµ‹è¯•é¦–æ¬¡è¯·æ±‚

**ä¸ºä»€ä¹ˆ**
éªŒè¯ refresh token ä»ç„¶æœ‰æ•ˆã€‚

```bash
# åœ¨ OpenCode ä¸­å‘èµ·ä¸€ä¸ªæµ‹è¯•è¯·æ±‚
# é€‰æ‹©ï¼šgoogle/antigravity-gemini-3-flash
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ¨¡å‹æ­£å¸¸å“åº”ã€‚

## æ£€æŸ¥ç‚¹ âœ…

- [ ] ç›®æ ‡æœºå™¨èƒ½åˆ—å‡ºè¿ç§»è¿‡æ¥çš„è´¦æˆ·
- [ ] æµ‹è¯•è¯·æ±‚æˆåŠŸï¼ˆæ— è®¤è¯é”™è¯¯ï¼‰
- [ ] æ’ä»¶æ—¥å¿—æ— é”™è¯¯æç¤º

## è¸©å‘æé†’

### é—®é¢˜ 1ï¼š"API key missing" é”™è¯¯

**ç°è±¡**ï¼šè¿ç§»åè¯·æ±‚æŠ¥é”™ `API key missing`ã€‚

**åŸå› **ï¼šrefresh token å¯èƒ½å·²è¿‡æœŸæˆ–è¢« Google æ’¤é”€ï¼ˆå¦‚å¯†ç æ›´æ”¹ã€å®‰å…¨äº‹ä»¶ï¼‰ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# æ¸…é™¤è´¦æˆ·æ–‡ä»¶ï¼Œé‡æ–°è®¤è¯
rm ~/.config/opencode/antigravity-accounts.json  # macOS/Linux
del "%APPDATA%\opencode\antigravity-accounts.json"  # Windows

opencode auth login
```

### é—®é¢˜ 2ï¼šæ’ä»¶ç‰ˆæœ¬ä¸å…¼å®¹

**ç°è±¡**ï¼šè¿ç§»åè´¦æˆ·æ–‡ä»¶æ— æ³•åŠ è½½ï¼Œæ—¥å¿—æç¤º `Unknown storage version`ã€‚

**åŸå› **ï¼šç›®æ ‡æœºå™¨çš„æ’ä»¶ç‰ˆæœ¬å¤ªæ—§ï¼Œä¸æ”¯æŒå½“å‰å­˜å‚¨æ ¼å¼ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
opencode plugin add opencode-antigravity-auth@latest

# é‡æ–°æµ‹è¯•
opencode auth login
```

### é—®é¢˜ 3ï¼šåŒé…é¢æ± æ•°æ®ä¸¢å¤±

**ç°è±¡**ï¼šè¿ç§»å Gemini æ¨¡å‹åªä½¿ç”¨ä¸€ä¸ªé…é¢æ± ï¼Œæ²¡æœ‰è‡ªåŠ¨ fallbackã€‚

**åŸå› **ï¼šè¿ç§»æ—¶åªå¤åˆ¶äº† `antigravity-accounts.json`ï¼Œä½†é…ç½®æ–‡ä»¶ `antigravity.json` æœªè¿ç§»ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

åŒæ—¶å¤åˆ¶é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœå¯ç”¨äº† `quota_fallback`ï¼‰ï¼š

::: code-group

```bash [macOS/Linux]
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp ~/.config/opencode/antigravity.json ~/.config/opencode/
```

```powershell [Windows]
# å¤åˆ¶é…ç½®æ–‡ä»¶
Copy-Item "$env:APPDATA\opencode\antigravity.json" "$env:APPDATA\opencode\"
```

:::

### é—®é¢˜ 4ï¼šæ–‡ä»¶æƒé™é”™è¯¯

**ç°è±¡**ï¼šmacOS/Linux ä¸Šæç¤º `Permission denied`ã€‚

**åŸå› **ï¼šæ–‡ä»¶æƒé™ä¸æ­£ç¡®ï¼Œæ’ä»¶æ— æ³•è¯»å–ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# ä¿®å¤æƒé™
chmod 600 ~/.config/opencode/antigravity-accounts.json
chown $USER ~/.config/opencode/antigravity-accounts.json
```

## å­˜å‚¨æ ¼å¼è‡ªåŠ¨è¿ç§»è¯¦è§£

æ’ä»¶åŠ è½½è´¦æˆ·æ—¶ï¼Œä¼šè‡ªåŠ¨æ£€æµ‹å­˜å‚¨ç‰ˆæœ¬å¹¶è¿ç§»ï¼š

```
v1 (æ—§ç‰ˆæœ¬)
  â†“ migrateV1ToV2()
v2
  â†“ migrateV2ToV3()
v3 (å½“å‰ç‰ˆæœ¬)
```

**è¿ç§»è§„åˆ™**ï¼š
- v1 â†’ v2ï¼šå°† `rateLimitResetTime` æ‹†åˆ†ä¸º `claude` å’Œ `gemini` ä¸¤ä¸ªå­—æ®µ
- v2 â†’ v3ï¼šå°† `gemini` æ‹†åˆ†ä¸º `gemini-antigravity` å’Œ `gemini-cli`ï¼ˆæ”¯æŒåŒé…é¢æ± ï¼‰
- è‡ªåŠ¨æ¸…ç†ï¼šè¿‡æœŸçš„é€Ÿç‡é™åˆ¶æ—¶é—´ä¼šè¢«è¿‡æ»¤æ‰ï¼ˆ`> Date.now()`ï¼‰

::: info è‡ªåŠ¨å»é‡
åŠ è½½è´¦æˆ·æ—¶ï¼Œæ’ä»¶ä¼šæ ¹æ®é‚®ç®±è‡ªåŠ¨å»é‡ï¼Œä¿ç•™æœ€æ–°çš„è´¦æˆ·ï¼ˆæŒ‰ `lastUsed` å’Œ `addedAt` æ’åºï¼‰ã€‚
:::

## æœ¬è¯¾å°ç»“

è¿ç§»è´¦æˆ·çš„æ ¸å¿ƒæ­¥éª¤ï¼š

1. **å®šä½æ–‡ä»¶**ï¼šåœ¨æºæœºå™¨æ‰¾åˆ° `antigravity-accounts.json`
2. **å¤åˆ¶ä¼ è¾“**ï¼šå®‰å…¨ä¼ è¾“åˆ°ç›®æ ‡æœºå™¨
3. **æ­£ç¡®æ”¾ç½®**ï¼šæ”¾åˆ°é…ç½®ç›®å½•ï¼ˆ`~/.config/opencode/` æˆ– `%APPDATA%\opencode\`ï¼‰
4. **éªŒè¯æµ‹è¯•**ï¼šè¿è¡Œ `opencode auth login` ç¡®è®¤è¯†åˆ«

æ’ä»¶ä¼š**è‡ªåŠ¨å¤„ç†ç‰ˆæœ¬è¿ç§»**ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹å­˜å‚¨æ–‡ä»¶æ ¼å¼ã€‚ä½†å¦‚æœé‡åˆ° `invalid_grant` é”™è¯¯ï¼Œåªèƒ½é‡æ–°è®¤è¯ã€‚

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[ToS è­¦å‘Š](../tos-warning/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - ä½¿ç”¨ Antigravity Auth å¯èƒ½é¢ä¸´çš„é£é™©
> - å¦‚ä½•é¿å…è´¦æˆ·è¢«å°ç¦
> - Google çš„æœåŠ¡æ¡æ¬¾é™åˆ¶

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-23

| åŠŸèƒ½        | æ–‡ä»¶è·¯å¾„                                                                                               | è¡Œå·    |
|--- | --- | ---|
| å­˜å‚¨æ ¼å¼å®šä¹‰ | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L128-L198)         | 128-198 |
| v1â†’v2 è¿ç§» | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L366-L395)         | 366-395 |
| v2â†’v3 è¿ç§» | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L397-L431)         | 397-431 |
| è´¦æˆ·åŠ è½½ï¼ˆå«è‡ªåŠ¨è¿ç§»ï¼‰ | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L433-L518) | 433-518 |
| é…ç½®ç›®å½•è·¯å¾„ | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L202-L213)         | 202-213 |
| æ–‡ä»¶å»é‡é€»è¾‘ | [`src/plugin/storage.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/plugin/storage.ts#L301-L364)         | 301-364 |

**å…³é”®æ¥å£**ï¼š

- `AccountStorageV3`ï¼ˆv3 å­˜å‚¨æ ¼å¼ï¼‰ï¼š
  ```typescript
  interface AccountStorageV3 {
    version: 3;
    accounts: AccountMetadataV3[];
    activeIndex: number;
    activeIndexByFamily?: { claude?: number; gemini?: number; };
  }
  ```

- `AccountMetadataV3`ï¼ˆè´¦æˆ·å…ƒæ•°æ®ï¼‰ï¼š
  ```typescript
  interface AccountMetadataV3 {
    email?: string;                    // Google è´¦æˆ·é‚®ç®±
    refreshToken: string;              // OAuth refresh tokenï¼ˆæ ¸å¿ƒï¼‰
    projectId?: string;                // GCP é¡¹ç›® ID
    managedProjectId?: string;         // æ‰˜ç®¡é¡¹ç›® ID
    addedAt: number;                   // æ·»åŠ æ—¶é—´æˆ³
    lastUsed: number;                  // æœ€åä½¿ç”¨æ—¶é—´
    lastSwitchReason?: "rate-limit" | "initial" | "rotation";
    rateLimitResetTimes?: RateLimitStateV3;  // é€Ÿç‡é™åˆ¶é‡ç½®æ—¶é—´ï¼ˆv3 æ”¯æŒåŒé…é¢æ± ï¼‰
    coolingDownUntil?: number;          // å†·å´ç»“æŸæ—¶é—´
    cooldownReason?: CooldownReason;   // å†·å´åŸå› 
  }
  ```

- `RateLimitStateV3`ï¼ˆv3 é€Ÿç‡é™åˆ¶çŠ¶æ€ï¼‰ï¼š
  ```typescript
  interface RateLimitStateV3 {
    claude?: number;                  // Claude é…é¢é‡ç½®æ—¶é—´
    "gemini-antigravity"?: number;    // Gemini Antigravity é…é¢é‡ç½®æ—¶é—´
    "gemini-cli"?: number;            // Gemini CLI é…é¢é‡ç½®æ—¶é—´
  }
  ```

**å…³é”®å‡½æ•°**ï¼š
- `loadAccounts()`ï¼šåŠ è½½è´¦æˆ·æ–‡ä»¶ï¼Œè‡ªåŠ¨æ£€æµ‹ç‰ˆæœ¬å¹¶è¿ç§»ï¼ˆstorage.ts:433ï¼‰
- `migrateV1ToV2()`ï¼šå°† v1 æ ¼å¼è¿ç§»åˆ° v2ï¼ˆstorage.ts:366ï¼‰
- `migrateV2ToV3()`ï¼šå°† v2 æ ¼å¼è¿ç§»åˆ° v3ï¼ˆstorage.ts:397ï¼‰
- `deduplicateAccountsByEmail()`ï¼šæ ¹æ®é‚®ç®±å»é‡ï¼Œä¿ç•™æœ€æ–°è´¦æˆ·ï¼ˆstorage.ts:301ï¼‰
- `getStoragePath()`ï¼šè·å–å­˜å‚¨æ–‡ä»¶è·¯å¾„ï¼Œè·¨å¹³å°å…¼å®¹ï¼ˆstorage.ts:215ï¼‰

**è¿ç§»é€»è¾‘**ï¼š
- æ£€æµ‹ `data.version` å­—æ®µï¼ˆstorage.ts:446ï¼‰
- v1ï¼šå…ˆè¿ç§»åˆ° v2ï¼Œå†è¿ç§»åˆ° v3ï¼ˆstorage.ts:447-457ï¼‰
- v2ï¼šç›´æ¥è¿ç§»åˆ° v3ï¼ˆstorage.ts:458-468ï¼‰
- v3ï¼šæ— éœ€è¿ç§»ï¼Œç›´æ¥åŠ è½½ï¼ˆstorage.ts:469-470ï¼‰
- è‡ªåŠ¨æ¸…ç†è¿‡æœŸçš„é€Ÿç‡é™åˆ¶æ—¶é—´ï¼ˆstorage.ts:404-410ï¼‰

</details>
