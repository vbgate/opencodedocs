---
title: "å¿«é€Ÿå¼€å§‹: å®‰è£…ä¸é…ç½® | opencode-supermemory"
sidebarTitle: "ç»™ Agent è£…ä¸ªå¤§è„‘"
subtitle: "å¿«é€Ÿå¼€å§‹: å®‰è£…ä¸é…ç½®"
description: "å­¦ä¹ å¦‚ä½•å®‰è£… opencode-supermemory æ’ä»¶ï¼Œé…ç½® API Keyï¼Œå¹¶è§£å†³ä¸ Oh My OpenCode çš„å†²çªï¼Œè®© Agent æ‹¥æœ‰æŒä¹…åŒ–è®°å¿†ã€‚"
tags:
  - "å®‰è£…"
  - "é…ç½®"
  - "å…¥é—¨"
prerequisite:
  - ""
order: 1
---

# å¿«é€Ÿå¼€å§‹ï¼šå®‰è£…ä¸é…ç½®

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

åœ¨æœ¬è¯¾ä¸­ï¼Œä½ å°†å­¦ä¼šï¼š
1.  å°† **opencode-supermemory** æ’ä»¶å®‰è£…åˆ°ä½ çš„ OpenCode ç¯å¢ƒä¸­ã€‚
2.  é…ç½® Supermemory API Keyï¼Œæ‰“é€šäº‘ç«¯è®°å¿†åº“ã€‚
3.  éªŒè¯æ’ä»¶æ˜¯å¦æˆåŠŸåŠ è½½ã€‚
4.  è§£å†³ä¸å…¶ä»–æ’ä»¶ï¼ˆå¦‚ Oh My OpenCodeï¼‰çš„æ½œåœ¨å†²çªã€‚

å®Œæˆåï¼Œä½ çš„ Agent å°†å…·å¤‡è¿æ¥äº‘ç«¯è®°å¿†åº“çš„åŸºç¡€èƒ½åŠ›ã€‚

## ä½ ç°åœ¨çš„å›°å¢ƒ

ä½ å¯èƒ½å·²ç»å‘ç°ï¼ŒOpenCode çš„ Agent è™½ç„¶èªæ˜ï¼Œä½†å®ƒå¾ˆå¥å¿˜ï¼š
- æ¯æ¬¡å¼€å¯æ–°ä¼šè¯ï¼Œå®ƒéƒ½åƒå¤±å¿†äº†ä¸€æ ·ï¼Œä¸è®°å¾—ä½ ä¹‹å‰çš„åå¥½ã€‚
- ä½ åœ¨é¡¹ç›® A é‡Œæ•™è¿‡å®ƒçš„æ¶æ„è§„èŒƒï¼Œåˆ°äº†é¡¹ç›® B å®ƒåˆå¿˜äº†ã€‚
- é•¿æ—¶é—´çš„ä¼šè¯èŠç€èŠç€ï¼Œå‰é¢çš„å…³é”®ä¿¡æ¯å°±è¢«"æŒ¤"å‡ºäº†ä¸Šä¸‹æ–‡ã€‚

ä½ éœ€è¦ä¸€ä¸ªå¤–æŒ‚å¤§è„‘ï¼Œå¸® Agent è®°ä½è¿™äº›ä¸œè¥¿ã€‚

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

- **ç¬¬ä¸€æ¬¡ä½¿ç”¨**ï¼šå½“ä½ åˆšæ¥è§¦ opencode-supermemory æ—¶ã€‚
- **é‡è£…ç¯å¢ƒ**ï¼šå½“ä½ è¿ç§»åˆ°æ–°ç”µè„‘æˆ–é‡ç½®äº† OpenCode é…ç½®æ—¶ã€‚
- **æ’æŸ¥é—®é¢˜**ï¼šå½“ä½ æ€€ç–‘æ’ä»¶æ²¡è£…å¥½ï¼Œæˆ–è€… API è¿æ¥æœ‰é—®é¢˜æ—¶ã€‚

---

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»ï¼š

1.  **å®‰è£…äº† OpenCode**ï¼šç¡®ä¿ `opencode` å‘½ä»¤åœ¨ç»ˆç«¯å¯ç”¨ã€‚
2.  **è·å–äº† API Key**ï¼š
    - è®¿é—® [Supermemory Console](https://console.supermemory.ai)
    - æ³¨å†Œ/ç™»å½•è´¦å·
    - åˆ›å»ºä¸€ä¸ªæ–°çš„ API Keyï¼ˆä»¥ `sm_` å¼€å¤´ï¼‰

::: info ä»€ä¹ˆæ˜¯ Supermemoryï¼Ÿ
Supermemory æ˜¯ä¸€ä¸ªä¸“é—¨ä¸º AI Agent è®¾è®¡çš„äº‘ç«¯è®°å¿†å±‚ã€‚å®ƒä¸ä»…èƒ½å­˜å‚¨æ•°æ®ï¼Œè¿˜èƒ½é€šè¿‡è¯­ä¹‰æœç´¢å¸® Agent åœ¨å¯¹çš„æ—¶é—´æƒ³èµ·å¯¹çš„äº‹æƒ…ã€‚
:::

---

## æ ¸å¿ƒæ€è·¯

å®‰è£…è¿‡ç¨‹éå¸¸ç®€å•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸‰æ­¥èµ°ï¼š

1.  **å®‰è£…æ’ä»¶**ï¼šè¿è¡Œå®‰è£…è„šæœ¬ï¼Œæ³¨å†Œæ’ä»¶åˆ° OpenCodeã€‚
2.  **é…ç½®å¯†é’¥**ï¼šå‘Šè¯‰æ’ä»¶ä½ çš„ API Key æ˜¯ä»€ä¹ˆã€‚
3.  **éªŒè¯è¿æ¥**ï¼šé‡å¯ OpenCodeï¼Œç¡®è®¤ Agent èƒ½çœ‹åˆ°æ–°å·¥å…·ã€‚

---

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šå®‰è£…æ’ä»¶

æˆ‘ä»¬æä¾›äº†ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œé€‰æ‹©é€‚åˆä½ çš„ä¸€ç§ã€‚

::: code-group

```bash [æˆ‘æ˜¯äººç±»ï¼ˆäº¤äº’å¼å®‰è£…ï¼‰]
# æ¨èï¼šä¼šæœ‰äº¤äº’å¼å¼•å¯¼ï¼Œå¸®ä½ è‡ªåŠ¨å¤„ç†é…ç½®
bunx opencode-supermemory@latest install
```

```bash [æˆ‘æ˜¯ Agentï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰]
# å¦‚æœä½ æ˜¯è®© Agent å¸®ä½ å®‰è£…ï¼Œè¯·ç”¨è¿™ä¸ªå‘½ä»¤ï¼ˆè·³è¿‡äº¤äº’ç¡®è®¤å¹¶è‡ªåŠ¨è§£å†³å†²çªï¼‰
bunx opencode-supermemory@latest install --no-tui --disable-context-recovery
```

:::

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
ç»ˆç«¯è¾“å‡º `âœ“ Setup complete!`ï¼Œè¡¨ç¤ºæ’ä»¶å·²æˆåŠŸæ³¨å†Œåˆ° `~/.config/opencode/opencode.jsonc`ã€‚

### ç¬¬ 2 æ­¥ï¼šé…ç½® API Key

æ’ä»¶éœ€è¦ API Key æ‰èƒ½è¯»å†™ä½ çš„äº‘ç«¯è®°å¿†ã€‚ä½ æœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼š

#### æ–¹å¼ Aï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

ç›´æ¥åœ¨ä½ çš„ Shell é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `.zshrc` æˆ– `.bashrc`ï¼‰ä¸­æ·»åŠ ï¼š

```bash
export SUPERMEMORY_API_KEY="sm_ä½ çš„å¯†é’¥..."
```

#### æ–¹å¼ Bï¼šé…ç½®æ–‡ä»¶

æˆ–è€…ï¼Œåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„é…ç½®æ–‡ä»¶ `~/.config/opencode/supermemory.jsonc`ï¼š

```json
{
  "apiKey": "sm_ä½ çš„å¯†é’¥..."
}
```

**ä¸ºä»€ä¹ˆ**ï¼šç¯å¢ƒå˜é‡æ›´å®‰å…¨ï¼Œä¸”ä¸ä¼šæ„å¤–æäº¤åˆ°ä»£ç ä»“åº“ï¼›é…ç½®æ–‡ä»¶åˆ™æ›´æ–¹ä¾¿ç®¡ç†å¤šé¡¹è®¾ç½®ã€‚

### ç¬¬ 3 æ­¥ï¼šè§£å†³å†²çªï¼ˆå¦‚æœä½ ç”¨äº† Oh My OpenCodeï¼‰

å¦‚æœä½ å®‰è£…äº† [Oh My OpenCode](https://github.com/code-yeongyu/oh-my-opencode)ï¼Œå®ƒè‡ªå¸¦çš„ä¸Šä¸‹æ–‡ç®¡ç†åŠŸèƒ½å¯èƒ½ä¼šä¸ Supermemory å†²çªã€‚

**æ£€æŸ¥æ–¹æ³•**ï¼š
å®‰è£…è„šæœ¬é€šå¸¸ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºä½ ç¦ç”¨å†²çªçš„é’©å­ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·æ‰‹åŠ¨æ£€æŸ¥ `~/.config/opencode/oh-my-opencode.json`ï¼š

```json
{
  "disabled_hooks": [
    "anthropic-context-window-limit-recovery"  // âœ… ç¡®ä¿è¿™ä¸€è¡Œå­˜åœ¨
  ]
}
```

**ä¸ºä»€ä¹ˆ**ï¼šSupermemory æä¾›äº†æ›´æ™ºèƒ½çš„"æŠ¢å å¼å‹ç¼©"ï¼ˆPreemptive Compactionï¼‰ï¼Œå¦‚æœä¸¤ä¸ªæ’ä»¶åŒæ—¶å°è¯•ç®¡ç†ä¸Šä¸‹æ–‡ï¼Œä¼šå¯¼è‡´æ··ä¹±ã€‚

### ç¬¬ 4 æ­¥ï¼šéªŒè¯å®‰è£…

é‡å¯ OpenCodeï¼Œç„¶åè¿è¡Œæ£€æŸ¥å‘½ä»¤ï¼š

```bash
opencode -c
```

æˆ–è€…ç›´æ¥è¿›å…¥ OpenCode äº¤äº’æ¨¡å¼ï¼ŒæŸ¥çœ‹å·¥å…·åˆ—è¡¨ã€‚

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
åœ¨å·¥å…·åˆ—è¡¨ï¼ˆToolsï¼‰ä¸­ï¼Œå‡ºç°äº† `supermemory` å·¥å…·ã€‚

```
Available Tools:
- supermemory (add, search, profile, list, forget)
...
```

---

## æ£€æŸ¥ç‚¹ âœ…

è¯·è‡ªæ£€ä»¥ä¸‹é¡¹ç›®ï¼Œç¡®ä¿ä¸€åˆ‡å°±ç»ªï¼š

- [ ] è¿è¡Œ `cat ~/.config/opencode/opencode.jsonc`ï¼Œèƒ½çœ‹åˆ° `"opencode-supermemory"` åœ¨ `plugin` åˆ—è¡¨ä¸­ã€‚
- [ ] ç¯å¢ƒå˜é‡ `SUPERMEMORY_API_KEY` å·²ç”Ÿæ•ˆï¼ˆå¯ä»¥ç”¨ `echo $SUPERMEMORY_API_KEY` æ£€æŸ¥ï¼‰ã€‚
- [ ] è¿è¡Œ `opencode` åï¼ŒAgent æ²¡æœ‰æŠ¥é”™æç¤ºã€‚

---

## è¸©å‘æé†’

::: warning å¸¸è§é”™è¯¯ï¼šAPI Key æ²¡ç”Ÿæ•ˆ
å¦‚æœä½ è®¾ç½®äº†ç¯å¢ƒå˜é‡ä½†æ’ä»¶æç¤ºæœªè®¤è¯ï¼Œè¯·æ£€æŸ¥ï¼š
1. ä½ æ˜¯å¦é‡å¯äº†ç»ˆç«¯ï¼Ÿï¼ˆä¿®æ”¹ `.zshrc` åéœ€è¦ `source ~/.zshrc` æˆ–é‡å¯ï¼‰
2. ä½ æ˜¯å¦é‡å¯äº† OpenCodeï¼Ÿï¼ˆOpenCode è¿›ç¨‹éœ€è¦é‡å¯æ‰èƒ½è¯»å–æ–°å˜é‡ï¼‰
:::

::: warning å¸¸è§é”™è¯¯ï¼šJSON æ ¼å¼é”™è¯¯
å¦‚æœä½ æ‰‹åŠ¨ä¿®æ”¹ `opencode.jsonc`ï¼Œè¯·ç¡®ä¿ JSON æ ¼å¼æ­£ç¡®ï¼ˆç‰¹åˆ«æ˜¯é€—å·ï¼‰ã€‚å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªï¼Œä½†æ‰‹åŠ¨ä¿®æ”¹å®¹æ˜“å‡ºé”™ã€‚
:::

---

## æœ¬è¯¾å°ç»“

æ­å–œï¼ä½ å·²ç»æˆåŠŸç»™ OpenCode è£…ä¸Šäº†"æµ·é©¬ä½“"ã€‚ç°åœ¨ï¼Œä½ çš„ Agent å·²ç»å‡†å¤‡å¥½å¼€å§‹è®°å¿†äº†ã€‚

- æˆ‘ä»¬å®‰è£…äº† `opencode-supermemory` æ’ä»¶ã€‚
- æˆ‘ä»¬é…ç½®äº†äº‘ç«¯è¿æ¥å‡­è¯ã€‚
- æˆ‘ä»¬æ’é™¤äº†æ½œåœ¨çš„æ’ä»¶å†²çªã€‚

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[é¡¹ç›®åˆå§‹åŒ–ï¼šå»ºç«‹ç¬¬ä¸€å°è±¡](../initialization/index.md)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - å¦‚ä½•ç”¨ä¸€æ¡å‘½ä»¤è®© Agent æ·±åº¦æ‰«ææ•´ä¸ªé¡¹ç›®ã€‚
> - å¦‚ä½•è®© Agent è®°ä½é¡¹ç›®çš„æ¶æ„ã€æŠ€æœ¯æ ˆå’Œéšæ€§è§„åˆ™ã€‚
> - å¦‚ä½•æŸ¥çœ‹ Agent åˆ°åº•è®°ä½äº†ä»€ä¹ˆã€‚

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-23

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾„ | è¡Œå· |
|--- | --- | ---|
| å®‰è£…è„šæœ¬é€»è¾‘ | [`src/cli.ts`](https://github.com/supermemoryai/opencode-supermemory/blob/main/src/cli.ts#L327-L410) | 327-410 |
| æ’ä»¶æ³¨å†Œé€»è¾‘ | [`src/cli.ts`](https://github.com/supermemoryai/opencode-supermemory/blob/main/src/cli.ts#L195-L248) | 195-248 |
| å†²çªæ£€æµ‹é€»è¾‘ | [`src/cli.ts`](https://github.com/supermemoryai/opencode-supermemory/blob/main/src/cli.ts#L273-L320) | 273-320 |
| é…ç½®æ–‡ä»¶åŠ è½½ | [`src/config.ts`](https://github.com/supermemoryai/opencode-supermemory/blob/main/src/config.ts) | - |

</details>
