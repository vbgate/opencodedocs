---
title: "macOS åº”ç”¨å®Œæ•´æŒ‡å—ï¼šèœå•æ ã€Voice Wakeã€Talk Mode ä¸èŠ‚ç‚¹æ¨¡å¼ | Clawdbot æ•™ç¨‹"
sidebarTitle: "Mac å˜æˆ AI åŠ©æ‰‹"
subtitle: "macOS åº”ç”¨å®Œæ•´æŒ‡å—ï¼šèœå•æ ã€Voice Wakeã€Talk Mode ä¸èŠ‚ç‚¹æ¨¡å¼"
description: "å­¦ä¹  Clawdbot macOS åº”ç”¨çš„å®Œæ•´åŠŸèƒ½ï¼ŒåŒ…æ‹¬èœå•æ çŠ¶æ€ç®¡ç†ã€WebChat å†…åµŒçª—å£ã€Voice Wake è¯­éŸ³å”¤é†’ã€Talk Mode è¿ç»­å¯¹è¯ã€èŠ‚ç‚¹æ¨¡å¼æ‰§è¡Œã€Exec Approvals å®‰å…¨æ§åˆ¶å’Œ SSH/Tailscale è¿œç¨‹è®¿é—®é…ç½®ã€‚æŒæ¡æœ¬åœ° vs è¿œç¨‹æ¨¡å¼çš„åˆ‡æ¢å’Œæƒé™ç®¡ç†æœ€ä½³å®è·µã€‚"
tags:
  - "macOS"
  - "èœå•æ åº”ç”¨"
  - "Voice Wake"
  - "Talk Mode"
  - "èŠ‚ç‚¹æ¨¡å¼"
prerequisite:
  - "start-getting-started"
order: 160
---

# macOS åº”ç”¨ï¼šèœå•æ æ§åˆ¶ä¸è¯­éŸ³äº¤äº’

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

å®Œæˆæœ¬æ•™ç¨‹åï¼Œä½ å°†èƒ½å¤Ÿï¼š

- âœ… äº†è§£ Clawdbot macOS åº”ç”¨ä½œä¸ºèœå•æ æ§åˆ¶å¹³é¢çš„æ ¸å¿ƒåŠŸèƒ½
- âœ… æŒæ¡ Voice Wake è¯­éŸ³å”¤é†’å’Œ Talk Mode è¿ç»­å¯¹è¯çš„ä½¿ç”¨
- âœ… ç†è§£èŠ‚ç‚¹æ¨¡å¼ä¸‹çš„ `system.run`ã€Canvasã€Camera ç­‰èƒ½åŠ›
- âœ… é…ç½®æœ¬åœ° vs è¿œç¨‹æ¨¡å¼ä»¥é€‚åº”ä¸åŒéƒ¨ç½²åœºæ™¯
- âœ… ç®¡ç† Exec Approvals å®¡æ‰¹æœºåˆ¶ä»¥æ§åˆ¶å‘½ä»¤æ‰§è¡Œæƒé™
- âœ… ä½¿ç”¨æ·±åº¦é“¾æ¥å¿«é€Ÿè§¦å‘ AI åŠ©æ‰‹
- âœ… é€šè¿‡ SSH/Tailscale è¿œç¨‹è®¿é—®å’Œæ§åˆ¶ Gateway

## ä½ ç°åœ¨çš„å›°å¢ƒ

ä½ å¯èƒ½æ­£åœ¨æƒ³ï¼š

- "macOS åº”ç”¨åˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ˜¯ Gateway æœ¬èº«å—ï¼Ÿ"
- "Voice Wake å’Œ Talk Mode æ€ä¹ˆç”¨ï¼Ÿéœ€è¦é¢å¤–ç¡¬ä»¶å—ï¼Ÿ"
- "èŠ‚ç‚¹æ¨¡å¼å’Œæ™®é€šæ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Ÿ"
- "å¦‚ä½•åœ¨ macOS ä¸Šç®¡ç†æƒé™å’Œå®‰å…¨è®¾ç½®ï¼Ÿ"
- "æˆ‘å¯ä»¥åœ¨å¦ä¸€å°æœºå™¨ä¸Šè¿è¡Œ Gateway å—ï¼Ÿ"

å¥½æ¶ˆæ¯æ˜¯ï¼š**Clawdbot macOS åº”ç”¨æ˜¯ Gateway çš„å›¾å½¢åŒ–æ§åˆ¶å¹³é¢**ï¼Œå®ƒä¸è¿è¡Œ Gateway æœåŠ¡ï¼Œè€Œæ˜¯è¿æ¥ã€ç®¡ç†å’Œç›‘æ§ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿä½œä¸ºèŠ‚ç‚¹æš´éœ² macOS ç‰¹æœ‰åŠŸèƒ½ï¼ˆå¦‚ `system.run`ã€Canvasã€Cameraï¼‰ç»™è¿œç¨‹ Gatewayã€‚

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

å½“ä½ éœ€è¦ï¼š

- ğŸ–¥ï¸ **macOS å›¾å½¢åŒ–ç®¡ç†** â€”â€” èœå•æ çŠ¶æ€å’Œæ§åˆ¶ï¼Œæ¯”å‘½ä»¤è¡Œæ›´ç›´è§‚
- ğŸ™ï¸ **è¯­éŸ³äº¤äº’** â€”â€” Voice Wake å”¤é†’ + Talk Mode è¿ç»­å¯¹è¯
- ğŸ’» **æœ¬åœ°å‘½ä»¤æ‰§è¡Œ** â€”â€” åœ¨ macOS èŠ‚ç‚¹ä¸Šè¿è¡Œ `system.run` ç­‰å‘½ä»¤
- ğŸ¨ **Canvas å¯è§†åŒ–** â€”â€” åœ¨ macOS ä¸Šæ¸²æŸ“ AI é©±åŠ¨çš„å¯è§†åŒ–ç•Œé¢
- ğŸ“· **è®¾å¤‡åŠŸèƒ½** â€”â€” Camera æ‹ç…§ã€å½•åƒå’Œå±å¹•å½•åˆ¶
- ğŸŒ **è¿œç¨‹è®¿é—®** â€”â€” é€šè¿‡ SSH/Tailscale æ§åˆ¶è¿œç¨‹ Gateway

::: info èŠ‚ç‚¹ vs Gateway çš„åŒºåˆ«
- **Gateway**ï¼šè¿è¡Œ AI æ¨¡å‹ã€ç®¡ç†ä¼šè¯ã€å¤„ç†æ¶ˆæ¯ï¼ˆå¯ä»¥åœ¨ä»»ä½•æœºå™¨ä¸Šè¿è¡Œï¼‰
- **èŠ‚ç‚¹ï¼ˆNodeï¼‰**ï¼šæš´éœ²è®¾å¤‡æœ¬åœ°åŠŸèƒ½ï¼ˆCanvasã€Cameraã€system.runï¼‰ç»™ Gateway
- **macOS åº”ç”¨**ï¼šæ—¢å¯ä»¥æ˜¯ Gateway å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºèŠ‚ç‚¹ä½¿ç”¨
:::

---

## æ ¸å¿ƒæ€è·¯

Clawdbot macOS åº”ç”¨æ˜¯ä¸€ä¸ª**åŒé‡è§’è‰²**çš„ç³»ç»Ÿï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Clawdbot.app (macOS åº”ç”¨)       â”‚
â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  èœå•æ æ§åˆ¶å¹³é¢          â”‚      â”‚
â”‚   â”‚  â€¢ Gateway è¿æ¥ç®¡ç†         â”‚â—„â”€â”€â”€â”€â–º Gateway WebSocket
â”‚   â”‚  â€¢ WebChat å†…åµŒçª—å£       â”‚      â”‚
â”‚   â”‚  â€¢ è®¾ç½®å’Œé…ç½®             â”‚      â”‚
â”‚   â”‚  â€¢ Voice Wake/Talk Mode    â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  èŠ‚ç‚¹æœåŠ¡              â”‚      â”‚
â”‚   â”‚  â€¢ system.run              â”‚â—„â”€â”€â”€â”€â–º Gateway èŠ‚ç‚¹åè®®
â”‚   â”‚  â€¢ Canvas                 â”‚      â”‚
â”‚   â”‚  â€¢ Camera/Screen          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸¤ç§è¿è¡Œæ¨¡å¼**ï¼š

| æ¨¡å¼ | Gateway ä½ç½® | èŠ‚ç‚¹æœåŠ¡ | é€‚ç”¨åœºæ™¯ |
|--- | --- | --- | ---|
| **æœ¬åœ°æ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰ | æœ¬æœºï¼ˆlaunchd å®ˆæŠ¤è¿›ç¨‹ï¼‰ | ä¸å¯åŠ¨ | Gateway åœ¨è¿™å° Mac ä¸Šè¿è¡Œ |
| **è¿œç¨‹æ¨¡å¼** | è¿œç¨‹æœºå™¨ï¼ˆé€šè¿‡ SSH/Tailscaleï¼‰ | å¯åŠ¨ | Gateway åœ¨å…¶ä»–æœºå™¨ä¸Šè¿è¡Œ |

**æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**ï¼š

1. **èœå•æ æ§åˆ¶** â€”â€” Gateway è¿æ¥çŠ¶æ€ã€WebChatã€é…ç½®ã€ä¼šè¯ç®¡ç†
2. **Voice Wake** â€”â€” å…¨å±€è¯­éŸ³å”¤é†’è¯ç›‘å¬
3. **Talk Mode** â€”â€” è¿ç»­è¯­éŸ³å¯¹è¯å¾ªç¯ï¼ˆè¯­éŸ³è¾“å…¥ â†’ AI å›å¤ â†’ TTS æ’­æ”¾ï¼‰
4. **èŠ‚ç‚¹æ¨¡å¼** â€”â€” æš´éœ² macOS ç‰¹æœ‰å‘½ä»¤ï¼ˆ`system.run`ã€`canvas.*`ã€`camera.*`ï¼‰
5. **Exec Approvals** â€”â€” `system.run` å‘½ä»¤æ‰§è¡Œå®¡æ‰¹å’Œå®‰å…¨æ§åˆ¶
6. **æ·±åº¦é“¾æ¥** â€”â€” `clawdbot://` åè®®å¿«é€Ÿè§¦å‘åŠŸèƒ½

---

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šå®‰è£…å’Œå¯åŠ¨ macOS åº”ç”¨

**ä¸ºä»€ä¹ˆ**
ä½ éœ€è¦å®‰è£… Clawdbot macOS åº”ç”¨æ¥è·å¾—èœå•æ æ§åˆ¶å’Œè¯­éŸ³åŠŸèƒ½ã€‚

**å®‰è£…æ–¹å¼**ï¼š

::: code-group

```bash [ä½¿ç”¨ Homebrew å®‰è£…]
brew install --cask clawdbot
```

```bash [æ‰‹åŠ¨ä¸‹è½½ .dmg]
# ä» https://github.com/clawdbot/clawdbot/releases ä¸‹è½½æœ€æ–°çš„ Clawdbot.app.dmg
# æ‹–åŠ¨åˆ° Applications æ–‡ä»¶å¤¹
```

:::

**é¦–æ¬¡å¯åŠ¨**ï¼š

```bash
open /Applications/Clawdbot.app
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- macOS é¡¶éƒ¨èœå•æ å‡ºç° ğŸ¦ å›¾æ ‡
- ç‚¹å‡»å›¾æ ‡å±•å¼€ä¸‹æ‹‰èœå•
- ç³»ç»Ÿå¼¹å‡º TCC æƒé™è¯·æ±‚å¯¹è¯æ¡†

::: tip ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æƒé™è¯·æ±‚
macOS åº”ç”¨éœ€è¦ä»¥ä¸‹æƒé™ï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨å¼¹å‡ºæç¤ºï¼‰ï¼š
- **é€šçŸ¥æƒé™** â€”â€” æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
- **è¾…åŠ©åŠŸèƒ½æƒé™** â€”â€” ç”¨äº Voice Wake å’Œç³»ç»Ÿæ“ä½œ
- **éº¦å…‹é£æƒé™** â€”â€” Voice Wake å’Œ Talk Mode éœ€è¦
- **å±å¹•å½•åˆ¶æƒé™** â€”â€” Canvas å’Œå±å¹•å½•åˆ¶åŠŸèƒ½
- **è¯­éŸ³è¯†åˆ«æƒé™** â€”â€” Voice Wake çš„è¯­éŸ³è¾“å…¥
- **è‡ªåŠ¨åŒ–æƒé™** â€”â€” AppleScript æ§åˆ¶ï¼ˆå¦‚éœ€è¦ï¼‰

æ‰€æœ‰è¿™äº›æƒé™éƒ½æ˜¯**å®Œå…¨æœ¬åœ°**ä½¿ç”¨ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚
:::

---

### ç¬¬ 2 æ­¥ï¼šé…ç½®è¿æ¥æ¨¡å¼ï¼ˆæœ¬åœ° vs è¿œç¨‹ï¼‰

**ä¸ºä»€ä¹ˆ**
æ ¹æ®ä½ çš„éƒ¨ç½²éœ€æ±‚é€‰æ‹©æœ¬åœ°æˆ–è¿œç¨‹æ¨¡å¼ã€‚

#### æ¨¡å¼ Aï¼šæœ¬åœ°æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

é€‚ç”¨åœºæ™¯ï¼šGateway å’Œ macOS åº”ç”¨åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œã€‚

**é…ç½®æ­¥éª¤**ï¼š

1. ç¡®ä¿èœå•æ åº”ç”¨ä¸­æ˜¾ç¤º **Local** æ¨¡å¼
2. å¦‚æœ Gateway æœªè¿è¡Œï¼Œåº”ç”¨ä¼šè‡ªåŠ¨å¯åŠ¨ `com.clawdbot.gateway` launchd æœåŠ¡
3. åº”ç”¨ä¼šè¿æ¥åˆ° `ws://127.0.0.1:18789`

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- èœå•æ å›¾æ ‡æ˜¾ç¤ºç»¿è‰²ï¼ˆå·²è¿æ¥çŠ¶æ€ï¼‰
- Gateway çŠ¶æ€å¡ç‰‡æ˜¾ç¤º"Local"
- èŠ‚ç‚¹æœåŠ¡**æœªå¯åŠ¨**ï¼ˆèŠ‚ç‚¹æ¨¡å¼åœ¨è¿œç¨‹æ¨¡å¼ä¸‹æ‰éœ€è¦ï¼‰

#### æ¨¡å¼ Bï¼šè¿œç¨‹æ¨¡å¼

é€‚ç”¨åœºæ™¯ï¼šGateway åœ¨å¦ä¸€å°æœºå™¨ï¼ˆå¦‚æœåŠ¡å™¨æˆ– Linux VPSï¼‰ä¸Šè¿è¡Œï¼Œä½ æƒ³é€šè¿‡ Mac æ§åˆ¶å®ƒã€‚

**é…ç½®æ­¥éª¤**ï¼š

1. åœ¨èœå•æ åº”ç”¨ä¸­åˆ‡æ¢åˆ° **Remote** æ¨¡å¼
2. è¾“å…¥è¿œç¨‹ Gateway çš„ WebSocket åœ°å€ï¼ˆå¦‚ `ws://your-server:18789`ï¼‰
3. é€‰æ‹©è®¤è¯æ–¹å¼ï¼ˆToken æˆ– Passwordï¼‰
4. åº”ç”¨ä¼šè‡ªåŠ¨å»ºç«‹ SSH éš§é“è¿æ¥è¿œç¨‹ Gateway

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- èœå•æ å›¾æ ‡æ˜¾ç¤ºè¿æ¥çŠ¶æ€ï¼ˆé»„è‰²/ç»¿è‰²/çº¢è‰²ï¼‰
- Gateway çŠ¶æ€å¡ç‰‡æ˜¾ç¤ºè¿œç¨‹æœåŠ¡å™¨åœ°å€
- èŠ‚ç‚¹æœåŠ¡**è‡ªåŠ¨å¯åŠ¨**ï¼ˆä»¥ä¾¿è¿œç¨‹ Gateway è°ƒç”¨æœ¬åœ°åŠŸèƒ½ï¼‰

**è¿œç¨‹æ¨¡å¼çš„éš§é“æœºåˆ¶**ï¼š

```
macOS åº”ç”¨                     è¿œç¨‹ Gateway
    â”‚                                  â”‚
    â”œâ”€â”€ SSH éš§é“ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ws://remote:18789
    â”‚                                  â”‚
    â””â”€â”€ èŠ‚ç‚¹æœåŠ¡ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ node.invoke
```

::: tip è¿œç¨‹æ¨¡å¼çš„ä¼˜åŠ¿
- **é›†ä¸­ç®¡ç†**ï¼šåœ¨ä¸€å°å¼ºå¤§çš„æœºå™¨ä¸Šè¿è¡Œ Gatewayï¼Œå¤šå°å®¢æˆ·ç«¯è®¿é—®
- **èµ„æºä¼˜åŒ–**ï¼šMac å¯ä»¥ä¿æŒè½»é‡ï¼ŒGateway è¿è¡Œåœ¨é«˜æ€§èƒ½æœåŠ¡å™¨ä¸Š
- **è®¾å¤‡æœ¬åœ°åŒ–**ï¼šCanvasã€Camera ç­‰åŠŸèƒ½ä»åœ¨ Mac æœ¬åœ°æ‰§è¡Œ
:::

---

### ç¬¬ 3 æ­¥ï¼šä½¿ç”¨èœå•æ æ§åˆ¶å¹³é¢

**ä¸ºä»€ä¹ˆ**
èœå•æ åº”ç”¨æä¾›äº†å¿«é€Ÿè®¿é—®æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½çš„ç•Œé¢ã€‚

**æ ¸å¿ƒèœå•é¡¹**ï¼š

ç‚¹å‡»èœå•æ å›¾æ ‡åï¼Œä½ ä¼šçœ‹åˆ°ï¼š

1. **çŠ¶æ€å¡ç‰‡**
   - Gateway è¿æ¥çŠ¶æ€ï¼ˆå·²è¿æ¥/æ–­å¼€/è¿æ¥ä¸­ï¼‰
   - å½“å‰æ¨¡å¼ï¼ˆLocal/Remoteï¼‰
   - è¿è¡Œçš„æ¸ é“åˆ—è¡¨ï¼ˆWhatsAppã€Telegram ç­‰ï¼‰

2. **å¿«é€Ÿæ“ä½œ**
   - **Agent** â€”â€” æ‰“å¼€ AI å¯¹è¯çª—å£ï¼ˆè°ƒç”¨ Gatewayï¼‰
   - **WebChat** â€”â€” æ‰“å¼€å†…åµŒ WebChat ç•Œé¢
   - **Canvas** â€”â€” æ‰“å¼€ Canvas å¯è§†åŒ–çª—å£
   - **Settings** â€”â€” æ‰“å¼€é…ç½®ç•Œé¢

3. **åŠŸèƒ½å¼€å…³**
   - **Talk** â€”â€” å¯ç”¨/ç¦ç”¨ Talk Mode
   - **Voice Wake** â€”â€” å¯ç”¨/ç¦ç”¨ Voice Wake

4. **ä¿¡æ¯èœå•**
   - **Usage** â€”â€” æŸ¥çœ‹ä½¿ç”¨ç»Ÿè®¡å’Œæˆæœ¬
   - **Sessions** â€”â€” ç®¡ç†ä¼šè¯åˆ—è¡¨
   - **Channels** â€”â€” æŸ¥çœ‹æ¸ é“çŠ¶æ€
   - **Skills** â€”â€” ç®¡ç†æŠ€èƒ½åŒ…

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å®æ—¶æ›´æ–°çš„çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆç»¿è‰² = æ­£å¸¸ï¼Œçº¢è‰² = æ–­å¼€ï¼‰
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†çš„è¿æ¥ä¿¡æ¯
- ç‚¹å‡»ä»»ä½•èœå•é¡¹éƒ½èƒ½å¿«é€Ÿæ‰“å¼€å¯¹åº”åŠŸèƒ½

---

### ç¬¬ 4 æ­¥ï¼šé…ç½®å’Œä½¿ç”¨ Voice Wake

**ä¸ºä»€ä¹ˆ**
Voice Wake å…è®¸ä½ é€šè¿‡è¯­éŸ³å”¤é†’è¯è§¦å‘ AI åŠ©æ‰‹ï¼Œæ— éœ€ç‚¹å‡»æˆ–è¾“å…¥ã€‚

**Voice Wake å·¥ä½œåŸç†**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Voice Wake è¿è¡Œæ—¶          â”‚
â”‚                              â”‚
â”‚   ç›‘å¬éº¦å…‹é£ â”€â”€â–º æ£€æµ‹å”¤é†’è¯  â”‚
â”‚                              â”‚
â”‚   å”¤é†’è¯åŒ¹é…ï¼Ÿ                   â”‚
â”‚       â”‚                       â”‚
â”‚       â”œâ”€ æ˜¯ â”€â”€â–º è§¦å‘ Agent  â”‚
â”‚       â”‚                       â”‚
â”‚       â””â”€ å¦ â”€â”€â–º ç»§ç»­ç›‘å¬  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é…ç½® Voice Wake**ï¼š

1. æ‰“å¼€ **Settings** â†’ **Voice Wake**
2. è¾“å…¥å”¤é†’è¯ï¼ˆé»˜è®¤ï¼š`clawd`ã€`claude`ã€`computer`ï¼‰
3. å¯ä»¥æ·»åŠ å¤šä¸ªå”¤é†’è¯ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
4. å¯ç”¨ **Enable Voice Wake** å¼€å…³

**å”¤é†’è¯è§„åˆ™**ï¼š
- å”¤é†’è¯å­˜å‚¨åœ¨ Gatewayï¼š`~/.clawdbot/settings/voicewake.json`
- æ‰€æœ‰èŠ‚ç‚¹å…±äº«**åŒä¸€ä»½å…¨å±€å”¤é†’è¯åˆ—è¡¨**
- æ›´æ”¹åå¹¿æ’­åˆ°æ‰€æœ‰è¿æ¥çš„è®¾å¤‡ï¼ˆmacOSã€iOSã€Androidï¼‰

**ä½¿ç”¨æµç¨‹**ï¼š

1. ç¡®ä¿éº¦å…‹é£æƒé™å·²æˆäºˆ
2. åœ¨èœå•æ å¯ç”¨ Voice Wake
3. å¯¹ç€éº¦å…‹é£è¯´å”¤é†’è¯ï¼ˆå¦‚"Hey clawd"ï¼‰
4. ç­‰å¾…å¬åˆ°"å®"æç¤ºéŸ³ï¼ˆè¡¨ç¤ºå”¤é†’æˆåŠŸï¼‰
5. è¯´å‡ºä½ çš„æŒ‡ä»¤æˆ–é—®é¢˜

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å±å¹•ä¸­å¤®å‡ºç° Voice Wake å åŠ å±‚
- æ˜¾ç¤ºéº¦å…‹é£éŸ³é‡æ³¢å½¢
- æ˜¾ç¤º"Listening"çŠ¶æ€æ–‡æœ¬
- AI å¼€å§‹å¤„ç†ä½ çš„è¯­éŸ³è¾“å…¥

::: tip Voice Wake çš„å…¨å±€ç‰¹æ€§
å”¤é†’è¯æ˜¯ **Gateway çº§åˆ«çš„å…¨å±€é…ç½®**ï¼Œä¸é™äºå•ä¸ªè®¾å¤‡ã€‚è¿™æ„å‘³ç€ï¼š
- åœ¨ macOS ä¸Šä¿®æ”¹å”¤é†’è¯åï¼ŒiOS å’Œ Android è®¾å¤‡ä¹Ÿä¼šåŒæ­¥
- æ‰€æœ‰è®¾å¤‡éƒ½ä½¿ç”¨åŒä¸€ç»„å”¤é†’è¯
- ä½†æ¯ä¸ªè®¾å¤‡å¯ä»¥å•ç‹¬å¯ç”¨/ç¦ç”¨ Voice Wakeï¼ˆåŸºäºæƒé™å’Œç”¨æˆ·åå¥½ï¼‰
:::

---

### ç¬¬ 5 æ­¥ï¼šä½¿ç”¨ Talk Mode è¿ç»­å¯¹è¯

**ä¸ºä»€ä¹ˆ**
Talk Mode æä¾›äº†ç±»ä¼¼ Siri/Alexa çš„è¿ç»­è¯­éŸ³å¯¹è¯ä½“éªŒï¼Œæ— éœ€æ¯æ¬¡éƒ½å”¤é†’ã€‚

**Talk Mode å·¥ä½œå¾ªç¯**ï¼š

```
ç›‘å¬ â”€â”€â–º AI å¤„ç† â”€â”€â–º TTS æ’­æ”¾ â”€â”€â–º ç›‘å¬
  â”‚                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¯ç”¨ Talk Mode**ï¼š

1. åœ¨èœå•æ ç‚¹å‡» **Talk** æŒ‰é’®
2. æˆ–è€…ä½¿ç”¨å¿«æ·é”®ï¼ˆé»˜è®¤ï¼šæ— ï¼Œå¯ä»¥åœ¨ Settings ä¸­è®¾ç½®ï¼‰
3. Talk Mode å åŠ å±‚å‡ºç°

**Talk Mode ç•Œé¢çŠ¶æ€**ï¼š

| çŠ¶æ€ | æ˜¾ç¤º | è¯´æ˜ |
|--- | --- | ---|
| **Listening** | äº‘æœµè„‰å†²åŠ¨ç”» + éº¦å…‹é£éŸ³é‡ | ç­‰å¾…ä½ è¯´è¯ |
| **Thinking** | ä¸‹æ²‰åŠ¨ç”» | AI æ­£åœ¨æ€è€ƒ |
| **Speaking** | è¾å°„ç¯åŠ¨ç”» + æ³¢çº¹ | AI æ­£åœ¨å›å¤ï¼ˆTTS æ’­æ”¾ä¸­ï¼‰ |

**äº¤äº’æ§åˆ¶**ï¼š

- **åœæ­¢è¯´è¯**ï¼šç‚¹å‡»äº‘æœµå›¾æ ‡åœæ­¢ TTS æ’­æ”¾
- **é€€å‡º Talk Mode**ï¼šç‚¹å‡»å³ä¸Šè§’ X æŒ‰é’®
- **è¯­éŸ³ä¸­æ–­**ï¼šAI è¯´è¯æ—¶å¦‚æœä½ å¼€å§‹è¯´è¯ï¼Œè‡ªåŠ¨åœæ­¢æ’­æ”¾

**é…ç½® TTS**ï¼š

Talk Mode ä½¿ç”¨ ElevenLabs è¿›è¡Œæ–‡æœ¬è½¬è¯­éŸ³ã€‚é…ç½®ä½ç½®ï¼š`~/.clawdbot/clawdbot.json`

```yaml
talk:
  voiceId: "elevenlabs_voice_id"  # ElevenLabs è¯­éŸ³ ID
  modelId: "eleven_v3"            # æ¨¡å‹ç‰ˆæœ¬
  apiKey: "elevenlabs_api_key"     # API å¯†é’¥ï¼ˆæˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰
  interruptOnSpeech: true           # è¯­éŸ³æ—¶ä¸­æ–­
  outputFormat: "mp3_44100_128"   # è¾“å‡ºæ ¼å¼
```

::: tip ElevenLabs é…ç½®
å¦‚æœæ²¡æœ‰é…ç½® API å¯†é’¥ï¼ŒTalk Mode ä¼šå°è¯•ä½¿ç”¨ï¼š
1. `ELEVENLABS_API_KEY` ç¯å¢ƒå˜é‡
2. Gateway shell profile ä¸­çš„å¯†é’¥
3. ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨çš„ ElevenLabs è¯­éŸ³ä½œä¸ºé»˜è®¤
:::

---

### ç¬¬ 6 æ­¥ï¼šä½¿ç”¨èŠ‚ç‚¹æ¨¡å¼

**ä¸ºä»€ä¹ˆ**
èŠ‚ç‚¹æ¨¡å¼å…è®¸ macOS åº”ç”¨æš´éœ²æœ¬åœ°èƒ½åŠ›ç»™è¿œç¨‹ Gatewayï¼Œå®ç°çœŸæ­£çš„è·¨è®¾å¤‡åä½œã€‚

**èŠ‚ç‚¹æ¨¡å¼ä¸‹çš„å¯ç”¨å‘½ä»¤**ï¼š

| å‘½ä»¤ç±»åˆ« | å‘½ä»¤ç¤ºä¾‹ | åŠŸèƒ½è¯´æ˜ |
|--- | --- | ---|
| **Canvas** | `canvas.present`ã€`canvas.navigate`ã€`canvas.eval` | åœ¨ macOS ä¸Šæ¸²æŸ“å¯è§†åŒ–ç•Œé¢ |
| **Camera** | `camera.snap`ã€`camera.clip` | æ‹ç…§æˆ–å½•åƒ |
| **Screen** | `screen.record` | å±å¹•å½•åˆ¶ |
| **System** | `system.run`ã€`system.notify` | æ‰§è¡Œ Shell å‘½ä»¤æˆ–å‘é€é€šçŸ¥ |

**å¯ç”¨èŠ‚ç‚¹æ¨¡å¼**ï¼š

èŠ‚ç‚¹æ¨¡å¼åœ¨ **è¿œç¨‹æ¨¡å¼ä¸‹è‡ªåŠ¨å¯åŠ¨**ï¼Œå› ä¸ºè¿œç¨‹ Gateway éœ€è¦è°ƒç”¨æœ¬åœ°åŠŸèƒ½ã€‚

ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¯åŠ¨èŠ‚ç‚¹æœåŠ¡ï¼š

```bash
clawdbot node run --display-name "My Mac"
```

**èŠ‚ç‚¹æƒé™ç®¡ç†**ï¼š

macOS åº”ç”¨é€šè¿‡æƒé™ç³»ç»ŸæŠ¥å‘Šå“ªäº›åŠŸèƒ½å¯ç”¨ï¼š

```json
{
  "canvas": true,
  "camera": true,
  "screen": true,
  "system": {
    "run": true,
    "notify": true
  }
}
```

AI ä¼šæ ¹æ®æƒé™è‡ªåŠ¨é€‰æ‹©å¯ç”¨çš„å·¥å…·ã€‚

---

### ç¬¬ 7 æ­¥ï¼šé…ç½® Exec Approvalsï¼ˆ`system.run` å®‰å…¨æ§åˆ¶ï¼‰

**ä¸ºä»€ä¹ˆ**
`system.run` å¯ä»¥æ‰§è¡Œä»»æ„ Shell å‘½ä»¤ï¼Œå› æ­¤éœ€è¦å®¡æ‰¹æœºåˆ¶é˜²æ­¢è¯¯æ“ä½œæˆ–æ»¥ç”¨ã€‚

**Exec Approvals ä¸‰å±‚å®‰å…¨æ¨¡å‹**ï¼š

```json
{
  "version": 1,
  "defaults": {
    "security": "deny",          // é»˜è®¤ç­–ç•¥ï¼šæ‹’ç»
    "ask": "on-miss"           // å‘½ä»¤ä¸åœ¨ç™½åå•æ—¶è¯¢é—®
  },
  "agents": {
    "main": {
      "security": "allowlist",    // ä¸»ä¼šè¯ï¼šä»…å…è®¸ç™½åå•
      "ask": "on-miss",
      "allowlist": [
        { "pattern": "/usr/bin/git" },
        { "pattern": "/opt/homebrew/*/rg" }
      ]
    }
  }
}
```

**å®‰å…¨ç­–ç•¥ç±»å‹**ï¼š

| ç­–ç•¥ | è¡Œä¸º | é€‚ç”¨åœºæ™¯ |
|--- | --- | ---|
| `deny` | æ‹’ç»æ‰€æœ‰ `system.run` è°ƒç”¨ | é«˜åº¦å®‰å…¨ï¼Œç¦ç”¨æ‰€æœ‰å‘½ä»¤ |
| `allowlist` | ä»…å…è®¸ç™½åå•ä¸­çš„å‘½ä»¤ | å¹³è¡¡å®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ |
| `ask` | ä¸åœ¨ç™½åå•æ—¶æç¤ºç”¨æˆ·æ‰¹å‡† | çµæ´»ä½†éœ€è¦ç¡®è®¤ |

**æ‰¹å‡†æµç¨‹**ï¼š

å½“ AI å°è¯•æ‰§è¡Œæœªæˆæƒçš„å‘½ä»¤æ—¶ï¼š

1. macOS åº”ç”¨å¼¹å‡ºå®¡æ‰¹å¯¹è¯æ¡†
2. æ˜¾ç¤ºå®Œæ•´å‘½ä»¤è·¯å¾„å’Œå‚æ•°
3. æä¾›ä¸‰ä¸ªé€‰é¡¹ï¼š
   - **Allow Once** â€”â€” ä»…æœ¬æ¬¡å…è®¸
   - **Always Allow** â€”â€” æ·»åŠ åˆ°ç™½åå•
   - **Deny** â€”â€” æ‹’ç»æ‰§è¡Œ

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å®¡æ‰¹å¯¹è¯æ¡†æ˜¾ç¤ºå‘½ä»¤è¯¦æƒ…ï¼ˆå¦‚ `/usr/bin/ls -la ~`ï¼‰
- é€‰æ‹©"Always Allow"åï¼Œä¸‹æ¬¡ä¸ä¼šå†æ¬¡è¯¢é—®
- é€‰æ‹©"Deny"åï¼Œå‘½ä»¤æ‰§è¡Œå¤±è´¥å¹¶è¿”å›é”™è¯¯ç»™ AI

**é…ç½®ä½ç½®**ï¼š

Exec Approvals å­˜å‚¨åœ¨ macOS æœ¬åœ°ï¼š
- æ–‡ä»¶ï¼š`~/.clawdbot/exec-approvals.json`
- å®¡æ‰¹å†å²ï¼šåœ¨åº”ç”¨ä¸­æŸ¥çœ‹æ‰€æœ‰å·²æ‰¹å‡†/æ‹’ç»çš„å‘½ä»¤

---

### ç¬¬ 8 æ­¥ï¼šä½¿ç”¨æ·±åº¦é“¾æ¥

**ä¸ºä»€ä¹ˆ**
æ·±åº¦é“¾æ¥æä¾›äº†ä»å…¶ä»–åº”ç”¨å¿«é€Ÿè§¦å‘ Clawdbot åŠŸèƒ½çš„èƒ½åŠ›ã€‚

**æ”¯æŒçš„æ·±åº¦é“¾æ¥åè®®**ï¼š`clawdbot://`

#### `clawdbot://agent`

è§¦å‘ Gateway `agent` è¯·æ±‚ï¼Œç›¸å½“äºåœ¨ç»ˆç«¯è¿è¡Œ `clawdbot agent`ã€‚

**å‚æ•°**ï¼š

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|--- | --- | ---|
| `message`ï¼ˆå¿…éœ€ï¼‰ | å‘é€ç»™ AI çš„æ¶ˆæ¯ | `message=Hello%20from%20deep%20link` |
| `sessionKey`ï¼ˆå¯é€‰ï¼‰ | ç›®æ ‡ä¼šè¯é”®ï¼Œé»˜è®¤ `main` | `sessionKey=main` |
| `thinking`ï¼ˆå¯é€‰ï¼‰ | æ€è€ƒçº§åˆ«ï¼šoff\|minimal\|low\|medium\|high\|xhigh | `thinking=high` |
| `deliver`/`to`/`channel`ï¼ˆå¯é€‰ï¼‰ | é€è¾¾æ¸ é“ | `channel=telegram` |
| `timeoutSeconds`ï¼ˆå¯é€‰ï¼‰ | è¶…æ—¶æ—¶é—´ | `timeoutSeconds=30` |
| `key`ï¼ˆå¯é€‰ï¼‰ | å…ç¡®è®¤å¯†é’¥ï¼Œç”¨äºè‡ªåŠ¨åŒ– | `key=your-secret-key` |

**ç¤ºä¾‹**ï¼š

```bash
# åŸºæœ¬ï¼šå‘é€æ¶ˆæ¯
open 'clawdbot://agent?message=Hello%20from%20deep%20link'

# é«˜çº§ï¼šå‘é€åˆ° Telegramï¼Œé«˜æ€è€ƒçº§åˆ«ï¼Œ30 ç§’è¶…æ—¶
open 'clawdbot://agent?message=Summarize%20my%20day&to=telegram&thinking=high&timeoutSeconds=30'

# è‡ªåŠ¨åŒ–ï¼šä½¿ç”¨å¯†é’¥è·³è¿‡ç¡®è®¤ï¼ˆä»…åœ¨ä½ çš„è„šæœ¬ä¸­å®‰å…¨ä½¿ç”¨ï¼‰
open 'clawdbot://agent?message=Automated%20task&key=secure-random-string'
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- Clawdbot macOS åº”ç”¨è‡ªåŠ¨æ‰“å¼€ï¼ˆå¦‚æœæœªè¿è¡Œï¼‰
- Agent çª—å£å‡ºç°å¹¶æ˜¾ç¤ºæ¶ˆæ¯
- AI å¼€å§‹å¤„ç†å¹¶è¿”å›å“åº”

::: warning æ·±åº¦é“¾æ¥çš„å®‰å…¨æ€§
- æ²¡æœ‰ `key` å‚æ•°æ—¶ï¼Œåº”ç”¨ä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†
- å¸¦æœ‰æœ‰æ•ˆ `key` æ—¶ï¼Œè¯·æ±‚ä¼šé™é»˜æ‰§è¡Œï¼ˆç”¨äºè‡ªåŠ¨åŒ–è„šæœ¬ï¼‰
- æ°¸è¿œä¸è¦åœ¨ä¸å¯ä¿¡æ¥æºä¸­ä½¿ç”¨æ·±åº¦é“¾æ¥
:::

---

## æ£€æŸ¥ç‚¹ âœ…

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼ŒéªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

### å®‰è£…å’Œè¿æ¥

- [ ] macOS åº”ç”¨æˆåŠŸå®‰è£…å¹¶å‡ºç°åœ¨ Applications æ–‡ä»¶å¤¹
- [ ] é¦–æ¬¡å¯åŠ¨æ—¶æ‰€æœ‰å¿…éœ€çš„æƒé™å·²æˆäºˆ
- [ ] èœå•æ å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥åœ¨æœ¬åœ°æ¨¡å¼ï¼ˆLocalï¼‰è¿æ¥ Gateway
- [ ] å¯ä»¥åœ¨è¿œç¨‹æ¨¡å¼ï¼ˆRemoteï¼‰è¿æ¥ Gateway

### Voice Wake å’Œ Talk Mode

- [ ] Voice Wake å”¤é†’è¯é…ç½®æˆåŠŸï¼ˆå¦‚ "clawd"ã€"claude"ï¼‰
- [ ] è¯´å‡ºå”¤é†’è¯åèƒ½è§¦å‘ AI åŠ©æ‰‹
- [ ] Talk Mode å åŠ å±‚èƒ½æ­£å¸¸æ‰“å¼€å’Œå…³é—­
- [ ] TTS æ’­æ”¾æ¸…æ™°ï¼ˆéœ€è¦ ElevenLabs API å¯†é’¥ï¼‰
- [ ] è¯­éŸ³ä¸­æ–­åŠŸèƒ½æ­£å¸¸ï¼ˆè¯´è¯æ—¶åœæ­¢æ’­æ”¾ï¼‰

### èŠ‚ç‚¹æ¨¡å¼å’Œ Exec Approvals

- [ ] èŠ‚ç‚¹æœåŠ¡åœ¨è¿œç¨‹æ¨¡å¼ä¸‹è‡ªåŠ¨å¯åŠ¨
- [ ] `system.run` å‘½ä»¤èƒ½æ‰§è¡Œå¹¶è¿”å›ç»“æœ
- [ ] Exec Approvals å¯¹è¯æ¡†æ­£å¸¸å¼¹å‡º
- [ ] "Always Allow" èƒ½æ­£ç¡®æ·»åŠ åˆ°ç™½åå•
- [ ] "Deny" èƒ½æ­£ç¡®æ‹’ç»å‘½ä»¤æ‰§è¡Œ

### é«˜çº§åŠŸèƒ½

- [ ] æ·±åº¦é“¾æ¥èƒ½ä»ç»ˆç«¯æˆ–å…¶ä»–åº”ç”¨è§¦å‘
- [ ] è®¾ç½®ç•Œé¢èƒ½æ­£ç¡®ä¿å­˜é…ç½®
- [ ] WebChat å†…åµŒçª—å£èƒ½æ­£å¸¸æ‰“å¼€
- [ ] Canvas çª—å£èƒ½æ˜¾ç¤º AI ç”Ÿæˆçš„å¯è§†åŒ–å†…å®¹

---

## è¸©å‘æé†’

### âŒ æƒé™è¢«æ‹’ç»æˆ–æœªæˆäºˆ

**é—®é¢˜**ï¼š
- Voice Wake æ— æ³•ç›‘å¬éº¦å…‹é£
- Canvas æ— æ³•æ˜¾ç¤ºå†…å®¹
- `system.run` å‘½ä»¤æ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ‰“å¼€ **ç³»ç»Ÿè®¾ç½®** â†’ **éšç§ä¸å®‰å…¨æ€§**
2. æ‰¾åˆ° **Clawdbot** æˆ– **Clawdbot.app**
3. ç¡®ä¿ **éº¦å…‹é£**ã€**è¾…åŠ©åŠŸèƒ½**ã€**å±å¹•å½•åˆ¶**ã€**è‡ªåŠ¨åŒ–** ç­‰æƒé™éƒ½å·²å¼€å¯
4. é‡å¯ Clawdbot åº”ç”¨

::: tip TCC æƒé™æ•…éšœæ’æŸ¥
å¦‚æœæƒé™å¼€å…³æ— æ³•å¯ç”¨æˆ–ç«‹å³å…³é—­ï¼š
- æ£€æŸ¥æ˜¯å¦å¯ç”¨äº†ä»»ä½•å®‰å…¨å·¥å…·ï¼ˆå¦‚ Little Snitchï¼‰
- å°è¯•å®Œå…¨å¸è½½åº”ç”¨åé‡æ–°å®‰è£…
- æŸ¥çœ‹ Console.app ä¸­çš„ TCC æ‹’ç»æ—¥å¿—
:::

### âŒ Gateway è¿æ¥å¤±è´¥

**é—®é¢˜**ï¼š
- èœå•æ å›¾æ ‡æ˜¾ç¤ºçº¢è‰²ï¼ˆæ–­å¼€çŠ¶æ€ï¼‰
- çŠ¶æ€å¡ç‰‡æ˜¾ç¤º"Connection Failed"
- WebChat æ— æ³•æ‰“å¼€

**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ**ï¼š

| åŸå›  | æ£€æŸ¥æ–¹æ³• | è§£å†³æ–¹æ¡ˆ |
|--- | --- | ---|
| Gateway æœªå¯åŠ¨ | è¿è¡Œ `clawdbot gateway status` | å¯åŠ¨ Gateway æœåŠ¡ |
| åœ°å€é”™è¯¯ | æ£€æŸ¥ WebSocket URL | ç¡®è®¤ `ws://127.0.0.1:18789` æˆ–è¿œç¨‹åœ°å€æ­£ç¡® |
| ç«¯å£è¢«å ç”¨ | è¿è¡Œ `lsof -i :18789` | å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹ |
| è®¤è¯å¤±è´¥ | æ£€æŸ¥ Token/Password | ç¡®è®¤è®¤è¯å‡­æ®æ­£ç¡® |

### âŒ Talk Mode æ— æ³•ä½¿ç”¨

**é—®é¢˜**ï¼š
- å¯ç”¨ Talk Mode åæ²¡æœ‰ååº”
- TTS æ— æ³•æ’­æ”¾
- éº¦å…‹é£æ— æ³•è¾“å…¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ ElevenLabs é…ç½®**ï¼š
   - ç¡®è®¤ API å¯†é’¥å·²è®¾ç½®
   - æµ‹è¯•å¯†é’¥æ˜¯å¦æœ‰æ•ˆï¼šè®¿é—® ElevenLabs æ§åˆ¶å°

2. **æ£€æŸ¥ç½‘ç»œè¿æ¥**ï¼š
   - TTS éœ€è¦äº’è”ç½‘è¿æ¥
   - æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢ API è¯·æ±‚

3. **æ£€æŸ¥éŸ³é¢‘è¾“å‡º**ï¼š
   - ç¡®è®¤ç³»ç»ŸéŸ³é‡å·²æ‰“å¼€
   - æ£€æŸ¥é»˜è®¤è¾“å‡ºè®¾å¤‡æ˜¯å¦æ­£ç¡®

### âŒ è¿œç¨‹æ¨¡å¼ä¸‹èŠ‚ç‚¹æ— æ³•è¿æ¥

**é—®é¢˜**ï¼š
- è¿œç¨‹ Gateway æ— æ³•è°ƒç”¨ macOS ä¸Šçš„ `system.run` ç­‰å‘½ä»¤
- é”™è¯¯æ—¥å¿—æ˜¾ç¤º"Node not found"æˆ–"Node offline"

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ç¡®è®¤èŠ‚ç‚¹æœåŠ¡è¿è¡Œ**ï¼š
   ```bash
   clawdbot nodes list
   # åº”è¯¥çœ‹åˆ° macOS èŠ‚ç‚¹æ˜¾ç¤ºä¸º"paired"
   ```

2. **æ£€æŸ¥ SSH éš§é“**ï¼š
   - åœ¨ macOS åº”ç”¨è®¾ç½®ä¸­æŸ¥çœ‹ SSH è¿æ¥çŠ¶æ€
   - ç¡®è®¤èƒ½æ‰‹åŠ¨ SSH åˆ°è¿œç¨‹ Gateway

3. **é‡å¯èŠ‚ç‚¹æœåŠ¡**ï¼š
   ```bash
   # åœ¨ macOS ä¸Š
   clawdbot node restart
   ```

---

## æœ¬è¯¾å°ç»“

æœ¬è¯¾ä½ å­¦ä¼šäº†ï¼š

1. âœ… **macOS åº”ç”¨æ¶æ„** â€”â€” ä½œä¸º Gateway æ§åˆ¶å¹³é¢å’ŒèŠ‚ç‚¹çš„åŒé‡è§’è‰²
2. âœ… **æœ¬åœ° vs è¿œç¨‹æ¨¡å¼** â€”â€” å¦‚ä½•é…ç½®ä»¥é€‚åº”ä¸åŒéƒ¨ç½²åœºæ™¯
3. âœ… **èœå•æ åŠŸèƒ½** â€”â€” çŠ¶æ€ç®¡ç†ã€WebChatã€Canvasã€è®¾ç½®ç­‰å¿«é€Ÿè®¿é—®
4. âœ… **Voice Wake** â€”â€” é€šè¿‡å”¤é†’è¯è§¦å‘ AI åŠ©æ‰‹
5. âœ… **Talk Mode** â€”â€” è¿ç»­è¯­éŸ³å¯¹è¯ä½“éªŒ
6. âœ… **èŠ‚ç‚¹æ¨¡å¼** â€”â€” æš´éœ² macOS ç‰¹æœ‰èƒ½åŠ›ï¼ˆ`system.run`ã€Canvasã€Cameraï¼‰
7. âœ… **Exec Approvals** â€”â€” `system.run` çš„ä¸‰å±‚å®‰å…¨æ§åˆ¶æœºåˆ¶
8. âœ… **æ·±åº¦é“¾æ¥** â€”â€” `clawdbot://` åè®®å¿«é€Ÿè§¦å‘åŠŸèƒ½

**æœ€ä½³å®è·µ**ï¼š
- ğŸš€ æœ¬åœ°éƒ¨ç½²ï¼šä½¿ç”¨é»˜è®¤çš„ Local æ¨¡å¼
- ğŸŒ è¿œç¨‹éƒ¨ç½²ï¼šé…ç½® SSH/Tailscale é›†ä¸­ç®¡ç†
- ğŸ” å®‰å…¨ç¬¬ä¸€ï¼šä¸º `system.run` é…ç½®åˆç†çš„ç™½åå•ç­–ç•¥
- ğŸ™ï¸ è¯­éŸ³äº¤äº’ï¼šé…åˆ ElevenLabs è·å¾—æœ€ä½³ TTS ä½“éªŒ

---

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[iOS èŠ‚ç‚¹](../ios-node/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - å¦‚ä½•é…ç½® iOS èŠ‚ç‚¹è¿æ¥åˆ° Gateway
> - iOS èŠ‚ç‚¹çš„åŠŸèƒ½ï¼ˆCanvasã€Cameraã€Locationã€Voice Wakeï¼‰
> - å¦‚ä½•é€šè¿‡ Gateway é…å¯¹ iOS è®¾å¤‡
> - iOS èŠ‚ç‚¹çš„æƒé™ç®¡ç†å’Œå®‰å…¨æ§åˆ¶
> - Bonjour å‘ç°å’Œ Tailscale è¿œç¨‹è¿æ¥

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-27

| åŠŸèƒ½        | æ–‡ä»¶è·¯å¾„                                                                                    | è¡Œå·    |
|--- | --- | ---|
| åº”ç”¨å…¥å£     | [`apps/macos/Sources/Clawdbot/ClawdbotApp.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/ClawdbotApp.swift) | å…¨æ–‡ä»¶   |
| Gateway è¿æ¥ | [`apps/macos/Sources/Clawdbot/GatewayConnection.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/GatewayConnection.swift) | 1-500   |
| Voice Wake è¿è¡Œæ—¶ | [`apps/macos/Sources/Clawdbot/VoiceWakeRuntime.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/VoiceWakeRuntime.swift) | å…¨æ–‡ä»¶   |
| Talk Mode ç±»å‹ | [`apps/macos/Sources/Clawdbot/TalkModeTypes.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/TalkModeTypes.swift) | å…¨æ–‡ä»¶   |
| Voice Wake å åŠ å±‚ | [`apps/macos/Sources/Clawdbot/VoiceWakeOverlayView.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/VoiceWakeOverlayView.swift) | å…¨æ–‡ä»¶   |
| èŠ‚ç‚¹æ¨¡å¼åè°ƒå™¨ | [`apps/macos/Sources/Clawdbot/NodeMode/MacNodeModeCoordinator.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/NodeMode/MacNodeModeCoordinator.swift) | å…¨æ–‡ä»¶   |
| èŠ‚ç‚¹è¿è¡Œæ—¶ | [`apps/macos/Sources/Clawdbot/NodeMode/MacNodeRuntime.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/NodeMode/MacNodeRuntime.swift) | å…¨æ–‡ä»¶   |
| æƒé™ç®¡ç†å™¨ | [`apps/macos/Sources/Clawdbot/PermissionManager.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/PermissionManager.swift) | å…¨æ–‡ä»¶   |
| Exec Approvals | [`apps/macos/Sources/Clawdbot/ExecApprovalsGatewayPrompter.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/ExecApprovalsGatewayPrompter.swift) | å…¨æ–‡ä»¶   |
| èœå•æ  | [`apps/macos/Sources/Clawdbot/MenuBar.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/MenuBar.swift) | å…¨æ–‡ä»¶   |
| èœå•æ³¨å…¥å™¨ | [`apps/macos/Sources/Clawdbot/MenuSessionsInjector.swift`](https://github.com/clawdbot/clawdbot/blob/main/apps/macos/Sources/Clawdbot/MenuSessionsInjector.swift) | å…¨æ–‡ä»¶   |

**å…³é”®å¸¸é‡**ï¼š
- `GatewayConnection.shared`ï¼šå•ä¾‹ Gateway è¿æ¥ç®¡ç†å™¨ï¼ˆ`GatewayConnection.swift:48`ï¼‰
- `VoiceWakeRuntime`ï¼šVoice Wake æ ¸å¿ƒè¿è¡Œæ—¶ï¼ˆå•ä¾‹ï¼‰
- `MacNodeModeCoordinator`ï¼šèŠ‚ç‚¹æ¨¡å¼åè°ƒå™¨ï¼Œç®¡ç†æœ¬åœ°æœåŠ¡å¯åŠ¨

**å…³é”®ç±»å‹**ï¼š
- `GatewayAgentChannel`ï¼šGateway ä»£ç†æ¸ é“æšä¸¾ï¼ˆ`GatewayConnection.swift:9-30`ï¼‰
- `GatewayAgentInvocation`ï¼šGateway Agent è°ƒç”¨ç»“æ„ï¼ˆ`GatewayConnection.swift:32-41`ï¼‰
- `ExecApprovalsConfig`ï¼šExec Approvals é…ç½®ç»“æ„ï¼ˆJSON Schemaï¼‰
- `VoiceWakeSettings`ï¼šVoice Wake é…ç½®ç»“æ„

**å…³é”®å‡½æ•°**ï¼š
- `GatewayConnection.sendAgent()`ï¼šå‘é€ agent è¯·æ±‚åˆ° Gateway
- `GatewayConnection.setVoiceWakeTriggers()`ï¼šæ›´æ–°å…¨å±€å”¤é†’è¯åˆ—è¡¨
- `PermissionManager.checkPermission()`ï¼šæ£€æŸ¥ TCC æƒé™çŠ¶æ€
- `ExecApprovalsGatewayPrompter.prompt()`ï¼šæ˜¾ç¤ºå®¡æ‰¹å¯¹è¯æ¡†

**æ–‡æ¡£ä½ç½®**ï¼š
- [macOS åº”ç”¨æ–‡æ¡£](https://github.com/clawdbot/clawdbot/blob/main/docs/platforms/macos.md)
- [Voice Wake æ–‡æ¡£](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/voicewake.md)
- [Talk Mode æ–‡æ¡£](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/talk.md)
- [èŠ‚ç‚¹æ–‡æ¡£](https://github.com/clawdbot/clawdbot/blob/main/docs/nodes/index.md)

</details>
