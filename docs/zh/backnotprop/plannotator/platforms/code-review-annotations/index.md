---
title: "ä»£ç æ‰¹æ³¨: è¡Œçº§æ³¨é‡Š | Plannotator"
subtitle: "ä»£ç æ‰¹æ³¨: è¡Œçº§æ³¨é‡Š"
sidebarTitle: "5 åˆ†é’ŸåŠ æ‰¹æ³¨"
description: "å­¦ä¹  Plannotator çš„ä»£ç æ³¨é‡ŠåŠŸèƒ½ã€‚åœ¨ diff ä¸­ç²¾ç¡®æ·»åŠ è¡Œçº§æ³¨é‡Šï¼ˆcomment/suggestion/concernï¼‰ã€é™„åŠ å»ºè®®ä»£ç ã€æ ‡è®°é£é™©ç‚¹ã€ç®¡ç†æ‰€æœ‰æ³¨é‡Šå¹¶å¯¼å‡ºåé¦ˆã€‚"
tags:
  - "ä»£ç è¯„å®¡"
  - "æ³¨é‡Š"
  - "diff"
  - "comment"
  - "suggestion"
  - "concern"
  - "Claude Code"
  - "OpenCode"
prerequisite:
  - "start-getting-started"
  - "platforms-code-review-basics"
order: 5
---

# æ·»åŠ ä»£ç æ³¨é‡Šï¼šè¡Œçº§è¯„è®ºã€å»ºè®®å’Œå…³æ³¨ç‚¹

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- âœ… åœ¨ä»£ç  diff ä¸­æ·»åŠ è¡Œçº§æ³¨é‡Šï¼ˆcomment/suggestion/concernï¼‰
- âœ… ä¸ºä»£ç ä¿®æ”¹æä¾›å»ºè®®ä»£ç ï¼ˆsuggestedCodeï¼‰
- âœ… æ ‡è®°éœ€è¦å…³æ³¨çš„ä»£ç æ®µï¼ˆconcernï¼‰
- âœ… æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ³¨é‡Šï¼ˆä¾§è¾¹æ ï¼‰
- âœ… ç†è§£ä¸‰ç§æ³¨é‡Šç±»å‹çš„ä½¿ç”¨åœºæ™¯
- âœ… å¯¼å‡ºåé¦ˆä¸º Markdown æ ¼å¼

## ä½ ç°åœ¨çš„å›°å¢ƒ

**é—®é¢˜ 1**ï¼šè¯„å®¡ä»£ç å˜æ›´æ—¶ï¼Œåªèƒ½åœ¨ç»ˆç«¯çœ‹ diffï¼Œç„¶åå†™"ç¬¬ 3 è¡Œæœ‰é—®é¢˜"ã€"å»ºè®®æ”¹æˆ XXX"ï¼Œä½ç½®ä¸ç²¾ç¡®ã€‚

**é—®é¢˜ 2**ï¼šæœ‰äº›ä»£ç åªæ˜¯æƒ³è¯„è®ºä¸€ä¸‹ï¼ˆcommentï¼‰ï¼Œæœ‰äº›æƒ³æä¿®æ”¹å»ºè®®ï¼ˆsuggestionï¼‰ï¼Œæœ‰äº›æ˜¯ä¸¥é‡é—®é¢˜éœ€è¦å…³æ³¨ï¼ˆconcernï¼‰ï¼Œä½†æ²¡æœ‰å·¥å…·å¸®ä½ åŒºåˆ†ã€‚

**é—®é¢˜ 3**ï¼šæƒ³ç»™æŸä¸ªå‡½æ•°ä¿®æ”¹å»ºè®®ï¼Œä½†ä¸çŸ¥é“æ€ä¹ˆæŠŠä»£ç ç‰‡æ®µä¼ ç»™ AIã€‚

**é—®é¢˜ 4**ï¼šæ·»åŠ äº†å¤šä¸ªæ³¨é‡Šåï¼Œå¿˜è®°éƒ½è¯„å®¡äº†å“ªäº›åœ°æ–¹ï¼Œæ²¡æœ‰æ¦‚è§ˆã€‚

**Plannotator èƒ½å¸®ä½ **ï¼š
- ç‚¹å‡»è¡Œå·å³å¯é€‰ä¸­ä»£ç èŒƒå›´ï¼Œç²¾ç¡®åˆ°è¡Œ
- ä¸‰ç§æ³¨é‡Šç±»å‹ï¼ˆcomment/suggestion/concernï¼‰åˆ†åˆ«å¯¹åº”ä¸åŒåœºæ™¯
- å¯ä»¥é™„åŠ å»ºè®®ä»£ç ï¼ŒAI ç›´æ¥çœ‹åˆ°ä¿®æ”¹æ–¹æ¡ˆ
- ä¾§è¾¹æ åˆ—å‡ºæ‰€æœ‰æ³¨é‡Šï¼Œä¸€é”®è·³è½¬

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

**ä½¿ç”¨åœºæ™¯**ï¼š
- æ‰§è¡Œ `/plannotator-review` å‘½ä»¤åæŸ¥çœ‹ä»£ç å˜æ›´
- éœ€è¦å¯¹å…·ä½“ä»£ç è¡Œç»™å‡ºåé¦ˆ
- æƒ³æä¾›ä»£ç ä¿®æ”¹å»ºè®®ç»™ AI
- éœ€è¦æ ‡è®°æ½œåœ¨é—®é¢˜æˆ–é£é™©ç‚¹

**ä¸é€‚ç”¨åœºæ™¯**ï¼š
- è¯„å®¡ AI ç”Ÿæˆçš„å®æ–½è®¡åˆ’ï¼ˆä½¿ç”¨è®¡åˆ’è¯„å®¡åŠŸèƒ½ï¼‰
- åªéœ€è¦å¿«é€Ÿæµè§ˆ diffï¼ˆä½¿ç”¨ä»£ç è¯„å®¡åŸºç¡€åŠŸèƒ½ï¼‰

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

**å‰ç½®æ¡ä»¶**ï¼š
- âœ… å·²å®‰è£… Plannotator CLIï¼ˆè¯¦è§ [å¿«é€Ÿå¼€å§‹](../../start/getting-started/)ï¼‰
- âœ… å·²å­¦ä¼šä»£ç è¯„å®¡åŸºç¡€ï¼ˆè¯¦è§ [ä»£ç è¯„å®¡åŸºç¡€](../code-review-basics/)ï¼‰
- âœ… æœ¬åœ°æœ‰ Git ä»“åº“ï¼Œå¹¶ä¸”æœ‰æœªæäº¤çš„å˜æ›´

**è§¦å‘æ–¹å¼**ï¼š
- åœ¨ OpenCode æˆ– Claude Code ä¸­æ‰§è¡Œ `/plannotator-review` å‘½ä»¤

## æ ¸å¿ƒæ€è·¯

### ä»£ç æ³¨é‡Šæ˜¯ä»€ä¹ˆ

**ä»£ç æ³¨é‡Š**æ˜¯ Plannotator ä»£ç è¯„å®¡çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œç”¨äºåœ¨ Git diff ä¸­æ·»åŠ è¡Œçº§åé¦ˆã€‚é€šè¿‡ç‚¹å‡»è¡Œå·é€‰ä¸­ä»£ç èŒƒå›´ï¼Œä½ å¯ä»¥ç²¾ç¡®åœ°é’ˆå¯¹å…·ä½“ä»£ç è¡Œæ·»åŠ è¯„è®ºã€å»ºè®®æˆ–å…³æ³¨ç‚¹ï¼Œæ³¨é‡Šä¼šæ˜¾ç¤ºåœ¨ diff ä¸‹æ–¹ï¼Œä¾¿äº AI å‡†ç¡®ç†è§£ä½ çš„åé¦ˆæ„å›¾ã€‚

::: info ä¸ºä»€ä¹ˆéœ€è¦ä»£ç æ³¨é‡Šï¼Ÿ
åœ¨ä»£ç è¯„å®¡ä¸­ï¼Œä½ éœ€è¦å¯¹å…·ä½“çš„ä»£ç è¡Œç»™å‡ºåé¦ˆã€‚å¦‚æœåªæ˜¯ç”¨æ–‡å­—æè¿°"ç¬¬ 5 è¡Œæœ‰é—®é¢˜"ã€"å»ºè®®æ”¹æˆ XXX"ï¼ŒAI éœ€è¦è‡ªå·±å»å®šä½ä»£ç ï¼Œå®¹æ˜“å‡ºé”™ã€‚Plannotator è®©ä½ ç‚¹å‡»è¡Œå·é€‰ä¸­ä»£ç èŒƒå›´ï¼Œç›´æ¥åœ¨è¯¥ä½ç½®æ·»åŠ æ³¨é‡Šï¼Œæ³¨é‡Šä¼šæ˜¾ç¤ºåœ¨ diff ä¸‹æ–¹ï¼ˆGitHub é£æ ¼ï¼‰ï¼ŒAI èƒ½å‡†ç¡®çœ‹åˆ°ä½ é’ˆå¯¹å“ªæ®µä»£ç æå‡ºçš„å»ºè®®ã€‚
:::

### å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /plannotator-   â”‚  è§¦å‘å‘½ä»¤
â”‚  review å‘½ä»¤      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è¿è¡Œ git diff
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Diff Viewer    â”‚  â† æ˜¾ç¤ºä»£ç  diff
â”‚  (split/unified) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ ç‚¹å‡»è¡Œå· / Hover +
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€‰ä¸­ä»£ç èŒƒå›´   â”‚
â”‚  (lineStart-    â”‚
â”‚   lineEnd)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ æ³¨é‡Š       â”‚  â† å·¥å…·æ å¼¹å‡º
â”‚  - Comment     â”‚     å¡«å†™è¯„è®ºå†…å®¹
â”‚  - Suggestion  â”‚     å¯é€‰ï¼šæä¾›å»ºè®®ä»£ç 
â”‚  - Concern     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ³¨é‡Šæ˜¾ç¤º       â”‚  åœ¨ diff ä¸‹æ–¹
â”‚  (GitHub é£æ ¼) â”‚  ä¾§è¾¹æ åˆ—å‡ºæ‰€æœ‰æ³¨é‡Š
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯¼å‡ºåé¦ˆ       â”‚  Send Feedback
â”‚  (Markdown)     â”‚  AI æ”¶åˆ°ç»“æ„åŒ–åé¦ˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ³¨é‡Šç±»å‹

Plannotator æ”¯æŒä¸‰ç§ä»£ç æ³¨é‡Šç±»å‹ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ç”¨é€”ï¼š

| æ³¨é‡Šç±»å‹ | ç”¨é€” | å…¸å‹åœºæ™¯ | å»ºè®®ä»£ç  |
| --------- | ---- | -------- | -------- |
| **Comment** | è¯„è®ºæŸæ®µä»£ç ï¼Œæä¾›ä¸€èˆ¬æ€§åé¦ˆ | "è¿™æ®µé€»è¾‘å¯ä»¥ç®€åŒ–"ã€"å˜é‡å‘½åä¸å¤ªæ¸…æ™°" | å¯é€‰ |
| **Suggestion** | æä¾›å…·ä½“çš„ä»£ç ä¿®æ”¹å»ºè®® | "å»ºè®®ç”¨ map æ›¿ä»£ for å¾ªç¯"ã€"ç”¨ await æ›¿ä»£ Promise.then" | æ¨è |
| **Concern** | æ ‡è®°æ½œåœ¨é—®é¢˜æˆ–é£é™©ç‚¹ | "è¿™ä¸ª SQL æŸ¥è¯¢å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜"ã€"ç¼ºå°‘é”™è¯¯å¤„ç†" | å¯é€‰ |

::: tip æ³¨é‡Šç±»å‹çš„é€‰æ‹©å»ºè®®
- **Comment**ï¼šç”¨äº"æå»ºè®®ä½†ä¸å¼ºåˆ¶"ï¼Œæ¯”å¦‚ä»£ç é£æ ¼ã€ä¼˜åŒ–æ–¹å‘
- **Suggestion**ï¼šç”¨äº"å¼ºçƒˆå»ºè®®ä¿®æ”¹"ï¼Œå¹¶ä¸”ä½ æœ‰æ˜ç¡®çš„ä¿®æ”¹æ–¹æ¡ˆ
- **Concern**ï¼šç”¨äº"å¿…é¡»æ³¨æ„çš„é—®é¢˜"ï¼Œæ¯”å¦‚ bugã€æ€§èƒ½é£é™©ã€å®‰å…¨éšæ‚£
:::

### Comment vs Suggestion vs Concern

| åœºæ™¯ | é€‰æ‹©ç±»å‹ | ç¤ºä¾‹æ–‡æœ¬ |
| ---- | -------- | -------- |
| ä»£ç å¯ä»¥å·¥ä½œï¼Œä½†æœ‰ä¼˜åŒ–ç©ºé—´ | Comment | "è¿™æ®µå¯ä»¥ç”¨ async/await ç®€åŒ–" |
| ä»£ç æœ‰æ˜ç¡®çš„æ”¹è¿›æ–¹æ¡ˆ | Suggestion | "å»ºè®®ç”¨ `Array.from()` æ›¿ä»£å±•å¼€è¿ç®—ç¬¦"ï¼ˆé™„ä»£ç ï¼‰ |
| å‘ç° bug æˆ–ä¸¥é‡é—®é¢˜ | Concern | "è¿™é‡Œç¼ºå°‘ null æ£€æŸ¥ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯" |

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šè§¦å‘ä»£ç è¯„å®¡

åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
/plannotator-review
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
1. æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ä»£ç è¯„å®¡ç•Œé¢
2. æ˜¾ç¤º git diff å†…å®¹ï¼ˆé»˜è®¤æ˜¯ `git diff HEAD`ï¼‰
3. å·¦ä¾§æ˜¯æ–‡ä»¶æ ‘ï¼Œä¸­é—´æ˜¯ diff viewerï¼Œå³ä¾§æ˜¯æ³¨é‡Šä¾§è¾¹æ 

### ç¬¬ 2 æ­¥ï¼šæµè§ˆ diff å†…å®¹

åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ä»£ç å˜æ›´ï¼š

- é»˜è®¤ä½¿ç”¨ **split è§†å›¾**ï¼ˆå·¦å³å¯¹æ¯”ï¼‰
- å¯ä»¥åˆ‡æ¢åˆ° **unified è§†å›¾**ï¼ˆä¸Šä¸‹å¯¹æ¯”ï¼‰
- ç‚¹å‡»æ–‡ä»¶æ ‘ä¸­çš„æ–‡ä»¶ååˆ‡æ¢æŸ¥çœ‹çš„æ–‡ä»¶

### ç¬¬ 3 æ­¥ï¼šé€‰ä¸­ä»£ç è¡Œï¼Œæ·»åŠ æ³¨é‡Š

**æ–¹å¼ä¸€ï¼šHover ç‚¹å‡» "+" æŒ‰é’®**

1. å°†é¼ æ ‡æ‚¬åœåœ¨è¦æ·»åŠ æ³¨é‡Šçš„ä»£ç è¡Œä¸Š
2. å³ä¾§ä¼šå‡ºç°ä¸€ä¸ª **+** æŒ‰é’®ï¼ˆä»…åœ¨ diff è¡Œä¸Šæ˜¾ç¤ºï¼‰
3. ç‚¹å‡» **+** æŒ‰é’®
4. å¼¹å‡ºæ³¨é‡Šå·¥å…·æ 

**æ–¹å¼äºŒï¼šç›´æ¥ç‚¹å‡»è¡Œå·**

1. ç‚¹å‡»æŸä¸ªè¡Œå·ï¼ˆä¾‹å¦‚ `L10`ï¼‰ï¼Œé€‰ä¸­å•è¡Œ
2. ç‚¹å‡»å¦ä¸€ä¸ªè¡Œå·ï¼ˆä¾‹å¦‚ `L15`ï¼‰ï¼Œé€‰ä¸­å¤šè¡ŒèŒƒå›´
3. é€‰ä¸­èŒƒå›´åï¼Œå·¥å…·æ è‡ªåŠ¨å¼¹å‡º

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å·¥å…·æ æ˜¾ç¤ºé€‰ä¸­è¡Œå·ï¼ˆä¾‹å¦‚ `Line 10` æˆ– `Lines 10-15`ï¼‰
- å·¥å…·æ åŒ…å«æ–‡æœ¬è¾“å…¥æ¡†ï¼ˆ`Leave feedback...`ï¼‰
- å¯é€‰çš„"Add suggested code"æŒ‰é’®

### ç¬¬ 4 æ­¥ï¼šæ·»åŠ  Comment æ³¨é‡Š

**åœºæ™¯**ï¼šå¯¹ä»£ç æä¾›å»ºè®®ï¼Œä½†ä¸è¦æ±‚å¿…é¡»ä¿®æ”¹

1. åœ¨å·¥å…·æ çš„æ–‡æœ¬æ¡†ä¸­è¾“å…¥è¯„è®ºå†…å®¹
2. å¯é€‰ï¼šç‚¹å‡» **Add suggested code**ï¼Œè¾“å…¥å»ºè®®ä»£ç 
3. ç‚¹å‡» **Add Comment** æŒ‰é’®

**ç¤ºä¾‹**ï¼š

```
è¯„è®ºå†…å®¹ï¼šè¿™ä¸ªå‡½æ•°çš„å‚æ•°å‘½åä¸å¤ªæ¸…æ™°ï¼Œå»ºè®®æ”¹åä¸º fetchUserData
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å·¥å…·æ æ¶ˆå¤±
- æ³¨é‡Šæ˜¾ç¤ºåœ¨ diff ä¸‹æ–¹ï¼ˆè“è‰²æ¡†ï¼‰
- ä¾§è¾¹æ ä¸­æ–°å¢ä¸€æ¡æ³¨é‡Šè®°å½•
- å¦‚æœæä¾›äº†å»ºè®®ä»£ç ï¼Œä¼šæ˜¾ç¤ºåœ¨æ³¨é‡Šä¸‹æ–¹ï¼ˆä»£ç å—æ ¼å¼ï¼‰

### ç¬¬ 5 æ­¥ï¼šæ·»åŠ  Suggestion æ³¨é‡Š

**åœºæ™¯**ï¼šæä¾›æ˜ç¡®çš„ä»£ç ä¿®æ”¹æ–¹æ¡ˆï¼Œå¸Œæœ› AI ç›´æ¥é‡‡ç”¨

1. åœ¨å·¥å…·æ çš„æ–‡æœ¬æ¡†ä¸­è¾“å…¥å»ºè®®è¯´æ˜ï¼ˆå¯é€‰ï¼‰
2. ç‚¹å‡» **Add suggested code**
3. åœ¨å‡ºç°çš„ä»£ç è¾“å…¥æ¡†ä¸­è¾“å…¥å»ºè®®çš„ä»£ç 
4. ç‚¹å‡» **Add Comment** æŒ‰é’®

**ç¤ºä¾‹**ï¼š

```
å»ºè®®è¯´æ˜ï¼šä½¿ç”¨ async/await ç®€åŒ– Promise é“¾

å»ºè®®ä»£ç ï¼š
async function fetchData() {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- æ³¨é‡Šæ˜¾ç¤ºåœ¨ diff ä¸‹æ–¹ï¼ˆè“è‰²æ¡†ï¼‰
- å»ºè®®ä»£ç ä»¥ä»£ç å—å½¢å¼æ˜¾ç¤ºï¼Œå¸¦"Suggested:"æ ‡ç­¾
- ä¾§è¾¹æ ä¸­æ˜¾ç¤ºå»ºè®®ä»£ç çš„ç¬¬ä¸€è¡Œï¼ˆå¸¦çœç•¥å·ï¼‰

### ç¬¬ 6 æ­¥ï¼šæ·»åŠ  Concern æ³¨é‡Š

**åœºæ™¯**ï¼šæ ‡è®°æ½œåœ¨é—®é¢˜æˆ–é£é™©ç‚¹ï¼Œæé†’ AI æ³¨æ„

**æ³¨æ„**ï¼šå½“å‰ç‰ˆæœ¬çš„ Plannotator UI ä¸­ï¼Œæ³¨é‡Šç±»å‹é»˜è®¤ä¸º **Comment**ã€‚å¦‚æœéœ€è¦æ ‡è®° **Concern**ï¼Œå¯ä»¥åœ¨æ³¨é‡Šæ–‡æœ¬ä¸­æ˜ç¡®è¯´æ˜ã€‚

1. åœ¨å·¥å…·æ çš„æ–‡æœ¬æ¡†ä¸­è¾“å…¥å…³æ³¨ç‚¹è¯´æ˜
2. å¯ä»¥ä½¿ç”¨ `Concern:` æˆ– `âš ï¸` ç­‰æ ‡è®°æ˜ç¡®è¿™æ˜¯å…³æ³¨ç‚¹
3. ç‚¹å‡» **Add Comment** æŒ‰é’®

**ç¤ºä¾‹**ï¼š

```
Concern: è¿™é‡Œç¼ºå°‘ null æ£€æŸ¥ï¼Œå¦‚æœ user ä¸º null ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯

å»ºè®®æ·»åŠ ï¼š
if (!user) return null;
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- æ³¨é‡Šæ˜¾ç¤ºåœ¨ diff ä¸‹æ–¹
- ä¾§è¾¹æ ä¸­æ˜¾ç¤ºæ³¨é‡Šå†…å®¹

### ç¬¬ 7 æ­¥ï¼šæŸ¥çœ‹å’Œç®¡ç†æ³¨é‡Š

**åœ¨ä¾§è¾¹æ ä¸­æŸ¥çœ‹æ‰€æœ‰æ³¨é‡Š**ï¼š

1. å³ä¾§è¾¹æ æ˜¾ç¤ºæ‰€æœ‰æ³¨é‡Šåˆ—è¡¨
2. æ¯æ¡æ³¨é‡Šæ˜¾ç¤ºï¼š
   - æ–‡ä»¶åï¼ˆæˆªå–æœ€åä¸€ä¸ªè·¯å¾„ç»„ä»¶ï¼‰
   - è¡Œå·èŒƒå›´ï¼ˆä¾‹å¦‚ `L10` æˆ– `L10-L15`ï¼‰
   - ä½œè€…ï¼ˆå¦‚æœæ˜¯åä½œè¯„å®¡ï¼‰
   - æ—¶é—´æˆ³ï¼ˆä¾‹å¦‚ `5m`ã€`2h`ã€`1d`ï¼‰
   - æ³¨é‡Šå†…å®¹ï¼ˆæœ€å¤šæ˜¾ç¤º 2 è¡Œï¼‰
   - å»ºè®®ä»£ç é¢„è§ˆï¼ˆç¬¬ä¸€è¡Œï¼‰

**ç‚¹å‡»æ³¨é‡Šè·³è½¬**ï¼š

1. åœ¨ä¾§è¾¹æ ä¸­ç‚¹å‡»æŸæ¡æ³¨é‡Š
2. Diff viewer è‡ªåŠ¨æ»šåŠ¨åˆ°å¯¹åº”ä½ç½®
3. è¯¥æ³¨é‡Šè¢«é«˜äº®æ˜¾ç¤º

**åˆ é™¤æ³¨é‡Š**ï¼š

1. é¼ æ ‡æ‚¬åœåœ¨ä¾§è¾¹æ ä¸­çš„æŸæ¡æ³¨é‡Šä¸Š
2. ç‚¹å‡»å³ä¸Šè§’çš„ **Ã—** æŒ‰é’®
3. æ³¨é‡Šè¢«åˆ é™¤ï¼Œdiff ä¸­çš„é«˜äº®æ¶ˆå¤±

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- ä¾§è¾¹æ æ˜¾ç¤ºæ³¨é‡Šæ•°é‡ï¼ˆä¾‹å¦‚ `Annotations: 3`ï¼‰
- ç‚¹å‡»æ³¨é‡Šåï¼Œdiff viewer å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”è¡Œ
- åˆ é™¤æ³¨é‡Šåï¼Œæ•°é‡æ›´æ–°

### ç¬¬ 8 æ­¥ï¼šå¯¼å‡ºåé¦ˆ

å®Œæˆæ‰€æœ‰æ³¨é‡Šåï¼Œç‚¹å‡»é¡µé¢åº•éƒ¨çš„ **Send Feedback** æŒ‰é’®ã€‚

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- æµè§ˆå™¨è‡ªåŠ¨å…³é—­
- ç»ˆç«¯ä¸­æ˜¾ç¤º Markdown æ ¼å¼çš„åé¦ˆå†…å®¹
- AI æ”¶åˆ°ç»“æ„åŒ–åé¦ˆï¼Œå¯ä»¥è‡ªåŠ¨å“åº”

**å¯¼å‡ºçš„ Markdown æ ¼å¼**ï¼š

```markdown
# Code Review Feedback

## src/app/api/users.ts

### Line 10 (new)
è¿™æ®µé€»è¾‘å¯ä»¥ç®€åŒ–ï¼Œå»ºè®®ç”¨ async/await

### Lines 15-20 (new)
**Suggested code:**
```typescript
async function fetchUserData() {
  const response = await fetch(url);
  return await response.json();
}
```

### Line 25 (old)
Concern: è¿™é‡Œç¼ºå°‘ null æ£€æŸ¥ï¼Œå¦‚æœ user ä¸º null ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯
```

::: tip å¤åˆ¶åé¦ˆ
å¦‚æœéœ€è¦æ‰‹åŠ¨å¤åˆ¶åé¦ˆå†…å®¹ï¼Œå¯ä»¥åœ¨ä¾§è¾¹æ åº•éƒ¨ç‚¹å‡» **Copy Feedback** æŒ‰é’®ï¼Œå°† Markdown æ ¼å¼çš„åé¦ˆå¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚
:::

## æ£€æŸ¥ç‚¹ âœ…

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] åœ¨ä»£ç  diff ä¸­ç‚¹å‡»è¡Œå·æˆ– Hover "+" æŒ‰é’®é€‰ä¸­ä»£ç è¡Œ
- [ ] æ·»åŠ  Comment æ³¨é‡Šï¼ˆä¸€èˆ¬æ€§è¯„è®ºï¼‰
- [ ] æ·»åŠ  Suggestion æ³¨é‡Šï¼ˆé™„å»ºè®®ä»£ç ï¼‰
- [ ] æ·»åŠ  Concern æ³¨é‡Šï¼ˆæ ‡è®°æ½œåœ¨é—®é¢˜ï¼‰
- [ ] åœ¨ä¾§è¾¹æ æŸ¥çœ‹æ‰€æœ‰æ³¨é‡Šï¼Œç‚¹å‡»è·³è½¬åˆ°å¯¹åº”ä½ç½®
- [ ] åˆ é™¤ä¸éœ€è¦çš„æ³¨é‡Š
- [ ] å¯¼å‡ºåé¦ˆä¸º Markdown æ ¼å¼
- [ ] å¤åˆ¶åé¦ˆå†…å®¹åˆ°å‰ªè´´æ¿

**å¦‚æœæŸä¸€æ­¥å¤±è´¥**ï¼Œè¯¦è§ï¼š
- [å¸¸è§é—®é¢˜](../../faq/common-problems/)
- [ä»£ç è¯„å®¡åŸºç¡€](../code-review-basics/)
- [æ•…éšœæ’æŸ¥](../../faq/troubleshooting/)

## è¸©å‘æé†’

**å¸¸è§é”™è¯¯ 1**ï¼šç‚¹å‡»è¡Œå·åï¼Œå·¥å…·æ æ²¡æœ‰å¼¹å‡º

**åŸå› **ï¼šå¯èƒ½ç‚¹å‡»çš„æ˜¯æ–‡ä»¶åæˆ–è¡Œå·ä¸åœ¨ diff èŒƒå›´å†…ã€‚

**è§£å†³**ï¼š
- ç¡®ä¿ç‚¹å‡»çš„æ˜¯ diff è¡Œçš„è¡Œå·ï¼ˆç»¿è‰²æˆ–çº¢è‰²è¡Œï¼‰
- å¯¹äºåˆ é™¤è¡Œï¼ˆçº¢è‰²ï¼‰ï¼Œç‚¹å‡»å·¦ä¾§çš„è¡Œå·
- å¯¹äºæ–°å¢è¡Œï¼ˆç»¿è‰²ï¼‰ï¼Œç‚¹å‡»å³ä¾§çš„è¡Œå·

**å¸¸è§é”™è¯¯ 2**ï¼šé€‰ä¸­å¤šè¡Œåï¼Œæ³¨é‡Šæ˜¾ç¤ºåœ¨é”™è¯¯çš„ä½ç½®

**åŸå› **ï¼šsideï¼ˆold/newï¼‰ä¸æ­£ç¡®ã€‚

**è§£å†³**ï¼š
- æ£€æŸ¥ä½ é€‰ä¸­çš„æ˜¯æ—§ä»£ç ï¼ˆdeletionsï¼‰è¿˜æ˜¯æ–°ä»£ç ï¼ˆadditionsï¼‰
- æ³¨é‡Šä¼šæ˜¾ç¤ºåœ¨èŒƒå›´æœ€åä¸€è¡Œçš„ä¸‹æ–¹
- å¦‚æœä½ç½®ä¸å¯¹ï¼Œåˆ é™¤æ³¨é‡Šé‡æ–°æ·»åŠ 

**å¸¸è§é”™è¯¯ 3**ï¼šæ·»åŠ å»ºè®®ä»£ç åï¼Œä»£ç æ ¼å¼é”™ä¹±

**åŸå› **ï¼šå»ºè®®ä»£ç å¯èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–ç¼©è¿›é—®é¢˜ã€‚

**è§£å†³**ï¼š
- åœ¨å»ºè®®ä»£ç è¾“å…¥æ¡†ä¸­ï¼Œç¡®ä¿ç¼©è¿›æ­£ç¡®
- ä½¿ç”¨ç­‰å®½å­—ä½“ç¼–è¾‘å»ºè®®ä»£ç 
- å¦‚æœæœ‰æ¢è¡Œï¼Œä½¿ç”¨ `Shift + Enter` è€Œä¸æ˜¯ç›´æ¥å›è½¦

**å¸¸è§é”™è¯¯ 4**ï¼šä¾§è¾¹æ ä¸­çœ‹ä¸åˆ°æ–°å¢çš„æ³¨é‡Š

**åŸå› **ï¼šä¾§è¾¹æ å¯èƒ½æ²¡æœ‰åˆ·æ–°ï¼Œæˆ–è€…æ³¨é‡Šæ·»åŠ åˆ°äº†å…¶ä»–æ–‡ä»¶ã€‚

**è§£å†³**ï¼š
- åˆ‡æ¢æ–‡ä»¶åå†åˆ‡æ¢å›æ¥
- æ£€æŸ¥æ³¨é‡Šæ˜¯å¦æ·»åŠ åˆ°äº†å½“å‰æŸ¥çœ‹çš„æ–‡ä»¶
- åˆ·æ–°æµè§ˆå™¨é¡µé¢ï¼ˆå¯èƒ½ä¸¢å¤±æœªæäº¤çš„æ³¨é‡Šï¼‰

**å¸¸è§é”™è¯¯ 5**ï¼šå¯¼å‡ºåé¦ˆåï¼ŒAI æ²¡æœ‰æŒ‰å»ºè®®ä¿®æ”¹

**åŸå› **ï¼šAI å¯èƒ½æ²¡æœ‰æ­£ç¡®ç†è§£æ³¨é‡Šçš„æ„å›¾ï¼Œæˆ–è€…å»ºè®®ä¸å¯è¡Œã€‚

**è§£å†³**ï¼š
- ä½¿ç”¨æ›´æ˜ç¡®çš„æ³¨é‡Šï¼ˆSuggestion æ¯” Comment æ›´æ˜ç¡®ï¼‰
- åœ¨å»ºè®®ä»£ç ä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜åŸå› 
- å¦‚æœé—®é¢˜æŒç»­ï¼Œå¯ä»¥å†æ¬¡å‘é€åé¦ˆï¼Œè°ƒæ•´æ³¨é‡Šå†…å®¹

## æœ¬è¯¾å°ç»“

ä»£ç æ³¨é‡Šæ˜¯ Plannotator ä»£ç è¯„å®¡çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè®©ä½ å¯ä»¥ç²¾ç¡®åœ°åé¦ˆä»£ç é—®é¢˜ï¼š

**æ ¸å¿ƒæ“ä½œ**ï¼š
1. **è§¦å‘**ï¼šæ‰§è¡Œ `/plannotator-review`ï¼Œæµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ diff viewer
2. **æµè§ˆ**ï¼šæŸ¥çœ‹ä»£ç å˜æ›´ï¼ˆsplit/unified è§†å›¾åˆ‡æ¢ï¼‰
3. **é€‰ä¸­**ï¼šç‚¹å‡»è¡Œå·æˆ– Hover "+" æŒ‰é’®é€‰ä¸­ä»£ç èŒƒå›´
4. **æ³¨é‡Š**ï¼šæ·»åŠ  Comment/Suggestion/Concern æ³¨é‡Š
5. **ç®¡ç†**ï¼šåœ¨ä¾§è¾¹æ æŸ¥çœ‹ã€è·³è½¬ã€åˆ é™¤æ³¨é‡Š
6. **å¯¼å‡º**ï¼šSend Feedbackï¼ŒAI æ”¶åˆ°ç»“æ„åŒ–åé¦ˆ

**æ³¨é‡Šç±»å‹**ï¼š
- **Comment**ï¼šä¸€èˆ¬æ€§è¯„è®ºï¼Œæä¾›å»ºè®®ä½†ä¸å¼ºåˆ¶
- **Suggestion**ï¼šæ˜ç¡®å»ºè®®ä¿®æ”¹ï¼Œé™„å»ºè®®ä»£ç 
- **Concern**ï¼šæ ‡è®°æ½œåœ¨é—®é¢˜æˆ–é£é™©ç‚¹

**æœ€ä½³å®è·µ**ï¼š
- ä½¿ç”¨ Suggestion æ—¶ï¼Œå°½é‡æä¾›å®Œæ•´çš„å¯è¿è¡Œä»£ç 
- å¯¹äºæ€§èƒ½æˆ–å®‰å…¨é—®é¢˜ï¼Œä½¿ç”¨ Concern æ ‡è®°
- æ³¨é‡Šå†…å®¹è¦å…·ä½“ï¼Œé¿å…æ¨¡ç³Šæè¿°ï¼ˆå¦‚"è¿™ä¸ªä¸å¥½"ï¼‰
- å¯ä»¥é™„åŠ å›¾ç‰‡è¾…åŠ©è¯´æ˜ï¼ˆä½¿ç”¨å›¾åƒæ ‡æ³¨åŠŸèƒ½ï¼‰

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[åˆ‡æ¢ Diff è§†å›¾](../code-review-diff-types/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - å¦‚ä½•åˆ‡æ¢ä¸åŒçš„ diff ç±»å‹ï¼ˆuncommitted/staged/last commit/branchï¼‰
> - ä¸åŒ diff ç±»å‹çš„ä½¿ç”¨åœºæ™¯
> - å¦‚ä½•åœ¨å¤šç§ diff ç±»å‹é—´å¿«é€Ÿåˆ‡æ¢

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-24

| åŠŸèƒ½              | æ–‡ä»¶è·¯å¾„                                                                                              | è¡Œå·    |
| ----------------- | ----------------------------------------------------------------------------------------------------- | ------- |
| CodeAnnotation ç±»å‹å®šä¹‰ | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L53-L56)             | 53-56   |
| CodeAnnotation æ¥å£ | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L55-L66)               | 55-66   |
| DiffViewer ç»„ä»¶    | [`packages/review-editor/components/DiffViewer.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/components/DiffViewer.tsx#L1-L349) | 1-349   |
| ReviewPanel ç»„ä»¶   | [`packages/review-editor/components/ReviewPanel.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/components/ReviewPanel.tsx#L1-L211) | 1-211   |
| å¯¼å‡ºåé¦ˆ Markdown  | [`packages/review-editor/App.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/App.tsx#L86-L126)        | 86-126  |
| Hover "+" æŒ‰é’®     | [`packages/review-editor/components/DiffViewer.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/components/DiffViewer.tsx#L180-L199) | 180-199 |
| æ³¨é‡Šå·¥å…·æ         | [`packages/review-editor/components/DiffViewer.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/components/DiffViewer.tsx#L267-L344) | 267-344 |
| æ³¨é‡Šæ¸²æŸ“          | [`packages/review-editor/components/DiffViewer.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/review-editor/components/DiffViewer.tsx#L140-L177) | 140-177 |

**å…³é”®ç±»å‹**ï¼š
- `CodeAnnotationType`ï¼šä»£ç æ³¨é‡Šç±»å‹ï¼ˆ'comment' | 'suggestion' | 'concern'ï¼‰ï¼ˆ`packages/ui/types.ts:53`ï¼‰
- `CodeAnnotation`ï¼šä»£ç æ³¨é‡Šæ¥å£ï¼ˆ`packages/ui/types.ts:55-66`ï¼‰
- `SelectedLineRange`ï¼šé€‰ä¸­çš„ä»£ç èŒƒå›´ï¼ˆ`packages/ui/types.ts:77-82`ï¼‰

**å…³é”®å‡½æ•°**ï¼š
- `exportReviewFeedback()`ï¼šå°†æ³¨é‡Šè½¬æ¢ä¸º Markdown æ ¼å¼ï¼ˆ`packages/review-editor/App.tsx:86`ï¼‰
- `renderAnnotation()`ï¼šåœ¨ diff ä¸­æ¸²æŸ“æ³¨é‡Šï¼ˆ`packages/review-editor/components/DiffViewer.tsx:140`ï¼‰
- `renderHoverUtility()`ï¼šæ¸²æŸ“ Hover "+" æŒ‰é’®ï¼ˆ`packages/review-editor/components/DiffViewer.tsx:180`ï¼‰

**API è·¯ç”±**ï¼š
- `POST /api/feedback`ï¼šæäº¤è¯„å®¡åé¦ˆï¼ˆ`packages/server/review.ts`ï¼‰
- `GET /api/diff`ï¼šè·å– git diffï¼ˆ`packages/server/review.ts:111`ï¼‰
- `POST /api/diff/switch`ï¼šåˆ‡æ¢ diff ç±»å‹ï¼ˆ`packages/server/review.ts`ï¼‰

**ä¸šåŠ¡è§„åˆ™**ï¼š
- é»˜è®¤æŸ¥çœ‹æœªæäº¤çš„ diffï¼ˆ`git diff HEAD`ï¼‰ï¼ˆ`packages/server/review.ts:111`ï¼‰
- æ³¨é‡Šæ˜¾ç¤ºåœ¨èŒƒå›´æœ€åä¸€è¡Œçš„ä¸‹æ–¹ï¼ˆGitHub é£æ ¼ï¼‰ï¼ˆ`packages/review-editor/components/DiffViewer.tsx:81`ï¼‰
- æ”¯æŒåœ¨æ³¨é‡Šä¸­é™„åŠ å»ºè®®ä»£ç ï¼ˆ`suggestedCode` å­—æ®µï¼‰ï¼ˆ`packages/ui/types.ts:63`ï¼‰

</details>
