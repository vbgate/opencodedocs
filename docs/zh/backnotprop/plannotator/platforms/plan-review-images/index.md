---
title: "å›¾åƒæ‰¹æ³¨: ä¸‰ç§å·¥å…·æ ‡æ³¨ | Plannotator"
sidebarTitle: "ä¸‰ç§å·¥å…·æ ‡æ³¨å›¾ç‰‡"
subtitle: "å›¾åƒæ‰¹æ³¨: ä¸‰ç§å·¥å…·æ ‡æ³¨"
description: "å­¦ä¹  Plannotator å›¾åƒæ‰¹æ³¨çš„ä¸‰å¤§å·¥å…·ã€‚åœ¨è®¡åˆ’è¯„å®¡ä¸­é™„åŠ å›¾ç‰‡ï¼Œä½¿ç”¨ç”»ç¬”ã€ç®­å¤´ã€åœ†å½¢æ ‡æ³¨ï¼Œæ”¯æŒè°ƒæ•´é¢œè‰²å’Œå¿«æ·é”®æ“ä½œã€‚"
tags:
  - "å›¾åƒæ ‡æ³¨"
  - "ç”»ç¬”"
  - "ç®­å¤´"
  - "åœ†å½¢"
  - "å¿«æ·é”®"
  - "è®¡åˆ’è¯„å®¡"
  - "ä»£ç è¯„å®¡"
prerequisite:
  - "platforms-plan-review-basics"
order: 3
---

# æ·»åŠ å›¾åƒæ ‡æ³¨ï¼šç”¨ç”»ç¬”ã€ç®­å¤´ã€åœ†å½¢æ ‡æ³¨å›¾ç‰‡

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- âœ… åœ¨è®¡åˆ’è¯„å®¡æˆ–ä»£ç è¯„å®¡ä¸­é™„åŠ å›¾åƒ
- âœ… ä½¿ç”¨ç”»ç¬”å·¥å…·è‡ªç”±ç»˜åˆ¶æ ‡æ³¨
- âœ… ä½¿ç”¨ç®­å¤´å·¥å…·æ ‡æ³¨é‡ç‚¹åŒºåŸŸ
- âœ… ä½¿ç”¨åœ†å½¢å·¥å…·åœˆé€‰åŒºåŸŸ
- âœ… è°ƒæ•´æ ‡æ³¨é¢œè‰²å’Œç¬”è§¦å¤§å°
- âœ… ä½¿ç”¨å¿«æ·é”®å¿«é€Ÿåˆ‡æ¢å·¥å…·å’Œæ“ä½œ

## ä½ ç°åœ¨çš„å›°å¢ƒ

**é—®é¢˜ 1**ï¼šè¯„å®¡ UI è®¾è®¡ç¨¿æˆ–æµç¨‹å›¾æ—¶ï¼Œæ–‡å­—æè¿°ä¸å¤Ÿç›´è§‚ï¼Œéœ€è¦åœˆå‡ºé—®é¢˜åŒºåŸŸã€‚

**é—®é¢˜ 2**ï¼šæƒ³ç»™ä»£ç è¯„å®¡æ·»åŠ æˆªå›¾æ³¨é‡Šï¼Œä½†åªèƒ½ç”¨æ–‡å­—è¯´æ˜"è¿™é‡Œæœ‰é—®é¢˜"ï¼Œæ— æ³•åœ¨å›¾ä¸Šç›´æ¥æ ‡è®°ã€‚

**é—®é¢˜ 3**ï¼šæ”¶åˆ°å›¢é˜Ÿåˆ†äº«çš„å›¾ç‰‡é“¾æ¥ï¼Œæƒ³å¿«é€Ÿæ ‡æ³¨åé¦ˆï¼Œä½†ä¸æƒ³ä¸‹è½½åˆ°æœ¬åœ°ç”¨å…¶ä»–å·¥å…·å¤„ç†ã€‚

**Plannotator èƒ½å¸®ä½ **ï¼š
- ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ ‡æ³¨å›¾ç‰‡ï¼Œæ— éœ€ä¸‹è½½åˆ°æœ¬åœ°
- ç”»ç¬”ã€ç®­å¤´ã€åœ†å½¢ä¸‰ç§å·¥å…·ï¼Œè¦†ç›–æ‰€æœ‰æ ‡æ³¨åœºæ™¯
- äº”ç§é¢œè‰²å’Œäº”ç§ç¬”è§¦å¤§å°ï¼Œçµæ´»è°ƒæ•´æ ‡æ³¨æ•ˆæœ
- å¿«æ·é”®æ“ä½œï¼Œæå‡æ ‡æ³¨æ•ˆç‡

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

**ä½¿ç”¨åœºæ™¯**ï¼š
- è¯„å®¡ UI è®¾è®¡ç¨¿ã€æµç¨‹å›¾ã€æ¶æ„å›¾æ—¶éœ€è¦æ ‡æ³¨é—®é¢˜
- ä»£ç è¯„å®¡ä¸­éœ€è¦æˆªå›¾å¹¶æ ‡æ³¨ä»£ç é—®é¢˜
- åˆ†äº«å¸¦æ ‡æ³¨çš„å›¾ç‰‡ç»™å›¢é˜Ÿæˆå‘˜
- éœ€è¦åœ¨å›¾ç‰‡ä¸Šåœˆé€‰é‡ç‚¹åŒºåŸŸæˆ–æ·»åŠ ç®­å¤´æŒ‡å¼•

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

::: warning å‰ç½®æ¡ä»¶

æœ¬æ•™ç¨‹å‡è®¾ä½ å·²ç»ï¼š

- âœ… å®Œæˆäº† [è®¡åˆ’è¯„å®¡åŸºç¡€](../plan-review-basics/) æˆ– [ä»£ç è¯„å®¡åŸºç¡€](../code-review-basics/)
- âœ… çŸ¥é“å¦‚ä½•æ‰“å¼€è®¡åˆ’è¯„å®¡æˆ–ä»£ç è¯„å®¡é¡µé¢
- âœ… äº†è§£åŸºæœ¬çš„æ³¨é‡Šæ“ä½œ

:::

## æ ¸å¿ƒæ€è·¯

**å›¾åƒæ ‡æ³¨çš„ä¸‰ç§å·¥å…·**ï¼š

| å·¥å…· | å›¾æ ‡ | å¿«æ·é”® | ç”¨é€” |
|--- | --- | --- | ---|
| **ç”»ç¬”** | ğŸ–Šï¸ | 1 | è‡ªç”±ç»˜åˆ¶ï¼Œé€‚åˆæ‰‹å†™æ³¨é‡Šã€åœˆé€‰ä»»æ„å½¢çŠ¶ |
| **ç®­å¤´** | â¡ï¸ | 2 | æ ‡æ³¨é‡ç‚¹åŒºåŸŸæˆ–æŒ‡ç¤ºæ–¹å‘ï¼Œé€‚åˆç‚¹å¯¹ç‚¹æ ‡æ³¨ |
| **åœ†å½¢** | â­• | 3 | åœˆé€‰åŒºåŸŸï¼Œé€‚åˆçªå‡ºæ˜¾ç¤ºæŸä¸ªå…ƒç´  |

**å·¥ä½œæµç¨‹**ï¼š
```
ä¸Šä¼ å›¾ç‰‡ â†’ é€‰æ‹©å·¥å…· â†’ è°ƒæ•´é¢œè‰²å’Œå¤§å° â†’ åœ¨å›¾ç‰‡ä¸Šç»˜åˆ¶ â†’ ä¿å­˜
```

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šæ‰“å¼€è®¡åˆ’è¯„å®¡æˆ–ä»£ç è¯„å®¡é¡µé¢

**ä¸ºä»€ä¹ˆ**
Plannotator çš„å›¾åƒæ ‡æ³¨åŠŸèƒ½é›†æˆåœ¨è®¡åˆ’è¯„å®¡å’Œä»£ç è¯„å®¡ä¸­ã€‚

**æ“ä½œ**

1. å¯åŠ¨è®¡åˆ’è¯„å®¡ï¼ˆClaude Code è§¦å‘æˆ– OpenCode è°ƒç”¨ submit_planï¼‰
2. æˆ–è¿è¡Œ `/plannotator-review` å‘½ä»¤å¯åŠ¨ä»£ç è¯„å®¡

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- æµè§ˆå™¨æ‰“å¼€è¯„å®¡é¡µé¢
- å³ä¸Šè§’æœ‰ã€ŒUploadã€æˆ–ã€Œé™„ä»¶ã€æŒ‰é’®

### ç¬¬ 2 æ­¥ï¼šä¸Šä¼ å›¾åƒ

**ä¸ºä»€ä¹ˆ**
éœ€è¦å…ˆä¸Šä¼ å›¾ç‰‡æ‰èƒ½è¿›è¡Œæ ‡æ³¨ã€‚

**æ“ä½œ**

1. ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ã€ŒUploadã€æˆ–ã€Œé™„ä»¶ã€æŒ‰é’®
2. é€‰æ‹©è¦æ ‡æ³¨çš„å›¾ç‰‡ï¼ˆæ”¯æŒ PNGã€JPEGã€WebP æ ¼å¼ï¼‰
3. å›¾ç‰‡ä¸Šä¼ åä¼šæ˜¾ç¤ºåœ¨æ³¨é‡Šåˆ—è¡¨ä¸­

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å›¾ç‰‡ç¼©ç•¥å›¾å‡ºç°åœ¨æ³¨é‡ŠåŒºåŸŸ
- ç‚¹å‡»ç¼©ç•¥å›¾å¯ä»¥æ‰“å¼€æ ‡æ³¨ç¼–è¾‘å™¨

::: tip å›¾ç‰‡æ¥æº
ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å›¾ç‰‡ï¼š
- æˆªå›¾å¹¶ç²˜è´´ï¼ˆCtrl+V / Cmd+Vï¼‰
- ä»æœ¬åœ°æ–‡ä»¶é€‰æ‹©
- æ‹–æ‹½å›¾ç‰‡åˆ°é¡µé¢
:::

### ç¬¬ 3 æ­¥ï¼šæ‰“å¼€å›¾åƒæ ‡æ³¨ç¼–è¾‘å™¨

**ä¸ºä»€ä¹ˆ**
æ ‡æ³¨ç¼–è¾‘å™¨æä¾›ç»˜å›¾å·¥å…·å’Œé¢œè‰²é€‰æ‹©ã€‚

**æ“ä½œ**

1. ç‚¹å‡»å·²ä¸Šä¼ çš„å›¾ç‰‡ç¼©ç•¥å›¾
2. å›¾åƒæ ‡æ³¨ç¼–è¾‘å™¨ä¼šåœ¨å¼¹çª—ä¸­æ‰“å¼€

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å›¾ç‰‡å±…ä¸­æ˜¾ç¤º
- é¡¶éƒ¨æœ‰ä¸€æ’å·¥å…·æ 
- å·¥å…·æ ä»å·¦åˆ°å³ï¼šå·¥å…·é€‰æ‹©ã€ç¬”è§¦å¤§å°ã€é¢œè‰²é€‰æ‹©ã€æ’¤é”€ã€æ¸…ç©ºã€ä¿å­˜

### ç¬¬ 4 æ­¥ï¼šä½¿ç”¨ç”»ç¬”å·¥å…·è‡ªç”±ç»˜åˆ¶

**ä¸ºä»€ä¹ˆ**
ç”»ç¬”å·¥å…·é€‚åˆæ‰‹å†™æ³¨é‡Šæˆ–åœˆé€‰ä»»æ„å½¢çŠ¶ã€‚

**æ“ä½œ**

1. ç¡®ä¿é€‰ä¸­äº†ç”»ç¬”å·¥å…·ï¼ˆğŸ–Šï¸ å›¾æ ‡ï¼Œé»˜è®¤é€‰ä¸­ï¼‰
2. æŒ‰ä¸‹é¼ æ ‡å·¦é”®ï¼Œåœ¨å›¾ç‰‡ä¸Šç»˜åˆ¶
3. æ¾å¼€é¼ æ ‡å®Œæˆç»˜åˆ¶

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- é¼ æ ‡ç§»åŠ¨æ—¶è·Ÿéšçš„çº¿æ¡è½¨è¿¹
- æ¾å¼€é¼ æ ‡åï¼Œç»˜åˆ¶çš„å½¢çŠ¶å›ºå®šåœ¨å›¾ç‰‡ä¸Š

::: info ç”»ç¬”ç‰¹ç‚¹
- ä½¿ç”¨ perfect-freehand åº“å®ç°å¹³æ»‘çš„æ‰‹ç»˜æ•ˆæœ
- æ”¯æŒå‹åŠ›æ„Ÿåº”ï¼ˆå¦‚æœä½ çš„è®¾å¤‡æ”¯æŒï¼‰
- ç¬”è§¦è¶Šç²—ï¼Œçº¿æ¡è¶Šå¹³æ»‘
:::

### ç¬¬ 5 æ­¥ï¼šä½¿ç”¨ç®­å¤´å·¥å…·æ ‡æ³¨é‡ç‚¹

**ä¸ºä»€ä¹ˆ**
ç®­å¤´é€‚åˆç‚¹å¯¹ç‚¹æ ‡æ³¨ï¼Œæ˜ç¡®æŒ‡å‡ºé—®é¢˜ä½ç½®ã€‚

**æ“ä½œ**

1. ç‚¹å‡»ç®­å¤´å·¥å…·ï¼ˆâ¡ï¸ å›¾æ ‡ï¼‰æˆ–æŒ‰å¿«æ·é”® `2`
2. åœ¨å›¾ç‰‡ä¸Šç‚¹å‡»ç¡®å®šç®­å¤´èµ·ç‚¹
3. æ‹–åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼Œæ¾å¼€é¼ æ ‡å®Œæˆç®­å¤´ç»˜åˆ¶

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„ä¸€æ¡ç›´çº¿
- ç»ˆç‚¹æœ‰ä¸€ä¸ªç®­å¤´ï¼ŒæŒ‡å‘ç›®æ ‡ä½ç½®

::: tip ç®­å¤´ç»˜åˆ¶æŠ€å·§
- **èµ·ç‚¹**æ˜¯ç®­å¤´å°¾éƒ¨ï¼Œ**ç»ˆç‚¹**æ˜¯ç®­å¤´å¤´éƒ¨
- æ‹–åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥å®æ—¶é¢„è§ˆç®­å¤´æ–¹å‘
- é€‚åˆæ ‡æ³¨"è¿™é‡Œæœ‰é—®é¢˜"æˆ–"éœ€è¦ä¿®æ”¹è¿™é‡Œ"ç­‰åœºæ™¯
:::

### ç¬¬ 6 æ­¥ï¼šä½¿ç”¨åœ†å½¢å·¥å…·åœˆé€‰åŒºåŸŸ

**ä¸ºä»€ä¹ˆ**
åœ†å½¢é€‚åˆçªå‡ºæ˜¾ç¤ºæŸä¸ªå…ƒç´ ï¼Œåœˆé€‰èŒƒå›´æ¸…æ™°ã€‚

**æ“ä½œ**

1. ç‚¹å‡»åœ†å½¢å·¥å…·ï¼ˆâ­• å›¾æ ‡ï¼‰æˆ–æŒ‰å¿«æ·é”® `3`
2. åœ¨å›¾ç‰‡ä¸Šç‚¹å‡»ç¡®å®šåœ†å½¢çš„ä¸€æ¡è¾¹
3. æ‹–åŠ¨åˆ°å¯¹è¾¹ï¼Œæ¾å¼€é¼ æ ‡å®Œæˆåœ†å½¢ç»˜åˆ¶

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- ä¸€ä¸ªåœ†å½¢ï¼Œèµ·å§‹ç‚¹åˆ°ç»ˆæ­¢ç‚¹çš„è¿çº¿ä¸ºç›´å¾„
- åœ†å½¢ä¸­å¿ƒæ˜¯ä¸¤ç‚¹è¿çº¿çš„ä¸­ç‚¹

::: details åœ†å½¢ç»˜åˆ¶åŸç†

åœ†å½¢å·¥å…·ä»è¾¹ç¼˜åˆ°è¾¹ç¼˜ç»˜åˆ¶ï¼š
- **ç¬¬ 1 æ¬¡ç‚¹å‡»**ï¼šåœ†çš„æŸä¸€æ¡è¾¹
- **æ‹–åŠ¨**ï¼šç¡®å®šåœ†çš„ç›´å¾„
- **æ¾å¼€**ï¼šç»˜åˆ¶å®Œæˆåœ†

æºç å®ç°ï¼ˆ`utils.ts:95-124`ï¼‰ï¼š
```typescript
// ä¸­å¿ƒæ˜¯èµ·ç‚¹å’Œç»ˆç‚¹çš„ä¸­ç‚¹
const cx = (x1 + x2) / 2;
const cy = (y1 + y2) / 2;

// åŠå¾„æ˜¯ä¸¤ç‚¹è·ç¦»çš„ä¸€åŠ
const radius = Math.hypot(x2 - x1, y2 - y1) / 2;
```

:::

### ç¬¬ 7 æ­¥ï¼šè°ƒæ•´æ ‡æ³¨é¢œè‰²

**ä¸ºä»€ä¹ˆ**
ä¸åŒé¢œè‰²å¯ä»¥åŒºåˆ†ä¸åŒç±»å‹çš„æ ‡æ³¨ï¼ˆå¦‚çº¢è‰²è¡¨ç¤ºé”™è¯¯ï¼Œç»¿è‰²è¡¨ç¤ºå»ºè®®ï¼‰ã€‚

**æ“ä½œ**

1. åœ¨å·¥å…·æ ä¸­ç‚¹å‡»é¢œè‰²åœ†ç‚¹
2. å¯é€‰é¢œè‰²ï¼šçº¢è‰²ã€é»„è‰²ã€ç»¿è‰²ã€è“è‰²ã€ç™½è‰²

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å½“å‰é€‰ä¸­çš„é¢œè‰²åœ†ç‚¹ä¼šæ”¾å¤§æ˜¾ç¤º
- æ‰€æœ‰æ–°ç»˜åˆ¶çš„æ ‡æ³¨éƒ½ä½¿ç”¨å½“å‰é¢œè‰²

::: info é¢œè‰²ä½¿ç”¨å»ºè®®
- **çº¢è‰²**ï¼šé”™è¯¯ã€é—®é¢˜ã€éœ€è¦åˆ é™¤çš„å†…å®¹
- **é»„è‰²**ï¼šè­¦å‘Šã€æ³¨æ„ã€éœ€è¦ç¡®è®¤çš„åœ°æ–¹
- **ç»¿è‰²**ï¼šå»ºè®®ã€ä¼˜åŒ–ã€æ”¹è¿›æ„è§
- **è“è‰²**ï¼šè¡¥å……è¯´æ˜ã€å¤‡æ³¨
- **ç™½è‰²**ï¼šé€‚ç”¨äºæ·±è‰²èƒŒæ™¯çš„å›¾ç‰‡
:::

### ç¬¬ 8 æ­¥ï¼šè°ƒæ•´ç¬”è§¦å¤§å°

**ä¸ºä»€ä¹ˆ**
ä¸åŒå¤§å°çš„ç¬”è§¦é€‚åˆä¸åŒçš„æ ‡æ³¨åœºæ™¯ã€‚

**æ“ä½œ**

1. ç‚¹å‡»å·¥å…·æ ä¸­çš„ `-` æˆ– `+` æŒ‰é’®
2. æˆ–è§‚å¯Ÿå½“å‰ç¬”è§¦å¤§å°é¢„è§ˆï¼ˆä¸€ä¸ªåœ†ç‚¹ï¼‰

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- ç¬”è§¦å¤§å°å¯é€‰ï¼š3ã€6ã€10ã€16ã€24
- å·¥å…·æ ä¸­é—´æ˜¾ç¤ºå½“å‰ç¬”è§¦å¤§å°çš„é¢„è§ˆåœ†ç‚¹

::: tip ç¬”è§¦å¤§å°å»ºè®®
- **3**ï¼šç²¾ç¡®æ ‡æ³¨å°å…ƒç´ ï¼ˆå¦‚æŒ‰é’®ã€å›¾æ ‡ï¼‰
- **6**ï¼šå¸¸è§„æ ‡æ³¨ï¼ˆé»˜è®¤å€¼ï¼‰
- **10**ï¼šç²—çº¿æ¡æ ‡æ³¨ï¼Œé€‚åˆåœˆé€‰è¾ƒå¤§åŒºåŸŸ
- **16**ï¼šéå¸¸ç²—çš„æ ‡æ³¨ï¼Œé€‚åˆå¼ºè°ƒé‡ç‚¹
- **24**ï¼šæœ€å¤§ç¬”è§¦ï¼Œé€‚åˆçªå‡ºæ˜¾ç¤ºè¶…å¤§åŒºåŸŸ
:::

### ç¬¬ 9 æ­¥ï¼šæ’¤é”€å’Œæ¸…ç©º

**ä¸ºä»€ä¹ˆ**
æ ‡æ³¨è¿‡ç¨‹ä¸­éš¾å…å‡ºé”™ï¼Œéœ€è¦æ’¤é”€æˆ–é‡æ–°å¼€å§‹ã€‚

**æ“ä½œ**

1. **æ’¤é”€ä¸Šä¸€æ­¥**ï¼šç‚¹å‡»æ’¤é”€å›¾æ ‡ï¼ˆâ†©ï¸ï¼‰æˆ–æŒ‰ `Cmd+Z` / `Ctrl+Z`
2. **æ¸…ç©ºæ‰€æœ‰æ ‡æ³¨**ï¼šç‚¹å‡»æ¸…ç©ºå›¾æ ‡ï¼ˆâŒï¼‰

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- æ’¤é”€ï¼šæœ€åä¸€æ¬¡ç»˜åˆ¶çš„æ ‡æ³¨æ¶ˆå¤±
- æ¸…ç©ºï¼šæ‰€æœ‰æ ‡æ³¨è¢«ç§»é™¤ï¼Œæ¢å¤åˆ°åŸå§‹å›¾ç‰‡

::: warning æ¸…ç©ºæç¤º
æ¸…ç©ºæ“ä½œä¸å¯æ’¤é”€ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚å»ºè®®å…ˆç”¨æ’¤é”€é€æ­¥å›é€€ã€‚
:::

### ç¬¬ 10 æ­¥ï¼šä¿å­˜æ ‡æ³¨

**ä¸ºä»€ä¹ˆ**
ä¿å­˜æ ‡æ³¨åï¼Œå›¾ç‰‡ä¼šè¢«åˆå¹¶åˆ°æ³¨é‡Šä¸­ï¼Œå¯ä»¥åœ¨è¯„å®¡ä¸­æŸ¥çœ‹ã€‚

**æ“ä½œ**

1. ç‚¹å‡»å·¥å…·æ å³ä¾§çš„ä¿å­˜å›¾æ ‡ï¼ˆâœ…ï¼‰
2. æˆ–æŒ‰ `Esc` æˆ– `Enter` é”®
3. æˆ–ç‚¹å‡»å¼¹çª—å¤–éƒ¨åŒºåŸŸ

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å¼¹çª—å…³é—­
- å›¾ç‰‡ç¼©ç•¥å›¾æ›´æ–°ä¸ºæ ‡æ³¨åçš„ç‰ˆæœ¬
- å›¾ç‰‡å·²é™„åŠ åˆ°å½“å‰æ³¨é‡Šä¸­

::: tip ä¿å­˜æœºåˆ¶
- å¦‚æœ**æ²¡æœ‰ç»˜åˆ¶ä»»ä½•æ ‡æ³¨**ï¼Œç›´æ¥ä¿å­˜åŸå§‹å›¾ç‰‡
- å¦‚æœ**æœ‰æ ‡æ³¨**ï¼Œå°†åŸå§‹å›¾ç‰‡å’Œæ ‡æ³¨åˆå¹¶ä¸ºä¸€å¼ æ–°å›¾ç‰‡
- åˆå¹¶åçš„å›¾ç‰‡ä»¥ PNG æ ¼å¼ä¿å­˜ï¼Œä¿æŒé«˜è´¨é‡
:::

## æ£€æŸ¥ç‚¹ âœ…

**éªŒè¯ä½ çš„å­¦ä¹ æˆæœ**ï¼š

- [ ] èƒ½æˆåŠŸä¸Šä¼ å›¾ç‰‡åˆ°è¯„å®¡é¡µé¢
- [ ] èƒ½ä½¿ç”¨ç”»ç¬”ã€ç®­å¤´ã€åœ†å½¢ä¸‰ç§å·¥å…·ç»˜åˆ¶æ ‡æ³¨
- [ ] èƒ½è°ƒæ•´æ ‡æ³¨é¢œè‰²å’Œç¬”è§¦å¤§å°
- [ ] èƒ½ä½¿ç”¨å¿«æ·é”®ï¼ˆ1/2/3ã€Cmd+Zã€Escï¼‰å¿«é€Ÿæ“ä½œ
- [ ] èƒ½æ’¤é”€é”™è¯¯çš„æ ‡æ³¨
- [ ] èƒ½ä¿å­˜æ ‡æ³¨åçš„å›¾ç‰‡

## è¸©å‘æé†’

### é—®é¢˜ 1ï¼šç®­å¤´æ–¹å‘åäº†

**ç°è±¡**ï¼šç®­å¤´æŒ‡å‘äº†é”™è¯¯çš„æ–¹å‘ã€‚

**åŸå› **ï¼šç®­å¤´å·¥å…·ä»èµ·ç‚¹ï¼ˆå°¾éƒ¨ï¼‰åˆ°ç»ˆç‚¹ï¼ˆå¤´éƒ¨ï¼‰ç»˜åˆ¶ã€‚

**è§£å†³**ï¼š
- é‡æ–°ç»˜åˆ¶ï¼Œç¡®ä¿èµ·ç‚¹æ˜¯ç®­å¤´å°¾éƒ¨ï¼Œç»ˆç‚¹æ˜¯ç®­å¤´å¤´éƒ¨
- å¦‚æœå·²ç»˜åˆ¶ï¼Œæ’¤é”€åé‡ç”»

### é—®é¢˜ 2ï¼šåœ†å½¢ä½ç½®ä¸å¯¹

**ç°è±¡**ï¼šåœ†å½¢æ²¡æœ‰åœˆé€‰åˆ°ç›®æ ‡åŒºåŸŸã€‚

**åŸå› **ï¼šåœ†å½¢å·¥å…·ä»è¾¹ç¼˜åˆ°è¾¹ç¼˜ç»˜åˆ¶ï¼Œä¸­å¿ƒæ˜¯ä¸¤ç‚¹ä¸­ç‚¹ã€‚

**è§£å†³**ï¼š
- ç¬¬ä¸€æ¬¡ç‚¹å‡»åœ¨ç›®æ ‡åŒºåŸŸçš„è¾¹ç¼˜
- æ‹–åŠ¨åˆ°å¯¹è¾¹ï¼Œç¡®ä¿ç›®æ ‡åŒºåŸŸåœ¨åœ†å†…
- è°ƒæ•´æ—¶å¯ä»¥æ’¤é”€é‡ç”»

### é—®é¢˜ 3ï¼šç¬”è§¦å¤ªç²—æˆ–å¤ªç»†

**ç°è±¡**ï¼šæ ‡æ³¨æ•ˆæœä¸ç†æƒ³ã€‚

**åŸå› **ï¼šç¬”è§¦å¤§å°ä¸é€‚åˆå½“å‰åœºæ™¯ã€‚

**è§£å†³**ï¼š
- ä½¿ç”¨å·¥å…·æ çš„ `-` æˆ– `+` æŒ‰é’®è°ƒæ•´ç¬”è§¦å¤§å°
- å°å…ƒç´ ç”¨ 3-6ï¼Œå¤§åŒºåŸŸç”¨ 10-24

### é—®é¢˜ 4ï¼šé¢œè‰²çœ‹ä¸æ¸…

**ç°è±¡**ï¼šåœ¨æ·±è‰²èƒŒæ™¯ä¸Šä½¿ç”¨é»‘è‰²ç¬”è§¦ï¼Œçœ‹ä¸æ¸…æ ‡æ³¨ã€‚

**åŸå› **ï¼šé¢œè‰²é€‰æ‹©ä¸å½“ã€‚

**è§£å†³**ï¼š
- æ·±è‰²èƒŒæ™¯ä½¿ç”¨ç™½è‰²æˆ–é»„è‰²
- æµ…è‰²èƒŒæ™¯ä½¿ç”¨çº¢è‰²ã€ç»¿è‰²æˆ–è“è‰²

## å¿«æ·é”®é€ŸæŸ¥

| å¿«æ·é”® | åŠŸèƒ½ |
|--- | ---|
| `1` | åˆ‡æ¢åˆ°ç”»ç¬”å·¥å…· |
| `2` | åˆ‡æ¢åˆ°ç®­å¤´å·¥å…· |
| `3` | åˆ‡æ¢åˆ°åœ†å½¢å·¥å…· |
| `Cmd+Z` / `Ctrl+Z` | æ’¤é”€ä¸Šä¸€æ­¥ |
| `Esc` / `Enter` | ä¿å­˜æ ‡æ³¨ |

## æœ¬è¯¾å°ç»“

æœ¬è¯¾ä½ å­¦ä¼šäº†ï¼š

1. **ä¸Šä¼ å›¾ç‰‡**ï¼šé€šè¿‡ä¸Šä¼ æŒ‰é’®æˆ–ç²˜è´´åˆ°è¯„å®¡é¡µé¢
2. **ä¸‰ç§æ ‡æ³¨å·¥å…·**ï¼š
   - ç”»ç¬”ï¼ˆ1ï¼‰ï¼šè‡ªç”±ç»˜åˆ¶ï¼Œé€‚åˆæ‰‹å†™æ³¨é‡Š
   - ç®­å¤´ï¼ˆ2ï¼‰ï¼šç‚¹å¯¹ç‚¹æ ‡æ³¨ï¼Œé€‚åˆæŒ‡ç¤ºé‡ç‚¹
   - åœ†å½¢ï¼ˆ3ï¼‰ï¼šåœˆé€‰åŒºåŸŸï¼Œé€‚åˆçªå‡ºæ˜¾ç¤º
3. **è°ƒæ•´æ ‡æ³¨æ ·å¼**ï¼š5 ç§é¢œè‰²ã€5 ç§ç¬”è§¦å¤§å°
4. **æ’¤é”€å’Œæ¸…ç©º**ï¼šä¿®æ­£é”™è¯¯çš„æ ‡æ³¨
5. **ä¿å­˜æ ‡æ³¨**ï¼šå°†æ ‡æ³¨åˆå¹¶åˆ°å›¾ç‰‡ä¸­

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[ä»£ç è¯„å®¡åŸºç¡€](../code-review-basics/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - å¦‚ä½•ä½¿ç”¨ /plannotator-review å‘½ä»¤è¯„å®¡ git diff
> - åœ¨ side-by-side å’Œ unified è§†å›¾é—´åˆ‡æ¢
> - ç‚¹å‡»è¡Œå·é€‰æ‹©ä»£ç èŒƒå›´
> - æ·»åŠ è¡Œçº§æ³¨é‡Šï¼ˆcomment/suggestion/concernï¼‰
> - åˆ‡æ¢ä¸åŒçš„ diff ç±»å‹
> - å°†åé¦ˆå‘é€ç»™ AI Agent

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-24

| åŠŸèƒ½          | æ–‡ä»¶è·¯å¾„                                                                                              | è¡Œå·    |
|--- | --- | ---|
| å·¥å…·ç±»å‹å®šä¹‰   | [`packages/ui/components/ImageAnnotator/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/types.ts#L1-L40) | 1-40    |
| æ¸²æŸ“å‡½æ•°       | [`packages/ui/components/ImageAnnotator/utils.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/utils.ts#L1-L148) | 1-148   |
| ä¸»ç»„ä»¶         | [`packages/ui/components/ImageAnnotator/index.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/index.tsx#L1-L233) | 1-233   |
| å·¥å…·æ ç»„ä»¶     | [`packages/ui/components/ImageAnnotator/Toolbar.tsx`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/components/ImageAnnotator/Toolbar.tsx#L1-L219) | 1-219   |
| Annotation æ¥å£ | [`packages/ui/types.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/ui/types.ts#L11-L33)                 | 11-33   |

**å…³é”®ç±»å‹**ï¼š

**Tool**ï¼ˆå·¥å…·ç±»å‹ï¼‰ï¼š
```typescript
export type Tool = 'pen' | 'arrow' | 'circle';
```

**Point**ï¼ˆåæ ‡ç‚¹ï¼‰ï¼š
```typescript
export interface Point {
  x: number;
  y: number;
  pressure?: number;
}
```

**Stroke**ï¼ˆç¬”è§¦ï¼‰ï¼š
```typescript
export interface Stroke {
  id: string;
  tool: Tool;
  points: Point[];
  color: string;
  size: number;
}
```

**AnnotatorState**ï¼ˆæ ‡æ³¨å™¨çŠ¶æ€ï¼‰ï¼š
```typescript
export interface AnnotatorState {
  tool: Tool;
  color: string;
  strokeSize: number;
  strokes: Stroke[];
  currentStroke: Stroke | null;
}
```

**COLORS**ï¼ˆé¢œè‰²æ•°ç»„ï¼‰ï¼š
```typescript
export const COLORS = [
  '#ef4444', // red
  '#eab308', // yellow
  '#22c55e', // green
  '#3b82f6', // blue
  '#ffffff', // white
] as const;
```

**STROKE_SIZES**ï¼ˆç¬”è§¦å¤§å°ï¼‰ï¼š
```typescript
const STROKE_SIZES = [3, 6, 10, 16, 24];
```

**å…³é”®å‡½æ•°**ï¼š

**renderPenStroke()**ï¼ˆæ¸²æŸ“ç”»ç¬”ç¬”è§¦ï¼‰ï¼š
- ä½¿ç”¨ perfect-freehand åº“å®ç°å¹³æ»‘æ‰‹ç»˜æ•ˆæœ
- æ”¯æŒå‹åŠ›æ„Ÿåº”ï¼ˆpressure å­—æ®µï¼‰

**renderArrow()**ï¼ˆæ¸²æŸ“ç®­å¤´ï¼‰ï¼š
- ä»èµ·ç‚¹ç»˜åˆ¶ç›´çº¿åˆ°ç»ˆç‚¹
- åœ¨ç»ˆç‚¹ç»˜åˆ¶ç®­å¤´å¤´éƒ¨

**renderCircle()**ï¼ˆæ¸²æŸ“åœ†å½¢ï¼‰ï¼š
- è®¡ç®—ä¸¤ç‚¹ä¸­ç‚¹ä½œä¸ºåœ†å¿ƒ
- è®¡ç®—ä¸¤ç‚¹è·ç¦»çš„ä¸€åŠä½œä¸ºåŠå¾„

**renderStroke()**ï¼ˆæ ¹æ®å·¥å…·ç±»å‹æ¸²æŸ“ï¼‰ï¼š
- æ ¹æ® tool å­—æ®µè°ƒç”¨å¯¹åº”çš„æ¸²æŸ“å‡½æ•°
- æ”¯æŒç¼©æ”¾ï¼ˆscale å‚æ•°ï¼‰

**Annotation.imagePaths**ï¼ˆé™„åŠ å›¾ç‰‡å­—æ®µï¼‰ï¼š
```typescript
export interface Annotation {
  // ...
  imagePaths?: string[]; // Attached images (local paths or URLs)
}
```

**å¿«æ·é”®å¤„ç†**ï¼ˆindex.tsx:33-59ï¼‰ï¼š
```typescript
// 1/2/3 to switch tools
if (e.key === '1') setState(s => ({ ...s, tool: 'pen' }));
if (e.key === '2') setState(s => ({ ...s, tool: 'arrow' }));
if (e.key === '3') setState(s => ({ ...s, tool: 'circle' }));

// Cmd+Z to undo
if ((e.metaKey || e.ctrlKey) && e.key === 'z') {
  e.preventDefault();
  handleUndo();
}
```

</details>
