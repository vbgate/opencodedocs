---
title: "Token ç»Ÿè®¡: æˆæœ¬ç›‘æ§ä¸æ•°æ®åˆ†æ | Antigravity Manager"
sidebarTitle: "ä¸€çœ¼çœ‹ç©¿è°æœ€è´µ"
subtitle: "Token ç»Ÿè®¡: æˆæœ¬ç›‘æ§ä¸æ•°æ®åˆ†æ"
description: "å­¦ä¹  Token Stats ç»Ÿè®¡åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•ã€‚äº†è§£å¦‚ä½•ä»å“åº”æå– token æ•°æ®ã€æŒ‰æ¨¡å‹å’Œè´¦å·åˆ†æç”¨é‡ï¼Œé€šè¿‡ Top åˆ—è¡¨å®šä½æœ€è´µçš„æ¨¡å‹ä¸è´¦å·ï¼Œæ’æŸ¥ç»Ÿè®¡ç¼ºå¤±é—®é¢˜ã€‚"
tags:
  - "Token Stats"
  - "æˆæœ¬"
  - "ç›‘æ§"
  - "SQLite"
  - "ç”¨é‡ç»Ÿè®¡"
prerequisite:
  - "start-proxy-and-first-client"
  - "advanced-model-router"
order: 7
---
# Token Statsï¼šæˆæœ¬è§†è§’çš„ç»Ÿè®¡å£å¾„ä¸å›¾è¡¨è§£è¯»

ä½ å·²ç»æŠŠå®¢æˆ·ç«¯æ¥è¿› Antigravity Tools äº†ï¼Œä½†â€œåˆ°åº•æ˜¯è°åœ¨çƒ§é’±ã€è´µåœ¨å“ªã€æ˜¯ä¸æ˜¯æŸä¸ªæ¨¡å‹çªç„¶é£™äº†â€é€šå¸¸å¾ˆéš¾é ç›´è§‰åˆ¤æ–­ã€‚è¿™ä¸€è¯¾åªåšä¸€ä»¶äº‹ï¼šæŠŠ Token Stats é¡µé‡Œçš„æ•°æ®å£å¾„è®²æ¸…æ¥šï¼Œå¹¶æ•™ä½ ç”¨å›¾è¡¨å¿«é€Ÿå®šä½æˆæœ¬é—®é¢˜ã€‚

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- è¯´æ¸…æ¥š Token Stats çš„æ•°æ®æ¥è‡ªå“ªé‡Œï¼ˆä»€ä¹ˆæ—¶å€™ä¼šè®°å½•ã€ä»€ä¹ˆæƒ…å†µä¸‹ä¼šç¼ºå¤±ï¼‰
- æŒ‰å°æ—¶/æ—¥/å‘¨åˆ‡æ¢è§‚å¯Ÿçª—å£ï¼Œé¿å…â€œåªçœ‹ä¸€å¤©â€å¯¼è‡´è¯¯åˆ¤
- åœ¨â€œæŒ‰æ¨¡å‹/æŒ‰è´¦å·â€ä¸¤ç§è§†å›¾ä¸‹ï¼Œç”¨è¶‹åŠ¿å›¾æ‰¾å¼‚å¸¸å³°å€¼
- ç”¨ Top åˆ—è¡¨é”å®šæœ€è´µæ¨¡å‹/è´¦å·ï¼Œå†å›åˆ°è¯·æ±‚æ—¥å¿—è¿½æ ¹å› 

## ä½ ç°åœ¨çš„å›°å¢ƒ

- ä½ æ„Ÿè§‰è°ƒç”¨å˜è´µäº†ï¼Œä½†ä¸çŸ¥é“æ˜¯æ¨¡å‹å˜äº†ã€è´¦å·å˜äº†ï¼Œè¿˜æ˜¯æŸå¤©çªç„¶é‡å¤§
- ä½ çœ‹åˆ°äº† `X-Mapped-Model`ï¼Œä½†ä¸ç¡®å®šç»Ÿè®¡åˆ°åº•æŒ‰å“ªä¸ªæ¨¡å‹å£å¾„ç®—
- Token Stats é‡Œå¶å°”æ˜¯ 0 æˆ–â€œæš‚æ— æ•°æ®â€ï¼Œä¸çŸ¥é“æ˜¯æ²¡æµé‡è¿˜æ˜¯æ²¡ç»Ÿè®¡åˆ°

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

- ä½ è¦åšæˆæœ¬ä¼˜åŒ–ï¼šå…ˆæŠŠâ€œè°æœ€è´µâ€é‡åŒ–å‡ºæ¥
- ä½ åœ¨æ’æŸ¥çªå‘é™æµ/å¼‚å¸¸ï¼šç”¨å³°å€¼æ—¶é—´ç‚¹å»å¯¹ç…§è¯·æ±‚æ—¥å¿—
- ä½ åœ¨åšæ¨¡å‹è·¯ç”±/é…é¢æ²»ç†é…ç½®æ”¹åŠ¨åï¼Œæƒ³éªŒè¯æˆæœ¬æ˜¯å¦æŒ‰é¢„æœŸä¸‹é™

## ä»€ä¹ˆæ˜¯ Token Statsï¼Ÿ

**Token Stats**æ˜¯ Antigravity Tools çš„æœ¬åœ°ç”¨é‡ç»Ÿè®¡é¡µï¼šä»£ç†åœ¨è½¬å‘è¯·æ±‚åï¼Œä¼šå°è¯•ä»å“åº” JSON æˆ–æµå¼æ•°æ®ä¸­æå– `usage/usageMetadata` é‡Œçš„ token æ•°ï¼Œå¹¶æŠŠæ¯æ¬¡è¯·æ±‚æŒ‰è´¦å·ä¸æ¨¡å‹å†™å…¥æœ¬æœº SQLiteï¼ˆ`token_stats.db`ï¼‰ï¼Œæœ€ååœ¨ UI é‡ŒæŒ‰æ—¶é—´/æ¨¡å‹/è´¦å·æ±‡æ€»å±•ç¤ºã€‚

::: info å…ˆè¯´æ˜ä¸€ä¸ªå®¹æ˜“è¸©çš„ç‚¹
Token Stats çš„â€œæ¨¡å‹â€å£å¾„æ¥è‡ªä½ è¯·æ±‚é‡Œçš„ `model` å­—æ®µï¼ˆæˆ– Gemini çš„ `/v1beta/models/<model>` è·¯å¾„è§£æï¼‰ï¼Œä¸ç­‰äºè·¯ç”±åçš„ `X-Mapped-Model`ã€‚
:::

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

- ä½ å·²ç»è·‘é€šè¿‡ä¸€æ¬¡ä»£ç†è°ƒç”¨ï¼ˆä¸ä¼šåªåœç•™åœ¨ `/healthz` æ¢æ´»ï¼‰
- ä½ çš„ä¸Šæ¸¸å“åº”ä¼šè¿”å›å¯è§£æçš„ token ç”¨é‡å­—æ®µï¼ˆå¦åˆ™ç»Ÿè®¡ä¼šç¼ºå¤±ï¼‰

::: tip æ¨èæ­é…é˜…è¯»
å¦‚æœä½ æ­£åœ¨ç”¨æ¨¡å‹æ˜ å°„æŠŠ `model` è·¯ç”±åˆ°åˆ«çš„ç‰©ç†æ¨¡å‹ï¼Œå»ºè®®å…ˆçœ‹ **[æ¨¡å‹è·¯ç”±ï¼šè‡ªå®šä¹‰æ˜ å°„ã€é€šé…ç¬¦ä¼˜å…ˆçº§ä¸é¢„è®¾ç­–ç•¥](/zh/lbjlaq/Antigravity-Manager/advanced/model-router/)**ï¼Œå†å›æ¥çœ‹â€œç»Ÿè®¡å£å¾„â€ä¼šæ›´ç›´è§‚ã€‚
:::

## æ ¸å¿ƒæ€è·¯

Token Stats çš„æ•°æ®é“¾è·¯å¯ä»¥æ‹†æˆä¸‰æ®µï¼š

1. ä»£ç†ä¸­é—´ä»¶å°è¯•ä»å“åº”é‡Œæå– token ç”¨é‡ï¼ˆå…¼å®¹ `usage`/`usageMetadata`ï¼Œæµå¼ä¹Ÿä¼šè§£æï¼‰
2. å¦‚æœåŒæ—¶æ‹¿åˆ°äº† `account_email + input_tokens + output_tokens`ï¼Œå°±å†™å…¥æœ¬æœº SQLiteï¼ˆ`token_stats.db`ï¼‰
3. UI é€šè¿‡ Tauri `invoke(get_token_stats_*)` æ‹‰å–èšåˆæ•°æ®ï¼ŒæŒ‰å°æ—¶/æ—¥/å‘¨å±•ç¤º

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šå…ˆç¡®è®¤ä½ â€œæœ‰æµé‡â€

**ä¸ºä»€ä¹ˆ**
Token Stats ç»Ÿè®¡æ¥è‡ªçœŸå®è¯·æ±‚ã€‚åªå¯åŠ¨ä»£ç†ä½†æ²¡å‘è¿‡ä¸€æ¬¡æ¨¡å‹è¯·æ±‚ï¼Œé¡µé¢å°±ä¼šæ˜¾ç¤ºâ€œæš‚æ— æ•°æ®â€ã€‚

åšæ³•ï¼šå¤ç”¨ä½ åœ¨ **[å¯åŠ¨æœ¬åœ°åä»£å¹¶æ¥å…¥ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯](/zh/lbjlaq/Antigravity-Manager/start/proxy-and-first-client/)** é‡Œå·²ç»éªŒè¯æˆåŠŸçš„é‚£ç§è°ƒç”¨æ–¹å¼ï¼Œå‘ 1-2 æ¬¡è¯·æ±‚ã€‚

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šToken Stats é¡µé¢ä»â€œåŠ è½½ä¸­/æš‚æ— æ•°æ®â€å˜æˆæœ‰å›¾è¡¨æˆ–åˆ—è¡¨ã€‚

### ç¬¬ 2 æ­¥ï¼šé€‰å¯¹æ—¶é—´çª—å£ï¼ˆå°æ—¶/æ—¥/å‘¨ï¼‰

**ä¸ºä»€ä¹ˆ**
åŒä¸€ä»½æ•°æ®åœ¨ä¸åŒçª—å£ä¸‹çœ‹åˆ°çš„â€œå³°å€¼/è¶‹åŠ¿â€å®Œå…¨ä¸ä¸€æ ·ã€‚UI é‡Œä¸‰ç§çª—å£å¯¹åº”çš„å–æ•°èŒƒå›´ä¹Ÿä¸åŒï¼š

- å°æ—¶ï¼šæœ€è¿‘ 24 å°æ—¶
- æ—¥ï¼šæœ€è¿‘ 7 å¤©
- å‘¨ï¼šæœ€è¿‘ 4 å‘¨ï¼ˆè¶‹åŠ¿è§†å›¾ä¼šæŒ‰æœ€è¿‘ 30 å¤©èšåˆï¼‰

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šåˆ‡æ¢åï¼Œè¶‹åŠ¿å›¾æ¨ªè½´ç²’åº¦å˜åŒ–ï¼ˆå°æ—¶æ˜¾ç¤ºåˆ°â€œæ—¶â€ï¼Œæ—¥æ˜¾ç¤ºåˆ°â€œæœˆ/æ—¥â€ï¼Œå‘¨æ˜¾ç¤ºåˆ°â€œå¹´-Wå‘¨å·â€ï¼‰ã€‚

### ç¬¬ 3 æ­¥ï¼šå…ˆçœ‹é¡¶éƒ¨æ€»è§ˆï¼Œç¡®å®šâ€œæˆæœ¬è§„æ¨¡â€

**ä¸ºä»€ä¹ˆ**
æ€»è§ˆå¡ç‰‡èƒ½å…ˆå›ç­” 3 ä¸ªé—®é¢˜ï¼šæ€»é‡å¤§ä¸å¤§ã€è¾“å…¥/è¾“å‡ºå æ¯”æ˜¯å¦å¼‚å¸¸ã€å‚ä¸çš„è´¦å·/æ¨¡å‹æ˜¯ä¸æ˜¯çªç„¶å˜å¤šã€‚

é‡ç‚¹çœ‹è¿™å‡ é¡¹ï¼š

- æ€» Tokenï¼ˆ`total_tokens`ï¼‰
- è¾“å…¥/è¾“å‡º Tokenï¼ˆ`total_input_tokens` / `total_output_tokens`ï¼‰
- æ´»è·ƒè´¦å·æ•°ï¼ˆ`unique_accounts`ï¼‰
- ä½¿ç”¨æ¨¡å‹æ•°ï¼ˆUI ç›´æ¥ç”¨â€œåˆ†æ¨¡å‹ç»Ÿè®¡åˆ—è¡¨â€çš„é•¿åº¦ï¼‰

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šå¦‚æœâ€œæ´»è·ƒè´¦å·æ•°â€çªç„¶é£™é«˜ï¼Œé€šå¸¸æ„å‘³ç€ä½ åœ¨çŸ­æ—¶é—´å†…è·‘äº†æ›´å¤šè´¦å·ï¼ˆä¾‹å¦‚åˆ‡æ¢åˆ°è½®æ¢ç­–ç•¥ï¼‰ã€‚

### ç¬¬ 4 æ­¥ï¼šç”¨â€œåˆ†æ¨¡å‹/åˆ†è´¦å·ä½¿ç”¨è¶‹åŠ¿â€æŠ“å¼‚å¸¸å³°å€¼

**ä¸ºä»€ä¹ˆ**
è¶‹åŠ¿å›¾æ˜¯æœ€é€‚åˆæŠ“â€œçªç„¶å˜è´µâ€çš„å…¥å£ã€‚ä½ ä¸ç”¨å…ˆçŸ¥é“åŸå› ï¼Œå…ˆæŠŠâ€œå“ªå¤©/å“ªå°æ—¶é£™äº†â€åœˆå‡ºæ¥ã€‚

åšæ³•ï¼š

1. åœ¨è¶‹åŠ¿å›¾å³ä¸Šè§’åˆ‡æ¢ã€ŒæŒ‰æ¨¡å‹ / æŒ‰è´¦å·ã€
2. é¼ æ ‡æ‚¬åœï¼ˆTooltipï¼‰çœ‹ Top å€¼ï¼Œä¼˜å…ˆå…³æ³¨â€œçªç„¶å†²åˆ°ç¬¬ä¸€çš„é‚£æ¡â€

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š

- æŒ‰æ¨¡å‹ï¼šæŸä¸ªæ¨¡å‹åœ¨æŸä¸ªæ—¶é—´æ®µçªç„¶æŠ¬å‡
- æŒ‰è´¦å·ï¼šæŸä¸ªè´¦å·åœ¨æŸä¸ªæ—¶é—´æ®µçªç„¶æŠ¬å‡

### ç¬¬ 5 æ­¥ï¼šç”¨ Top åˆ—è¡¨æŠŠâ€œæœ€è´µç›®æ ‡â€é”æ­»

**ä¸ºä»€ä¹ˆ**
è¶‹åŠ¿å›¾å‘Šè¯‰ä½ â€œä»€ä¹ˆæ—¶å€™å¼‚å¸¸â€ï¼ŒTop åˆ—è¡¨å‘Šè¯‰ä½ â€œè°æœ€è´µâ€ã€‚æŠŠè¿™ä¸¤ä¸ªäº¤å‰ï¼Œå°±èƒ½å¿«é€Ÿå®šä½æ’éšœèŒƒå›´ã€‚

åšæ³•ï¼š

- åœ¨ã€ŒæŒ‰æ¨¡å‹ã€è§†å›¾ä¸‹ï¼Œçœ‹â€œåˆ†æ¨¡å‹è¯¦ç»†ç»Ÿè®¡â€è¡¨æ ¼çš„ `total_tokens / request_count / å æ¯”`
- åœ¨ã€ŒæŒ‰è´¦å·ã€è§†å›¾ä¸‹ï¼Œçœ‹â€œè´¦å·è¯¦ç»†ç»Ÿè®¡â€è¡¨æ ¼çš„ `total_tokens / request_count`

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæœ€è´µæ¨¡å‹/è´¦å·æ’åœ¨å‰é¢ï¼Œä¸” `request_count` èƒ½å¸®ä½ åŒºåˆ†â€œå•æ¬¡ç‰¹åˆ«è´µâ€è¿˜æ˜¯â€œæ¬¡æ•°ç‰¹åˆ«å¤šâ€ã€‚

### ç¬¬ 6 æ­¥ï¼ˆå¯é€‰ï¼‰ï¼šæ‰¾åˆ° `token_stats.db`ï¼Œåšå¤‡ä»½/æ ¸å¯¹

**ä¸ºä»€ä¹ˆ**
å½“ä½ æ€€ç–‘â€œç»Ÿè®¡ç¼ºå¤±â€æˆ–æƒ³åšç¦»çº¿åˆ†ææ—¶ï¼Œç›´æ¥æ‹¿ SQLite æ–‡ä»¶æœ€é è°±ã€‚

åšæ³•ï¼šè¿›å…¥ Settings çš„ Advanced åŒºåŸŸï¼Œç‚¹å‡»â€œæ‰“å¼€æ•°æ®ç›®å½•â€ï¼Œä½ ä¼šåœ¨æ•°æ®ç›®å½•é‡Œæ‰¾åˆ° `token_stats.db`ã€‚

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæ–‡ä»¶åˆ—è¡¨é‡Œæœ‰ `token_stats.db`ï¼ˆæ–‡ä»¶åç”±åç«¯å†™æ­»ï¼‰ã€‚

## æ£€æŸ¥ç‚¹ âœ…

- ä½ èƒ½è¯´æ¸…æ¥š Token Stats ç»Ÿè®¡æ˜¯â€œä»å“åº”é‡Œçš„ usage/usageMetadata æå–åè½åˆ°æœ¬åœ° SQLiteâ€ï¼Œä¸æ˜¯äº‘ç«¯è®¡è´¹
- ä½ èƒ½åœ¨â€œæŒ‰æ¨¡å‹/æŒ‰è´¦å·â€ä¸¤ç§è¶‹åŠ¿è§†å›¾ä¸‹ï¼ŒæŒ‡å‡ºä¸€ä¸ªå…·ä½“çš„å³°å€¼æ—¶é—´æ®µ
- ä½ èƒ½ç”¨ Top åˆ—è¡¨ç»™å‡ºä¸€ä¸ªå¯æ‰§è¡Œçš„æ’æŸ¥ç»“è®ºï¼šå…ˆæŸ¥å“ªä¸ªæ¨¡å‹æˆ–è´¦å·

## è¸©å‘æé†’

| ç°è±¡ | å¸¸è§åŸå›  | ä½ å¯ä»¥æ€ä¹ˆåš |
|--- | --- | ---|
| Token Stats æ˜¾ç¤º"æš‚æ— æ•°æ®" | ä½ ç¡®å®æ²¡äº§ç”Ÿæ¨¡å‹è¯·æ±‚ï¼›æˆ–ä¸Šæ¸¸å“åº”æ²¡å¸¦å¯è§£æçš„ token å­—æ®µ | å…ˆå¤ç”¨å·²éªŒè¯å¯ç”¨çš„å®¢æˆ·ç«¯å‘è¯·æ±‚ï¼›å†çœ‹å“åº”é‡Œæ˜¯å¦åŒ…å« `usage/usageMetadata` |
| ç»Ÿè®¡æŒ‰"æ¨¡å‹"çœ‹èµ·æ¥ä¸å¯¹ | ç»Ÿè®¡å£å¾„ä½¿ç”¨è¯·æ±‚é‡Œçš„ `model`ï¼Œä¸æ˜¯ `X-Mapped-Model` | æŠŠæ¨¡å‹è·¯ç”±å½“æˆ"è¯·æ±‚æ¨¡å‹ -> æ˜ å°„æ¨¡å‹"ï¼›ç»Ÿè®¡çœ‹çš„æ˜¯"è¯·æ±‚æ¨¡å‹" |
| è´¦å·ç»´åº¦ç¼ºå¤± | åªæœ‰æ‹¿åˆ° `X-Account-Email` ä¸”è§£æåˆ° token ç”¨é‡æ—¶æ‰ä¼šå†™å…¥ | ç¡®è®¤è¯·æ±‚ç¡®å®èµ°åˆ°äº†è´¦å·æ± ï¼›å†å¯¹ç…§è¯·æ±‚æ—¥å¿—/å“åº”å¤´ |
| å¯ç”¨ Proxy Monitor åç»Ÿè®¡æ•°æ®åå¤§ | å½“ Proxy Monitor å¯ç”¨æ—¶ï¼Œæ¯æ¬¡è¯·æ±‚çš„ token ä¼šè¢«è®°å½•ä¸¤æ¬¡ | è¿™å·²çŸ¥çš„å®ç°ç»†èŠ‚ï¼Œä¸å½±å“ç›¸å¯¹è¶‹åŠ¿åˆ†æï¼›å¦‚æœéœ€è¦ç²¾ç¡®å€¼ï¼Œå¯ä»¥ä¸´æ—¶ç¦ç”¨ Monitor åé‡æµ‹ |

## æœ¬è¯¾å°ç»“

- Token Stats çš„æ ¸å¿ƒä»·å€¼æ˜¯"æŠŠæˆæœ¬é—®é¢˜é‡åŒ–"ï¼Œå…ˆå®šä½ï¼Œå†ä¼˜åŒ–
- ç»Ÿè®¡å†™å…¥æ—¶ï¼Œè´¦å·å’Œ token ç”¨é‡æ˜¯å¿…é¡»çš„ï¼›æ¨¡å‹ç¼ºå¤±æ—¶ä¼šè¢«è®°å½•ä¸º `"unknown"`ï¼ˆä¸ä¼šé˜»æ­¢å†™å…¥ï¼‰
- æƒ³åšæ›´ç²¾ç»†çš„æˆæœ¬æ§åˆ¶ï¼Œä¸‹ä¸€æ­¥é€šå¸¸ä¼šå›åˆ°æ¨¡å‹è·¯ç”±æˆ–é…é¢æ²»ç†

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬è§£å†³é•¿ä¼šè¯é‡Œçš„â€œéšæ€§ç¨³å®šæ€§é—®é¢˜â€ï¼š**[é•¿ä¼šè¯ç¨³å®šæ€§ï¼šä¸Šä¸‹æ–‡å‹ç¼©ã€ç­¾åç¼“å­˜ä¸å·¥å…·ç»“æœå‹ç¼©](/zh/lbjlaq/Antigravity-Manager/advanced/context-compression/)**ã€‚

ä½ ä¼šå­¦åˆ°ï¼š

- ä¸‰å±‚æ¸è¿›å¼ä¸Šä¸‹æ–‡å‹ç¼©åˆ†åˆ«åœ¨åšä»€ä¹ˆ
- ä¸ºä»€ä¹ˆâ€œç­¾åç¼“å­˜â€èƒ½å‡å°‘ 400 ç­¾åé”™è¯¯
- å·¥å…·ç»“æœå‹ç¼©ä¼šåˆ æ‰ä»€ä¹ˆã€ä¿ç•™ä»€ä¹ˆ

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-23

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾„ | è¡Œå· |
|--- | --- | ---|
|--- | --- | ---|
| Token Stats UIï¼šæ—¶é—´çª—å£/è§†å›¾åˆ‡æ¢ä¸å–æ•° | [`src/pages/TokenStats.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/TokenStats.tsx#L49-L166) | 49-166 |
| Token Stats UIï¼šç©ºæ•°æ®æç¤ºï¼ˆ"æš‚æ— æ•°æ®"ï¼‰ | [`src/pages/TokenStats.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/TokenStats.tsx#L458-L507) | 458-507 |
| Token ç”¨é‡æå–ï¼šä»è¯·æ±‚è§£æ modelã€ä»å“åº”è§£æ usage/usageMetadata | [`src-tauri/src/proxy/middleware/monitor.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/middleware/monitor.rs#L32-L120) | 32-120 |
| Token ç”¨é‡æå–ï¼šæµå¼ä¸ JSON å“åº”è§£æ usage å­—æ®µ | [`src-tauri/src/proxy/middleware/monitor.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/middleware/monitor.rs#L122-L336) | 122-336 |
| Token Stats å†™å…¥ç‚¹ï¼šæ‹¿åˆ°è´¦å·+token åå†™å…¥ SQLite | [`src-tauri/src/proxy/monitor.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/proxy/monitor.rs#L79-L136) | 79-136 |
| æ•°æ®åº“æ–‡ä»¶åä¸è¡¨ç»“æ„ï¼š`token_stats.db` / `token_usage` / `token_stats_hourly` | [`src-tauri/src/modules/token_stats.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/token_stats.rs#L58-L126) | 58-126 |
| å†™å…¥é€»è¾‘ï¼š`record_usage(account_email, model, input, output)` | [`src-tauri/src/modules/token_stats.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/token_stats.rs#L128-L159) | 128-159 |
| æŸ¥è¯¢é€»è¾‘ï¼šå°æ—¶/æ—¥/å‘¨ã€æŒ‰è´¦å·/æŒ‰æ¨¡å‹ã€è¶‹åŠ¿ä¸æ€»è§ˆ | [`src-tauri/src/modules/token_stats.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/token_stats.rs#L161-L555) | 161-555 |
| Tauri å‘½ä»¤ï¼š`get_token_stats_*` å¯¹å‰ç«¯æš´éœ² | [`src-tauri/src/commands/mod.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/commands/mod.rs#L791-L847) | 791-847 |
| åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ– Token Stats DB | [`src-tauri/src/lib.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/lib.rs#L50-L56) | 50-56 |
| è®¾ç½®é¡µï¼šè·å–/æ‰“å¼€æ•°æ®ç›®å½•ï¼ˆç”¨äºæ‰¾åˆ° `token_stats.db`ï¼‰ | [`src/pages/Settings.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/Settings.tsx#L76-L143) | 76-143 |

</details>
