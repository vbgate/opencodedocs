---
title: "å¿«é€Ÿå¼€å§‹ï¼š5åˆ†é’Ÿä¸Šæ‰‹opencode-notify | opencode-notifyæ•™ç¨‹"
sidebarTitle: "5 åˆ†é’Ÿæ”¶åˆ°é€šçŸ¥"
subtitle: "å¿«é€Ÿå¼€å§‹ï¼š5åˆ†é’Ÿä¸Šæ‰‹opencode-notify"
description: "å­¦ä¹ å¦‚ä½•å®‰è£…opencode-notifyæ’ä»¶ï¼Œåœ¨5åˆ†é’Ÿå†…å®Œæˆé…ç½®å¹¶ä½“éªŒç¬¬ä¸€ä¸ªæ¡Œé¢é€šçŸ¥ã€‚æœ¬æ•™ç¨‹æ¶µç›–OCXåŒ…ç®¡ç†å™¨å®‰è£…å’Œæ‰‹åŠ¨å®‰è£…ä¸¤ç§æ–¹å¼ï¼Œæ”¯æŒmacOSã€Windowså’ŒLinuxç³»ç»Ÿï¼Œå¸®åŠ©ä½ åœ¨AIä»»åŠ¡å®Œæˆæ—¶åŠæ—¶æ”¶åˆ°æé†’ã€‚"
tags:
  - "å…¥é—¨"
  - "å®‰è£…"
  - "å¿«é€Ÿä¸Šæ‰‹"
prerequisite: []
order: 10
---

# å¿«é€Ÿå¼€å§‹ï¼š5åˆ†é’Ÿä¸Šæ‰‹opencode-notify

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- 3 åˆ†é’Ÿå†…å®Œæˆ opencode-notify æ’ä»¶å®‰è£…
- è§¦å‘ç¬¬ä¸€ä¸ªæ¡Œé¢é€šçŸ¥ï¼ŒéªŒè¯å®‰è£…æˆåŠŸ
- äº†è§£ä¸åŒå®‰è£…æ–¹å¼çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯

## ä½ ç°åœ¨çš„å›°å¢ƒ

ä½ å§”æ‰˜ AI å®Œæˆä¸€ä¸ªä»»åŠ¡ååˆ‡æ¢åˆ°å…¶ä»–çª—å£å·¥ä½œã€‚ç°åœ¨ä½ æ¯éš” 30 ç§’å°±åˆ‡å›å»çœ‹ä¸€çœ¼ï¼šå®Œæˆäº†å—ï¼Ÿå‡ºé”™äº†ï¼Ÿè¿˜æ˜¯åœ¨ç­‰æƒé™ï¼Ÿopencode-notify æ­£æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚

è¿™ç§åå¤åˆ‡æ¢æ—¢æ‰“æ–­æ€è·¯ï¼Œåˆæµªè´¹æ—¶é—´ã€‚

## ä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸€æ‹›

**åœ¨ä»¥ä¸‹åœºæ™¯ä¸‹å¯ç”¨ opencode-notify**ï¼š
- ä½ ç»å¸¸åœ¨ AI æ‰§è¡Œä»»åŠ¡æ—¶åˆ‡æ¢åˆ°å…¶ä»–åº”ç”¨
- ä½ å¸Œæœ›åœ¨ AI éœ€è¦ä½ æ—¶è¢«ç¬¬ä¸€æ—¶é—´æé†’
- ä½ æƒ³åœ¨ä¿æŒä¸“æ³¨çš„åŒæ—¶ä¸é”™è¿‡é‡è¦äº‹ä»¶

## æ ¸å¿ƒæ€è·¯

opencode-notify çš„å·¥ä½œåŸç†å¾ˆç®€å•ï¼šç›‘å¬ OpenCode çš„äº‹ä»¶ï¼Œåœ¨å…³é”®æ—¶åˆ»å‘é€åŸç”Ÿæ¡Œé¢é€šçŸ¥ã€‚

**å®ƒä¼šé€šçŸ¥ä½ **ï¼š
- âœ… ä»»åŠ¡å®Œæˆï¼ˆSession idleï¼‰
- âœ… æ‰§è¡Œå‡ºé”™ï¼ˆSession errorï¼‰
- âœ… éœ€è¦æƒé™ï¼ˆPermission updatedï¼‰

**å®ƒä¸ä¼šé€šçŸ¥ä½ **ï¼š
- âŒ æ¯ä¸ªå­ä»»åŠ¡å®Œæˆï¼ˆå¤ªåµï¼‰
- âŒ ç»ˆç«¯èšç„¦æ—¶çš„ä»»ä½•äº‹ä»¶ï¼ˆä½ åœ¨çœ‹ç»ˆç«¯ï¼Œä¸éœ€è¦é€šçŸ¥ï¼‰

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

::: warning å‰ç½®è¦æ±‚
- å·²å®‰è£… [OpenCode](https://github.com/sst/opencode)
- æœ‰å¯ç”¨çš„ç»ˆç«¯ï¼ˆmacOS Terminalã€iTerm2ã€Windows Terminal ç­‰ï¼‰
- macOS/Windows/Linux ç³»ç»Ÿï¼ˆä¸‰è€…å‡æ”¯æŒï¼‰
:::

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šé€‰æ‹©å®‰è£…æ–¹å¼

opencode-notify æä¾›ä¸¤ç§å®‰è£…æ–¹å¼ï¼š

| æ–¹å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
| ---- | -------- | ---- | ---- |
| **OCX åŒ…ç®¡ç†å™¨** | å¤§å¤šæ•°ç”¨æˆ· | ä¸€é”®å®‰è£…ã€è‡ªåŠ¨æ›´æ–°ã€ä¾èµ–ç®¡ç†å®Œæ•´ | éœ€è¦å…ˆå®‰è£… OCX |
| **æ‰‹åŠ¨å®‰è£…** | ç‰¹æ®Šéœ€æ±‚ | å®Œå…¨æ§åˆ¶ã€æ— éœ€ OCX | éœ€æ‰‹åŠ¨ç®¡ç†ä¾èµ–å’Œæ›´æ–° |

**æ¨è**ï¼šä¼˜å…ˆä½¿ç”¨ OCX å®‰è£…ï¼Œæ›´çœå¿ƒã€‚

### ç¬¬ 2 æ­¥ï¼šé€šè¿‡ OCX å®‰è£…ï¼ˆæ¨èï¼‰

#### 2.1 å®‰è£… OCX åŒ…ç®¡ç†å™¨

OCX æ˜¯ OpenCode çš„å®˜æ–¹æ’ä»¶åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®‰è£…ã€æ›´æ–°å’Œç®¡ç†æ’ä»¶ã€‚

**å®‰è£… OCX**ï¼š

```bash
curl -fsSL https://ocx.kdco.dev/install.sh | sh
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šå®‰è£…è„šæœ¬æ˜¾ç¤ºè¿›åº¦ï¼Œæœ€åæç¤ºå®‰è£…æˆåŠŸã€‚

#### 2.2 æ·»åŠ  KDCO Registry

KDCO Registry æ˜¯ä¸€ä¸ªæ’ä»¶ä»“åº“ï¼ŒåŒ…å« opencode-notify ç­‰å¤šä¸ªå®ç”¨æ’ä»¶ã€‚

**æ·»åŠ  registry**ï¼š

```bash
ocx registry add https://registry.kdco.dev --name kdco
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæç¤º "Registry added successfully" æˆ–ç±»ä¼¼ä¿¡æ¯ã€‚

::: tip å¯é€‰ï¼šå…¨å±€é…ç½®
å¦‚æœä½ æƒ³åœ¨æ‰€æœ‰é¡¹ç›®ä¸­ä½¿ç”¨åŒä¸€ä¸ª registryï¼Œæ·»åŠ  `--global` å‚æ•°ï¼š

```bash
ocx registry add https://registry.kdco.dev --name kdco --global
```
:::

#### 2.3 å®‰è£… opencode-notify

**å®‰è£…æ’ä»¶**ï¼š

```bash
ocx add kdco/notify
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
```
âœ“ Added kdco/notify to your OpenCode workspace
```

### ç¬¬ 3 æ­¥ï¼šä¸€æ¬¡æ€§å®‰è£…æ•´ä¸ªå·¥ä½œåŒºï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³è¦å®Œæ•´çš„ä½“éªŒï¼Œå¯ä»¥å®‰è£… KDCO å·¥ä½œåŒºï¼Œå®ƒåŒ…å«ï¼š

- opencode-notifyï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰
- åå°ä»£ç†ï¼ˆBackground Agentsï¼‰
- ä¸“ç”¨ä»£ç†ï¼ˆSpecialist Agentsï¼‰
- è§„åˆ’å·¥å…·ï¼ˆPlanning Toolsï¼‰

**å®‰è£…å·¥ä½œåŒº**ï¼š

```bash
ocx add kdco/workspace
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šæç¤ºå¤šä¸ªç»„ä»¶è¢«æˆåŠŸæ·»åŠ ã€‚

### ç¬¬ 4 æ­¥ï¼šéªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦è§¦å‘ä¸€ä¸ªé€šçŸ¥æ¥éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ã€‚

**éªŒè¯æ–¹æ³• 1ï¼šè®© AI å®Œæˆä¸€ä¸ªä»»åŠ¡**

åœ¨ OpenCode ä¸­è¾“å…¥ï¼š

```
è¯·è®¡ç®— 1 åˆ° 10 çš„å’Œï¼Œç„¶åç­‰å¾… 5 ç§’åå‘Šè¯‰æˆ‘ç»“æœã€‚
```

åˆ‡æ¢åˆ°å…¶ä»–çª—å£å·¥ä½œå‡ ç§’åï¼Œä½ åº”è¯¥çœ‹åˆ°æ¡Œé¢é€šçŸ¥å¼¹å‡ºã€‚

**éªŒè¯æ–¹æ³• 2ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶**

æŸ¥çœ‹é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š

```bash
# macOS/Linux
cat ~/.config/opencode/kdco-notify.json

# Windows PowerShell
type $env:USERPROFILE\.config\opencode\kdco-notify.json
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼š
- å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ â†’ è¯´æ˜ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆæ­£å¸¸ï¼‰
- å¦‚æœæ–‡ä»¶å­˜åœ¨ â†’ æ˜¾ç¤ºä½ çš„è‡ªå®šä¹‰é…ç½®

### ç¬¬ 5 æ­¥ï¼šæ‰‹åŠ¨å®‰è£…ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰

å¦‚æœä½ ä¸æƒ³ä½¿ç”¨ OCXï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…ã€‚

#### 5.1 å¤åˆ¶æºç 

å°† opencode-notify çš„æºç å¤åˆ¶åˆ° OpenCode æ’ä»¶ç›®å½•ï¼š

```bash
# ä»æºç å¤åˆ¶åˆ°ç‹¬ç«‹ç›®å½•
mkdir -p ~/.opencode/plugin/kdco-notify
cp src/notify.ts ~/.opencode/plugin/kdco-notify/
cp -r src/plugin/kdco-primitives ~/.opencode/plugin/kdco-notify/
```

#### 5.2 å®‰è£…ä¾èµ–

æ‰‹åŠ¨å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š

```bash
cd ~/.opencode/plugin/
npm install node-notifier detect-terminal @opencode-ai/plugin @opencode-ai/sdk
```

::: warning æ³¨æ„äº‹é¡¹
- **ä¾èµ–ç®¡ç†**ï¼šéœ€è¦æ‰‹åŠ¨å®‰è£…å’Œæ›´æ–° `node-notifier` å’Œ `detect-terminal`
- **æ›´æ–°å›°éš¾**ï¼šæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦æ‰‹åŠ¨é‡æ–°å¤åˆ¶æºç 
- **ä¸æ¨è**ï¼šé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨ OCX å®‰è£…
:::

### æ£€æŸ¥ç‚¹ âœ…

å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œè¯·ç¡®è®¤ï¼š

- [ ] OCX å®‰è£…æˆåŠŸï¼ˆ`ocx --version` èƒ½è¾“å‡ºç‰ˆæœ¬å·ï¼‰
- [ ] KDCO Registry å·²æ·»åŠ ï¼ˆ`ocx registry list` æ˜¾ç¤º kdcoï¼‰
- [ ] opencode-notify å·²å®‰è£…ï¼ˆ`ocx list` æ˜¾ç¤º kdco/notifyï¼‰
- [ ] æ”¶åˆ°ç¬¬ä¸€ä¸ªæ¡Œé¢é€šçŸ¥
- [ ] é€šçŸ¥æ˜¾ç¤ºæ­£ç¡®çš„ä»»åŠ¡æ ‡é¢˜

**å¦‚æœæŸä¸ªæ­¥éª¤å¤±è´¥**ï¼š
- æŸ¥çœ‹ [æ•…éšœæ’é™¤](../../faq/troubleshooting/) è·å–å¸®åŠ©
- æ£€æŸ¥ OpenCode æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç¡®è®¤ä½ çš„ç³»ç»Ÿæ”¯æŒæ¡Œé¢é€šçŸ¥

## è¸©å‘æé†’

### å¸¸è§é—®é¢˜ 1ï¼šé€šçŸ¥ä¸æ˜¾ç¤º

**åŸå› **ï¼š
- macOSï¼šç³»ç»Ÿé€šçŸ¥è¢«å…³é—­
- Windowsï¼šé€šçŸ¥æƒé™æœªæˆäºˆ
- Linuxï¼šæœªå®‰è£… notify-send

**è§£å†³æ–¹æ³•**ï¼š

| å¹³å° | è§£å†³æ–¹æ³• |
| ---- | -------- |
| macOS | ç³»ç»Ÿè®¾ç½® â†’ é€šçŸ¥ â†’ OpenCode â†’ å…è®¸é€šçŸ¥ |
| Windows | è®¾ç½® â†’ ç³»ç»Ÿ â†’ é€šçŸ¥ â†’ æ‰“å¼€é€šçŸ¥ |
| Linux | å®‰è£… libnotify-binï¼š`sudo apt install libnotify-bin` |

### å¸¸è§é—®é¢˜ 2ï¼šOCX å®‰è£…å¤±è´¥

**åŸå› **ï¼šç½‘ç»œé—®é¢˜æˆ–æƒé™ä¸è¶³

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ä½¿ç”¨ sudo å®‰è£…ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
3. æ‰‹åŠ¨ä¸‹è½½å®‰è£…è„šæœ¬å¹¶æ‰§è¡Œ

### å¸¸è§é—®é¢˜ 3ï¼šä¾èµ–å®‰è£…å¤±è´¥

**åŸå› **ï¼šNode.js ç‰ˆæœ¬ä¸å…¼å®¹

**è§£å†³æ–¹æ³•**ï¼š
- ä½¿ç”¨ Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ¸…é™¤ npm ç¼“å­˜ï¼š`npm cache clean --force`

## æœ¬è¯¾å°ç»“

æœ¬è¯¾æˆ‘ä»¬å®Œæˆäº†ï¼š
- âœ… å®‰è£… OCX åŒ…ç®¡ç†å™¨
- âœ… æ·»åŠ  KDCO Registry
- âœ… å®‰è£… opencode-notify æ’ä»¶
- âœ… è§¦å‘ç¬¬ä¸€ä¸ªæ¡Œé¢é€šçŸ¥
- âœ… äº†è§£æ‰‹åŠ¨å®‰è£…æ–¹æ³•

**å…³é”®è¦ç‚¹**ï¼š
1. opencode-notify ä½¿ç”¨åŸç”Ÿæ¡Œé¢é€šçŸ¥ï¼Œæ— éœ€é¢‘ç¹åˆ‡æ¢çª—å£
2. OCX æ˜¯æ¨èçš„å®‰è£…æ–¹å¼ï¼Œè‡ªåŠ¨ç®¡ç†ä¾èµ–å’Œæ›´æ–°
3. é»˜è®¤åªé€šçŸ¥çˆ¶ä¼šè¯ï¼Œé¿å…å­ä»»åŠ¡å™ªéŸ³
4. ç»ˆç«¯èšç„¦æ—¶è‡ªåŠ¨æŠ‘åˆ¶é€šçŸ¥

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[å·¥ä½œåŸç†](../how-it-works/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - æ’ä»¶å¦‚ä½•ç›‘å¬ OpenCode äº‹ä»¶
> - æ™ºèƒ½è¿‡æ»¤æœºåˆ¶çš„å·¥ä½œæµç¨‹
> - ç»ˆç«¯æ£€æµ‹å’Œç„¦ç‚¹æ„ŸçŸ¥çš„åŸç†
> - ä¸åŒå¹³å°çš„åŠŸèƒ½å·®å¼‚

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-27

| åŠŸèƒ½        | æ–‡ä»¶è·¯å¾„                                                                                    | è¡Œå·    |
| ----------- | ------------------------------------------------------------------------------------------- | ------- |
| æ’ä»¶ä¸»å…¥å£ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L1-L407) | 1-407   |
| é…ç½®åŠ è½½ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L90-L114) | 90-114  |
| äº‹ä»¶å¤„ç† - ä¼šè¯ç©ºé—² | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L215-L248) | 215-248 |
| äº‹ä»¶å¤„ç† - ä¼šè¯é”™è¯¯ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L251-L276) | 251-276 |
| äº‹ä»¶å¤„ç† - æƒé™æ›´æ–° | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L311-L329) | 311-329 |
| é€šçŸ¥å‘é€ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L280-L308) | 280-308 |
| ç»ˆç«¯æ£€æµ‹ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L145-L176) | 145-176 |
| é™éŸ³æ—¶æ®µæ£€æŸ¥ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L181-L199) | 181-199 |
| é»˜è®¤é…ç½® | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L30-L48) | 30-48   |

**å…³é”®å¸¸é‡**ï¼š
- `DEFAULT_CONFIG.sounds.idle = "Glass"`ï¼šä»»åŠ¡å®Œæˆé»˜è®¤éŸ³æ•ˆ
- `DEFAULT_CONFIG.sounds.error = "Basso"`ï¼šé”™è¯¯é»˜è®¤éŸ³æ•ˆ
- `DEFAULT_CONFIG.sounds.permission = "Submarine"`ï¼šæƒé™è¯·æ±‚é»˜è®¤éŸ³æ•ˆ
- `DEFAULT_CONFIG.notifyChildSessions = false`ï¼šé»˜è®¤åªé€šçŸ¥çˆ¶ä¼šè¯

**å…³é”®å‡½æ•°**ï¼š
- `NotifyPlugin()`ï¼šæ’ä»¶å…¥å£å‡½æ•°ï¼Œè¿”å›äº‹ä»¶å¤„ç†å™¨
- `loadConfig()`ï¼šåŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆå¹¶é»˜è®¤å€¼
- `sendNotification()`ï¼šå‘é€åŸç”Ÿæ¡Œé¢é€šçŸ¥
- `detectTerminalInfo()`ï¼šæ£€æµ‹ç»ˆç«¯ç±»å‹å’Œ Bundle ID
- `isQuietHours()`ï¼šæ£€æŸ¥å½“å‰æ—¶é—´æ˜¯å¦åœ¨é™éŸ³æ—¶æ®µ
- `isParentSession()`ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºçˆ¶ä¼šè¯
- `isTerminalFocused()`ï¼šæ£€æµ‹ç»ˆç«¯æ˜¯å¦ä¸ºå‰å°çª—å£

</details>
