---
title: "opencode-notify å·¥ä½œåŸç†ï¼šå››ç§é€šçŸ¥ç±»å‹ä¸æ™ºèƒ½è¿‡æ»¤æœºåˆ¶è¯¦è§£ | æ•™ç¨‹"
sidebarTitle: "ä¸ºä»€ä¹ˆä¸ä¼šè¢«æ‰“æ‰°"
subtitle: "å·¥ä½œåŸç†ï¼šé€šçŸ¥ã€è¿‡æ»¤ä¸è§¦å‘æœºåˆ¶"
description: "æ·±å…¥äº†è§£ opencode-notify çš„å·¥ä½œåŸç†ï¼ŒæŒæ¡å››ç§é€šçŸ¥ç±»å‹ï¼ˆä»»åŠ¡å®Œæˆã€é”™è¯¯ã€æƒé™è¯·æ±‚ã€é—®é¢˜è¯¢é—®ï¼‰ã€ä¸‰å±‚æ™ºèƒ½è¿‡æ»¤æœºåˆ¶ï¼ˆçˆ¶ä¼šè¯æ£€æŸ¥ã€é™éŸ³æ—¶æ®µã€ç»ˆç«¯ç„¦ç‚¹æ£€æµ‹ï¼‰ä»¥åŠå®Œæ•´çš„é€šçŸ¥è§¦å‘æµç¨‹ï¼Œå­¦ä¼šé€šè¿‡é…ç½®æ–‡ä»¶è‡ªå®šä¹‰é€šçŸ¥è¡Œä¸ºï¼Œç†è§£ macOS ä¸ Windows/Linux çš„å¹³å°å·®å¼‚ï¼Œæå‡å·¥ä½œæ•ˆç‡ä¸ä¸“æ³¨åº¦ã€‚"
tags:
  - "åŸç†"
  - "é€šçŸ¥æœºåˆ¶"
  - "æ™ºèƒ½è¿‡æ»¤"
prerequisite:
  - "start-quick-start"
order: 20
---

# å·¥ä½œåŸç†ï¼šé€šçŸ¥ã€è¿‡æ»¤ä¸è§¦å‘æœºåˆ¶

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

- ç†è§£ opencode-notify çš„å››ç§é€šçŸ¥ç±»å‹åŠå…¶è§¦å‘æ—¶æœº
- æŒæ¡æ™ºèƒ½è¿‡æ»¤æœºåˆ¶çš„å·¥ä½œåŸç†ï¼ˆä¸ºä»€ä¹ˆä¸ä¼šæ”¶åˆ°å¤ªå¤šé€šçŸ¥ï¼‰
- äº†è§£é€šçŸ¥ä»è§¦å‘åˆ°æ˜¾ç¤ºçš„å®Œæ•´æµç¨‹
- çŸ¥é“å¦‚ä½•é€šè¿‡é…ç½®è°ƒæ•´é€šçŸ¥è¡Œä¸º

## æ ¸å¿ƒæ€è·¯

::: tip è®¾è®¡å“²å­¦
opencode-notify éµå¾ªä¸€ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š**"é€šçŸ¥ç”¨æˆ·æ—¶æ‰é€šçŸ¥ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªå¾®å°äº‹ä»¶é€šçŸ¥"**ã€‚
:::

è¿™ä¸ªæ’ä»¶çš„å·¥ä½œæ–¹å¼å¯ä»¥æ‹†è§£ä¸ºä¸‰ä¸ªå…³é”®ç¯èŠ‚ï¼š

1. **ç›‘å¬** - ç­‰å¾… OpenCode å‘ç”Ÿé‡è¦äº‹ä»¶
2. **è¿‡æ»¤** - å†³å®šè¿™ä¸ªäº‹ä»¶æ˜¯å¦éœ€è¦é€šçŸ¥
3. **å‘é€** - é€šè¿‡æ“ä½œç³»ç»ŸåŸç”Ÿé€šçŸ¥æé†’ä½ 

ç†è§£è¿™ä¸ªæµç¨‹ï¼Œä½ å°±èƒ½çŸ¥é“ä¸ºä»€ä¹ˆæ’ä»¶æ—¢èƒ½åŠæ—¶æé†’ï¼Œåˆä¸ä¼šåƒåƒåœ¾ä¿¡æ¯ä¸€æ ·é¢‘ç¹æ‰“æ‰°ã€‚

## å››ç§é€šçŸ¥ç±»å‹

opencode-notify ç›‘å¬å››ç±» OpenCode äº‹ä»¶ï¼Œæ¯ç±»éƒ½æœ‰æ˜ç¡®çš„è§¦å‘åœºæ™¯ï¼š

### 1. ä»»åŠ¡å®Œæˆé€šçŸ¥ (session.idle)

**è§¦å‘æ—¶æœº**ï¼šå½“ AI ä¼šè¯è¿›å…¥ç©ºé—²çŠ¶æ€ï¼ˆä»»åŠ¡å®Œæˆï¼‰

| é¡¹ç›® | è¯´æ˜ |
|--- | ---|
| é€šçŸ¥æ ‡é¢˜ | Ready for review |
| é€šçŸ¥å†…å®¹ | ä¼šè¯æ ‡é¢˜ï¼ˆæœ€å¤š 50 å­—ç¬¦ï¼‰ |
| é»˜è®¤éŸ³æ•ˆ | Glass (macOS) |

**ä¸ºä»€ä¹ˆé‡è¦**ï¼šè¿™æ˜¯æœ€å¸¸ç”¨çš„é€šçŸ¥ï¼Œè®©ä½ çŸ¥é“ AI å·²ç»å®Œæˆä»»åŠ¡ï¼Œå¯ä»¥è¿‡æ¥æ£€æŸ¥ç»“æœäº†ã€‚

### 2. é”™è¯¯é€šçŸ¥ (session.error)

**è§¦å‘æ—¶æœº**ï¼šå½“ AI ä¼šè¯æ‰§è¡Œå‡ºé”™

| é¡¹ç›® | è¯´æ˜ |
|--- | ---|
| é€šçŸ¥æ ‡é¢˜ | Something went wrong |
| é€šçŸ¥å†…å®¹ | é”™è¯¯æ‘˜è¦ï¼ˆæœ€å¤š 100 å­—ç¬¦ï¼‰ |
| é»˜è®¤éŸ³æ•ˆ | Basso (macOS) |

**ä¸ºä»€ä¹ˆé‡è¦**ï¼šé”™è¯¯éœ€è¦åŠæ—¶å¤„ç†ï¼Œå¦åˆ™åç»­æ“ä½œå¯èƒ½æ— æ³•æ­£å¸¸è¿›è¡Œã€‚

### 3. æƒé™è¯·æ±‚é€šçŸ¥ (permission.updated)

**è§¦å‘æ—¶æœº**ï¼šå½“ AI éœ€è¦ç”¨æˆ·æˆæƒæ‰§è¡ŒæŸæ“ä½œï¼ˆå¦‚è¯»å–æ–‡ä»¶ã€è®¿é—®ç½‘ç»œï¼‰

| é¡¹ç›® | è¯´æ˜ |
|--- | ---|
| é€šçŸ¥æ ‡é¢˜ | Waiting for you |
| é€šçŸ¥å†…å®¹ | OpenCode needs your input |
| é»˜è®¤éŸ³æ•ˆ | Submarine (macOS) |

**ä¸ºä»€ä¹ˆé‡è¦**ï¼šAI è¢«é˜»å¡äº†ï¼Œéœ€è¦ä½ æ‰‹åŠ¨æˆæƒæ‰èƒ½ç»§ç»­ï¼Œä¸å¤„ç†ä¼šå¯¼è‡´ä»»åŠ¡å¡ä½ã€‚

### 4. é—®é¢˜è¯¢é—®é€šçŸ¥ (tool.execute.before)

**è§¦å‘æ—¶æœº**ï¼šå½“ AI ä½¿ç”¨ `question` å·¥å…·å‘ä½ æé—®

| é¡¹ç›® | è¯´æ˜ |
|--- | ---|
| é€šçŸ¥æ ‡é¢˜ | Question for you |
| é€šçŸ¥å†…å®¹ | OpenCode needs your input |
| é»˜è®¤éŸ³æ•ˆ | Submarine (macOS) |

**ä¸ºä»€ä¹ˆé‡è¦**ï¼šAI éœ€è¦æ›´å¤šä¿¡æ¯æ‰èƒ½ç»§ç»­ï¼Œæ¯”å¦‚ç¡®è®¤æŸä¸ªå†³ç­–æˆ–æ¾„æ¸…éœ€æ±‚ã€‚

::: info å››ç§é€šçŸ¥çš„ä¼˜å…ˆçº§
æƒé™è¯·æ±‚å’Œé—®é¢˜è¯¢é—®çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå› ä¸º AI åœ¨è¿™äº›äº‹ä»¶ä¸‹æ˜¯å®Œå…¨é˜»å¡çš„ï¼›é”™è¯¯é€šçŸ¥æ¬¡ä¹‹ï¼Œå› ä¸ºä»»åŠ¡å·²å¤±è´¥ï¼›ä»»åŠ¡å®Œæˆé€šçŸ¥çš„ä¼˜å…ˆçº§ç›¸å¯¹è¾ƒä½ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨æ–¹ä¾¿çš„æ—¶å€™å†æ£€æŸ¥ã€‚
:::

## æ™ºèƒ½è¿‡æ»¤æœºåˆ¶

è¿™æ˜¯ opencode-notify æœ€å¤§çš„äº®ç‚¹â€”â€”é€šè¿‡å¤šå±‚è¿‡æ»¤ï¼Œç¡®ä¿ä½ åªæ”¶åˆ°çœŸæ­£éœ€è¦å…³æ³¨çš„é€šçŸ¥ã€‚

### è¿‡æ»¤å±‚çº§æ¦‚è§ˆ

```mermaid
graph TD
    A[OpenCode äº‹ä»¶è§¦å‘] --> B{æ˜¯å¦çˆ¶ä¼šè¯?}
    B -->|å¦| C[ğŸš« ä¸é€šçŸ¥<br/>å­ä¼šè¯è¢«æŠ‘åˆ¶]
    B -->|æ˜¯| D{æ˜¯å¦é™éŸ³æ—¶æ®µ?}
    D -->|æ˜¯| C
    D -->|å¦| E{ç»ˆç«¯æ˜¯å¦èšç„¦?}
    E -->|æ˜¯| C
    E -->|å¦| F[âœ… å‘é€é€šçŸ¥]
```

### å±‚çº§ 1ï¼šçˆ¶ä¼šè¯æ£€æŸ¥

**è§„åˆ™**ï¼šé»˜è®¤åªé€šçŸ¥çˆ¶ä¼šè¯ï¼ˆæ ¹ä¼šè¯ï¼‰ï¼Œä¸é€šçŸ¥å­ä¼šè¯ã€‚

**åŸç†**ï¼šOpenCode çš„ä»»åŠ¡å¯èƒ½æ˜¯åµŒå¥—çš„ã€‚æ¯”å¦‚ä½ è®© AI "ä¼˜åŒ–ä»£ç åº“"ï¼Œå®ƒå¯èƒ½ä¼šæ‹†åˆ†æˆå¤šä¸ªå­ä»»åŠ¡ï¼š
- çˆ¶ä¼šè¯ï¼š"ä¼˜åŒ–æ•´ä¸ªä»£ç åº“"
- å­ä¼šè¯ 1ï¼š"ä¼˜åŒ– src/components ç›®å½•"
- å­ä¼šè¯ 2ï¼š"ä¼˜åŒ– src/utils ç›®å½•"

å¦‚æœæ‰€æœ‰å­ä¼šè¯éƒ½é€šçŸ¥ï¼Œä½ ä¼šæ”¶åˆ°ä¸€å †é€šçŸ¥ã€‚opencode-notify åªåœ¨çˆ¶ä¼šè¯å®Œæˆæ—¶é€šçŸ¥ä¸€æ¬¡ã€‚

::: tip ä½•æ—¶éœ€è¦å­ä¼šè¯é€šçŸ¥ï¼Ÿ
å¦‚æœä½ æ­£åœ¨ç›‘æ§å•ä¸ª AI çš„å¤šä¸ªå¹¶å‘ä»»åŠ¡ï¼Œå¯ä»¥åœ¨é…ç½®ä¸­è®¾ç½® `notifyChildSessions: true` å¯ç”¨å­ä¼šè¯é€šçŸ¥ã€‚
:::

**ç‰¹æ®Šä¾‹å¤–**ï¼š
- **æƒé™è¯·æ±‚é€šçŸ¥**ï¼šå§‹ç»ˆé€šçŸ¥ï¼Œä¸æ£€æŸ¥çˆ¶ä¼šè¯ï¼ˆå› ä¸ºæƒé™é—®é¢˜å¿…é¡»å¤„ç†ï¼‰
- **é—®é¢˜è¯¢é—®é€šçŸ¥**ï¼šå§‹ç»ˆé€šçŸ¥ï¼Œä¸æ£€æŸ¥çˆ¶ä¼šè¯

### å±‚çº§ 2ï¼šé™éŸ³æ—¶æ®µæ£€æŸ¥

**è§„åˆ™**ï¼šåœ¨é…ç½®çš„é™éŸ³æ—¶é—´æ®µå†…ï¼Œä¸å‘é€ä»»ä½•é€šçŸ¥ã€‚

**åŸç†**ï¼šé¿å…åœ¨å¤œé—´æˆ–ä¼‘æ¯æ—¶é—´è¢«æ‰“æ‰°ã€‚é…ç½®ç¤ºä¾‹ï¼š

```json
{
  "quietHours": {
    "enabled": true,
    "start": "22:00",
    "end": "08:00"
  }
}
```

**è·¨åˆå¤œæ”¯æŒ**ï¼šé™éŸ³æ—¶æ®µå¯ä»¥è·¨åˆå¤œï¼Œæ¯”å¦‚ `22:00 - 08:00` ä¼šæ­£ç¡®è¯†åˆ«ä¸ºæ™šä¸Š 10 ç‚¹åˆ°æ¬¡æ—¥æ—©ä¸Š 8 ç‚¹ã€‚

::: info é™éŸ³æ—¶æ®µæ£€æŸ¥ä¼˜å…ˆçº§
é™éŸ³æ—¶æ®µçš„ä¼˜å…ˆçº§é«˜äºå…¶ä»–æ‰€æœ‰æ£€æŸ¥ã€‚å³ä½¿åœ¨é™éŸ³æ—¶æ®µå†…ï¼Œç»ˆç«¯ä¸èšç„¦æˆ–çˆ¶ä¼šè¯ç­‰æ¡ä»¶ä¹Ÿä¸ä¼šç»•è¿‡é™éŸ³æ—¶æ®µã€‚
:::

### å±‚çº§ 3ï¼šç»ˆç«¯ç„¦ç‚¹æ£€æµ‹

**è§„åˆ™**ï¼šå½“ç»ˆç«¯çª—å£æ˜¯å½“å‰æ´»åŠ¨çª—å£æ—¶ï¼Œä¸å‘é€é€šçŸ¥ã€‚

**åŸç†**ï¼šä½ æ­£åœ¨çœ‹ç»ˆç«¯æ—¶ï¼ŒAI å®Œæˆä»»åŠ¡ä¼šç›´æ¥æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œä¸éœ€è¦é¢å¤–é€šçŸ¥ã€‚

**å¹³å°æ”¯æŒ**ï¼š
- âœ… **macOS**ï¼šå®Œå…¨æ”¯æŒï¼Œé€šè¿‡ `osascript` æ£€æµ‹å‰å°åº”ç”¨
- âŒ **Windows**ï¼šä¸æ”¯æŒ
- âŒ **Linux**ï¼šä¸æ”¯æŒ

**æ£€æµ‹æœºåˆ¶**ï¼ˆmacOSï¼‰ï¼š
1. ä½¿ç”¨ `detect-terminal` åº“è¯†åˆ«ä½ çš„ç»ˆç«¯ï¼ˆæ”¯æŒ 37+ ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼‰
2. æŸ¥è¯¢ macOS è·å–å½“å‰å‰å°åº”ç”¨
3. æ¯”è¾ƒæ˜¯å¦åŒ¹é…ä½ çš„ç»ˆç«¯è¿›ç¨‹å
4. åŒ¹é…åˆ™æŠ‘åˆ¶é€šçŸ¥

**ç‰¹æ®Šä¾‹å¤–**ï¼š
- **é—®é¢˜è¯¢é—®é€šçŸ¥**ï¼šä¸åšç„¦ç‚¹æ£€æŸ¥ï¼ˆæ”¯æŒ tmux å·¥ä½œæµï¼‰

::: tip tmux å·¥ä½œæµæ”¯æŒ
å¦‚æœä½ åœ¨ tmux ä¸­ä½¿ç”¨å¤šä¸ªçª—æ ¼ï¼Œé—®é¢˜è¯¢é—®é€šçŸ¥ä¸ä¼šå› ç„¦ç‚¹æ£€æµ‹è¢«æŠ‘åˆ¶ï¼Œç¡®ä¿ä½ èƒ½åœ¨å…¶ä»–çª—æ ¼å·¥ä½œæ—¶æ”¶åˆ°æé†’ã€‚
:::

### macOS ç‰¹æ®ŠåŠŸèƒ½ï¼šç‚¹å‡»é€šçŸ¥èšç„¦ç»ˆç«¯

åœ¨ macOS ä¸Šï¼Œé€šçŸ¥è¿˜æœ‰ä¸€ä¸ªé¢å¤–åŠŸèƒ½ï¼š**ç‚¹å‡»é€šçŸ¥åï¼Œç»ˆç«¯çª—å£ä¼šè‡ªåŠ¨ç½®é¡¶**ã€‚

**åŸç†**ï¼š
1. æ’ä»¶é€šè¿‡ `osascript` è·å–ä½ çš„ç»ˆç«¯ Bundle IDï¼ˆå¦‚ `com.ghostty.Ghostty`ï¼‰
2. å‘é€é€šçŸ¥æ—¶è®¾ç½® `activate` é€‰é¡¹ä¸ºè¯¥ Bundle ID
3. ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨èšç„¦åˆ°å¯¹åº”çš„åº”ç”¨

**æ”¯æŒçš„ç»ˆç«¯**ï¼šGhostty, Kitty, iTerm2, WezTerm, Alacritty, macOS Terminal, Hyper, Warp, VS Code é›†æˆç»ˆç«¯ç­‰ã€‚

::: info è‡ªåŠ¨ç»ˆç«¯æ£€æµ‹
æ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹ä½ ä½¿ç”¨çš„ç»ˆç«¯ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚å¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰‹åŠ¨æŒ‡å®š `terminal` å­—æ®µã€‚
:::

## é€šçŸ¥è§¦å‘æµç¨‹

### å®Œæ•´æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant AI as OpenCode AI
    participant OC as OpenCode Core
    participant Plugin as opencode-notify
    participant User as ç”¨æˆ·ç»ˆç«¯
    participant OS as æ“ä½œç³»ç»Ÿé€šçŸ¥

    AI->>OC: ä¼šè¯å®Œæˆ (session.idle)
    OC->>Plugin: è§¦å‘äº‹ä»¶
    Plugin->>Plugin: æ£€æŸ¥æ˜¯å¦çˆ¶ä¼šè¯
    alt å­ä¼šè¯
        Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
    else çˆ¶ä¼šè¯
        Plugin->>Plugin: æ£€æŸ¥é™éŸ³æ—¶æ®µ
        alt åœ¨é™éŸ³æ—¶æ®µ
            Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
        else éé™éŸ³æ—¶æ®µ
            Plugin->>Plugin: æ£€æŸ¥ç»ˆç«¯ç„¦ç‚¹
            alt ç»ˆç«¯å·²èšç„¦
                Plugin->>Plugin: ğŸš« ä¸é€šçŸ¥
            else ç»ˆç«¯æœªèšç„¦
                Plugin->>OS: å‘é€åŸç”Ÿé€šçŸ¥
                OS->>User: æ˜¾ç¤ºæ¡Œé¢é€šçŸ¥
                alt macOS + ç”¨æˆ·ç‚¹å‡»
                    OS->>User: èšç„¦ç»ˆç«¯çª—å£
                end
            end
        end
    end
```

### äº‹ä»¶å¤„ç†ä¼˜å…ˆçº§

å½“å¤šä¸ªäº‹ä»¶åŒæ—¶è§¦å‘æ—¶ï¼Œæ’ä»¶ä¼šæŒ‰ç…§ä»¥ä¸‹ä¼˜å…ˆçº§å¤„ç†ï¼š

1. **æœ€é«˜ä¼˜å…ˆçº§**ï¼šæƒé™è¯·æ±‚ï¼ˆ`permission.updated`ï¼‰- AI è¢«é˜»å¡ï¼Œå¿…é¡»å¤„ç†
2. **æ¬¡é«˜ä¼˜å…ˆçº§**ï¼šé”™è¯¯é€šçŸ¥ï¼ˆ`session.error`ï¼‰- ä»»åŠ¡å¤±è´¥ï¼Œéœ€è¦å…³æ³¨
3. **ä½ä¼˜å…ˆçº§**ï¼šä»»åŠ¡å®Œæˆï¼ˆ`session.idleï¼‰- å¯ä»¥ç¨åæ£€æŸ¥
4. **ç‰¹æ®Š**ï¼šé—®é¢˜è¯¢é—®ï¼ˆ`tool.execute.before`ï¼‰- æ ¹æ®å®é™…éœ€æ±‚å†³å®šä¼˜å…ˆçº§

::: tip æ‰¹é‡é€šçŸ¥å¤„ç†
å¦‚æœå¤šä¸ªä»»åŠ¡åŒæ—¶å®Œæˆï¼Œæ’ä»¶ä¸ä¼šåˆ†åˆ«å‘é€å¤šä¸ªé€šçŸ¥ï¼Œè€Œæ˜¯åªå‘é€ä¸€ä¸ªé€šçŸ¥ï¼ˆåŸºäºçˆ¶ä¼šè¯æ£€æŸ¥ï¼‰ã€‚è¿™é¿å…äº†é€šçŸ¥è½°ç‚¸ã€‚
:::

## é…ç½®å½±å“

é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥è°ƒæ•´è¿‡æ»¤æœºåˆ¶çš„å„ä¸ªå±‚çº§ï¼š

| é…ç½®é¡¹ | å½±å“å±‚çº§ | é»˜è®¤å€¼ | è¯´æ˜ |
|--- | --- | --- | ---|
| `notifyChildSessions` | çˆ¶ä¼šè¯æ£€æŸ¥ | `false` | è®¾ä¸º `true` å¯å¯ç”¨å­ä¼šè¯é€šçŸ¥ |
| `quietHours.enabled` | é™éŸ³æ—¶æ®µæ£€æŸ¥ | `false` | è®¾ä¸º `true` å¯ç”¨é™éŸ³æ—¶æ®µ |
| `quietHours.start` | é™éŸ³æ—¶æ®µæ£€æŸ¥ | `"22:00"` | é™éŸ³å¼€å§‹æ—¶é—´ |
| `quietHours.end` | é™éŸ³æ—¶æ®µæ£€æŸ¥ | `"08:00"` | é™éŸ³ç»“æŸæ—¶é—´ |
| `terminal` | ç»ˆç«¯æ£€æµ‹ | æœªè®¾ç½® | æ‰‹åŠ¨æŒ‡å®šç»ˆç«¯ç±»å‹ï¼ˆè¦†ç›–è‡ªåŠ¨æ£€æµ‹ï¼‰ |

::: details é…ç½®ç¤ºä¾‹

```json
{
  "enabled": true,
  "notifyChildSessions": false,
  "sounds": {
    "idle": "Glass",
    "error": "Basso",
    "permission": "Submarine"
  },
  "quietHours": {
    "enabled": true,
    "start": "22:00",
    "end": "08:00"
  },
  "terminal": "ghostty"
}
```

:::

## æœ¬è¯¾å°ç»“

opencode-notify çš„å·¥ä½œåŸç†å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š

1. **å››ç§é€šçŸ¥ç±»å‹**ï¼šä»»åŠ¡å®Œæˆã€é”™è¯¯ã€æƒé™è¯·æ±‚ã€é—®é¢˜è¯¢é—®
2. **ä¸‰å±‚æ™ºèƒ½è¿‡æ»¤**ï¼šçˆ¶ä¼šè¯æ£€æŸ¥ â†’ é™éŸ³æ—¶æ®µæ£€æŸ¥ â†’ ç»ˆç«¯ç„¦ç‚¹æ£€æŸ¥
3. **å¹³å°å·®å¼‚**ï¼šmacOS æ”¯æŒç„¦ç‚¹æ£€æµ‹å’Œç‚¹å‡»èšç„¦ï¼ŒWindows/Linux ä»…æ”¯æŒåŸºç¡€é€šçŸ¥
4. **çµæ´»é…ç½®**ï¼šé€šè¿‡ JSON é…ç½®æ–‡ä»¶è°ƒæ•´è¿‡æ»¤å±‚çº§å’Œè¡Œä¸º

è¿™ä¸ªè®¾è®¡ç¡®ä¿äº†é€šçŸ¥çš„åŠæ—¶æ€§å’Œä½å¹²æ‰°æ€§â€”â€”åªåœ¨çœŸæ­£éœ€è¦ä½ çš„æ—¶å€™æé†’ï¼Œè€Œä¸ä¼šæˆä¸ºå¦ä¸€ä¸ªéœ€è¦é¢‘ç¹æŸ¥çœ‹çš„é€šçŸ¥ä¸­å¿ƒã€‚

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[macOS å¹³å°ç‰¹æ€§](../../platforms/macos/)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - macOS ç‹¬æœ‰çš„ç„¦ç‚¹æ£€æµ‹æœºåˆ¶
> - å¦‚ä½•é…ç½®ç‚¹å‡»é€šçŸ¥èšç„¦åŠŸèƒ½
> - è‡ªå®šä¹‰éŸ³æ•ˆçš„å®Œæ•´åˆ—è¡¨
> - ä¸ macOS åŸç”Ÿç³»ç»Ÿçš„é›†æˆç»†èŠ‚

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-01-27

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾„ | è¡Œå· |
|--- | --- | ---|
| æ’ä»¶ä¸»å…¥å£ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L357-L406) | 357-406 |
| é…ç½®åŠ è½½ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L90-L114) | 90-114 |
| é»˜è®¤é…ç½® | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L56-L68) | 56-68 |
| ç»ˆç«¯æ£€æµ‹ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L145-L164) | 145-164 |
| ç»ˆç«¯ç„¦ç‚¹æ£€æµ‹ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L166-L175) | 166-175 |
| é™éŸ³æ—¶æ®µæ£€æŸ¥ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L181-L199) | 181-199 |
| çˆ¶ä¼šè¯æ£€æµ‹ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L205-L214) | 205-214 |
| ä»»åŠ¡å®Œæˆå¤„ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L249-L284) | 249-284 |
| é”™è¯¯é€šçŸ¥å¤„ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L286-L313) | 286-313 |
| æƒé™è¯·æ±‚å¤„ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L315-L334) | 315-334 |
| é—®é¢˜è¯¢é—®å¤„ç† | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L336-L351) | 336-351 |
| é€šçŸ¥å‘é€ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L227-L243) | 227-243 |
| macOS å‰å°åº”ç”¨æ£€æµ‹ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L139-L143) | 139-143 |
| Bundle ID è·å– | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L135-L137) | 135-137 |
| ç»ˆç«¯è¿›ç¨‹åæ˜ å°„ | [`src/notify.ts`](https://github.com/kdcokenny/opencode-notify/blob/main/src/notify.ts#L71-L84) | 71-84 |

**å…³é”®å¸¸é‡**ï¼š

- `DEFAULT_CONFIG`ï¼šé»˜è®¤é…ç½®ï¼ˆç¬¬ 56-68 è¡Œï¼‰
  - `notifyChildSessions: false`ï¼šé»˜è®¤ä¸é€šçŸ¥å­ä¼šè¯
  - `sounds.idle: "Glass"`ï¼šä»»åŠ¡å®ŒæˆéŸ³æ•ˆ
  - `sounds.error: "Basso"`ï¼šé”™è¯¯éŸ³æ•ˆ
  - `sounds.permission: "Submarine"`ï¼šæƒé™è¯·æ±‚éŸ³æ•ˆ
  - `quietHours.start: "22:00"`ã€`quietHours.end: "08:00"`ï¼šé»˜è®¤é™éŸ³æ—¶æ®µ

- `TERMINAL_PROCESS_NAMES`ï¼šç»ˆç«¯åç§°åˆ° macOS è¿›ç¨‹åçš„æ˜ å°„ï¼ˆç¬¬ 71-84 è¡Œï¼‰

**å…³é”®å‡½æ•°**ï¼š

- `loadConfig()`ï¼šåŠ è½½å¹¶åˆå¹¶é…ç½®æ–‡ä»¶ä¸é»˜è®¤é…ç½®
- `detectTerminalInfo()`ï¼šæ£€æµ‹ç»ˆç«¯ä¿¡æ¯ï¼ˆåç§°ã€Bundle IDã€è¿›ç¨‹åï¼‰
- `isTerminalFocused()`ï¼šæ£€æŸ¥ç»ˆç«¯æ˜¯å¦ä¸ºå½“å‰å‰å°åº”ç”¨ï¼ˆmacOSï¼‰
- `isQuietHours()`ï¼šæ£€æŸ¥å½“å‰æ—¶é—´æ˜¯å¦åœ¨é™éŸ³æ—¶æ®µå†…
- `isParentSession()`ï¼šæ£€æŸ¥ä¼šè¯æ˜¯å¦ä¸ºçˆ¶ä¼šè¯
- `sendNotification()`ï¼šå‘é€åŸç”Ÿé€šçŸ¥ï¼Œæ”¯æŒ macOS ç‚¹å‡»èšç„¦
- `handleSessionIdle()`ï¼šå¤„ç†ä»»åŠ¡å®Œæˆäº‹ä»¶
- `handleSessionError()`ï¼šå¤„ç†é”™è¯¯äº‹ä»¶
- `handlePermissionUpdated()`ï¼šå¤„ç†æƒé™è¯·æ±‚äº‹ä»¶
- `handleQuestionAsked()`ï¼šå¤„ç†é—®é¢˜è¯¢é—®äº‹ä»¶

**ä¸šåŠ¡è§„åˆ™**ï¼š

- BR-1-1ï¼šé»˜è®¤åªé€šçŸ¥çˆ¶ä¼šè¯ï¼Œä¸é€šçŸ¥å­ä¼šè¯ï¼ˆ`notify.ts:256-259`ï¼‰
- BR-1-2ï¼šç»ˆç«¯èšç„¦æ—¶æŠ‘åˆ¶é€šçŸ¥ï¼ˆ`notify.ts:265`ï¼‰
- BR-1-3ï¼šé™éŸ³æ—¶æ®µå†…ä¸å‘é€é€šçŸ¥ï¼ˆ`notify.ts:262`ï¼‰
- BR-1-4ï¼šæƒé™è¯·æ±‚å§‹ç»ˆé€šçŸ¥ï¼Œæ— éœ€çˆ¶ä¼šè¯æ£€æŸ¥ï¼ˆ`notify.ts:319`ï¼‰
- BR-1-5ï¼šé—®é¢˜è¯¢é—®ä¸åšç„¦ç‚¹æ£€æŸ¥ï¼Œæ”¯æŒ tmux å·¥ä½œæµï¼ˆ`notify.ts:340`ï¼‰
- BR-1-6ï¼šmacOS æ”¯æŒç‚¹å‡»é€šçŸ¥èšç„¦ç»ˆç«¯ï¼ˆ`notify.ts:238-240`ï¼‰

</details>
