---
title: "ã‚¹ã‚­ãƒ«ç™ºè¦‹: å„ªå…ˆé †ä½ãƒ«ãƒ¼ãƒ« | opencode-agent-skills"
sidebarTitle: "AI ã«ã‚¹ã‚­ãƒ«ã‚’è¦‹ã¤ã‘ã¦ã‚‚ã‚‰ã†"
subtitle: "ã‚¹ã‚­ãƒ«ç™ºè¦‹: å„ªå…ˆé †ä½ãƒ«ãƒ¼ãƒ«"
description: "ã‚¹ã‚­ãƒ«ç™ºè¦‹ã®å„ªå…ˆé †ä½ãƒ«ãƒ¼ãƒ«ã¨é‡è¤‡æ’é™¤ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¿’å¾—ã—ã¾ã™ã€‚6 ã¤ã®ç™ºè¦‹å ´æ‰€ã®æ­£ã—ã„é…ç½®æ–¹æ³•ã‚’å­¦ã³ã€åŒåã‚¹ã‚­ãƒ«ã®ä¸Šæ›¸ãã‚’å›é¿ã—ã¾ã™ã€‚"
tags:
  - "ã‚¹ã‚­ãƒ«ç™ºè¦‹"
  - "å„ªå…ˆé †ä½"
  - "Claude Code äº’æ›"
prerequisite:
  - "start-installation"
order: 1
---

# ã‚¹ã‚­ãƒ«ç™ºè¦‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ è©³è§£

## æœ¬ãƒ¬ãƒƒã‚¹ãƒ³ã§ã§ãã‚‹ã“ã¨

- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã©ã®å ´æ‰€ã‹ã‚‰è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒ«ã‚’ç™ºè¦‹ã™ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹
- ã‚¹ã‚­ãƒ«ç™ºè¦‹ã®å„ªå…ˆé †ä½ãƒ«ãƒ¼ãƒ«ã‚’ç¿’å¾—ã™ã‚‹
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã‚’ä¸Šæ›¸ãã™ã‚‹æ–¹æ³•ã‚’çŸ¥ã‚‹
- Claude Code ã‚¹ã‚­ãƒ«äº’æ›ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã™ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

ã‚¹ã‚­ãƒ«ã‚’ä½œæˆã—ãŸãŒã€AI ãŒãšã£ã¨ã€Œã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¨è¨€ã†ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã©ã“ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œç´¢ã™ã‚‹ã‹åˆ†ã‹ã‚‰ãšã€åŒåã‚¹ã‚­ãƒ«ãŒã©ã†ãªã‚‹ã‹ã‚‚åˆ†ã‹ã‚‰ãªã„ã€‚çµæœã¨ã—ã¦ã€ã‚¹ã‚­ãƒ«ã‚’é–“é•ã£ãŸå ´æ‰€ã«é…ç½®ã—ãŸã‚Šã€ä»–ã®å ´æ‰€ã®ã‚¹ã‚­ãƒ«ã«ä¸Šæ›¸ãã•ã‚ŒãŸã‚Šã—ã¦ã„ã‚‹ã€‚

## ã“ã®æ©Ÿèƒ½ã‚’ä½¿ã†å ´é¢

- ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æœ‰åŠ¹ã«ã—ãŸã„å ´åˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä»˜å±ã®ã‚¹ã‚­ãƒ«ã‚’ä¸Šæ›¸ãã—ãŸã„å ´åˆ
- Claude Code ã®ã‚¹ã‚­ãƒ«ã‚’å†åˆ©ç”¨ã™ã‚‹å ´åˆ

## ğŸ’ é–‹å§‹å‰ã®æº–å‚™

::: warning å‰æçŸ¥è­˜
å…ˆã« [OpenCode Agent Skills ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](../../start/installation/) ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚
:::

## æ ¸å¿ƒçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

OpenCode Agent Skills ã¯è¤‡æ•°ã®å ´æ‰€ã‹ã‚‰è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒ«ã‚’ç™ºè¦‹ã—ã€å„ªå…ˆé †ä½ã«å¾“ã£ã¦æ¤œç´¢ã—ã¾ã™ã€‚**æœ€åˆã«è¦‹ã¤ã‹ã£ãŸã‚¹ã‚­ãƒ«ãŒæœ‰åŠ¹ã«ãªã‚Šã€å¾Œç¶šã®åŒåã‚¹ã‚­ãƒ«ã¯ç„¡è¦–ã•ã‚Œã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã‚’ä¸Šæ›¸ãã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’å®Ÿç¾ã§ãã¾ã™ã€‚

### ç™ºè¦‹ãƒ‘ã‚¹ã®æ¦‚è¦

```mermaid
graph TD
    A[ã‚¹ã‚­ãƒ«ç™ºè¦‹ã‚’é–‹å§‹] --> B[.opencode/skills/ ã‚’ãƒã‚§ãƒƒã‚¯]
    B --> C{ã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸã‹?}
    C -->|ã¯ã„| F[æ¤œç´¢ã‚’åœæ­¢ã€ãã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ç”¨]
    C -->|ã„ã„ãˆ| D[.claude/skills/ ã‚’ãƒã‚§ãƒƒã‚¯]
    D --> E{ã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸã‹?}
    E -->|ã¯ã„| F
    E -->|ã„ã„ãˆ| G[~/.config/opencode/skills/ ã‚’ãƒã‚§ãƒƒã‚¯]
    G --> H{ã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸã‹?}
    H -->|ã¯ã„| F
    H -->|ã„ã„ãˆ| I[~/.claude/skills/ ã‚’ãƒã‚§ãƒƒã‚¯]
    I --> J{ã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸã‹?}
    J -->|ã¯ã„| F
    J -->|ã„ã„ãˆ| K[Claude ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯]
    K --> L[Claude ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯]
    L --> M[è¦‹ã¤ã‹ã£ãŸã‚¹ã‚­ãƒ«ã‚’ä½¿ç”¨]
```

::: info ã‚¹ã‚­ãƒ«åã®ä¸€æ„æ€§
åŒåã‚¹ã‚­ãƒ«ã¯æœ€åˆã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ã®ã¿ãŒä¿æŒã•ã‚Œã€å¾Œç¶šã®ã‚‚ã®ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã® `git-helper` ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã® `git-helper` ã‚’ä¸Šæ›¸ãã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
:::

## ãƒãƒ³ã‚ºã‚ªãƒ³

### ã‚¹ãƒ†ãƒƒãƒ— 1: ã‚¹ã‚­ãƒ«ç™ºè¦‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¢ºèªã™ã‚‹

**ãªãœå¿…è¦ã‹**
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã©ã®ã‚ˆã†ã«ã‚¹ã‚­ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹ã¨ã€å•é¡Œã®ç‰¹å®šã«å½¹ç«‹ã¡ã¾ã™ã€‚

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å†…ã®ç™ºè¦‹ãƒ‘ã‚¹å®šç¾©ã‚’ç¢ºèªã—ã¾ã™ï¼š

```typescript
// src/skills.ts:241-246
const discoveryPaths: DiscoveryPath[] = [
  { path: path.join(directory, '.opencode', 'skills'), label: 'project', maxDepth: 3 },
  { path: path.join(directory, '.claude', 'skills'), label: 'claude-project', maxDepth: 1 },
  { path: path.join(homedir(), '.config', 'opencode', 'skills'), label: 'user', maxDepth: 3 },
  { path: path.join(homedir(), '.claude', 'skills'), label: 'claude-user', maxDepth: 1 }
];
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- 4 ã¤ã®ãƒ­ãƒ¼ã‚«ãƒ«ç™ºè¦‹ãƒ‘ã‚¹ã§ã€ãã‚Œãã‚Œã« `label`ï¼ˆã‚½ãƒ¼ã‚¹è­˜åˆ¥å­ï¼‰ã¨ `maxDepth`ï¼ˆæœ€å¤§å†å¸°æ·±åº¦ï¼‰ãŒã‚ã‚‹
- ã•ã‚‰ã« 2 ã¤ã® Claude ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‘ã‚¹ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼‰ãŒã‚ã‚Šã€`discoverPluginCacheSkills()` ã¨ `discoverMarketplaceSkills()` ã§ç™ºè¦‹ã•ã‚Œã‚‹
- `directory` ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€`homedir()` ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

### ã‚¹ãƒ†ãƒƒãƒ— 2: å†å¸°æ¤œç´¢ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã™ã‚‹

**ãªãœå¿…è¦ã‹**
å†å¸°æ·±åº¦ã®åˆ¶é™ã‚’ç†è§£ã™ã‚‹ã¨ã€ã‚¹ã‚­ãƒ«ã‚’æ·±ã™ãã‚‹å ´æ‰€ã«é…ç½®ã—ã¦è¦‹ã¤ã‹ã‚‰ãªã„å•é¡Œã‚’å›é¿ã§ãã¾ã™ã€‚

å†å¸°æ¤œç´¢é–¢æ•°ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ„ãƒªãƒ¼ã‚’èµ°æŸ»ã—ã¦ `SKILL.md` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã—ã¾ã™ï¼š

```typescript
// src/skills.ts:182-207
async function recurse(dir: string, depth: number, relPath: string) {
  if (depth > maxDepth) return;  // æ·±åº¦åˆ¶é™ã‚’è¶…ãˆãŸã‚‰æ¤œç´¢ã‚’åœæ­¢

  const entries = await fs.readdir(dir, { withFileTypes: true });
  for (const entry of entries) {
    const fullPath = path.join(dir, entry.name);
    const stats = await fs.stat(fullPath);

    if (!stats.isDirectory()) continue;  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—

    const newRelPath = relPath ? `${relPath}/${entry.name}` : entry.name;
    const found = await findFile(fullPath, newRelPath, 'SKILL.md');

    if (found) {
      results.push({ ...found, label });  // ã‚¹ã‚­ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸã‚‰çµæœã«è¿½åŠ 
    } else {
      await recurse(fullPath, depth + 1, newRelPath);  // ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°æ¤œç´¢
    }
  }
}
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ·±åº¦ã¯ 0 ã‹ã‚‰é–‹å§‹ã—ã€`maxDepth` ã‚’è¶…ãˆã‚‹ã¨åœæ­¢
- `SKILL.md` ãŒè¦‹ã¤ã‹ã£ãŸã‚‰è¿”å´ã—ã€ãã‚Œä»¥å¤–ã¯ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¤œç´¢ã‚’ç¶™ç¶š

**å„å ´æ‰€ã®å†å¸°æ·±åº¦**ï¼š

| ä½ç½®                | Label           | æœ€å¤§æ·±åº¦ | èª¬æ˜                       |
|--- | --- | --- | ---|
| `.opencode/skills/` | project         | 3        | ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆ           |
| `.claude/skills/`   | claude-project  | 1        | æœ€åˆã®ãƒ¬ãƒ™ãƒ«ã®ã¿ã‚¹ã‚­ãƒ£ãƒ³               |
| `~/.config/opencode/skills/` | user   | 3        | ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆ           |
| `~/.claude/skills/` | claude-user     | 1        | æœ€åˆã®ãƒ¬ãƒ™ãƒ«ã®ã¿ã‚¹ã‚­ãƒ£ãƒ³               |

### ã‚¹ãƒ†ãƒƒãƒ— 3: é‡è¤‡æ’é™¤ãƒ«ãƒ¼ãƒ«ã‚’ç†è§£ã™ã‚‹

**ãªãœå¿…è¦ã‹**
åŒåã‚¹ã‚­ãƒ«ã¯ 1 ã¤ã—ã‹ä¿æŒã•ã‚Œãªã„ãŸã‚ã€ã“ã®ãƒ«ãƒ¼ãƒ«ã‚’çŸ¥ã£ã¦ãŠãã¨ã‚¹ã‚­ãƒ«ãŒä¸Šæ›¸ãã•ã‚Œã‚‹å•é¡Œã‚’å›é¿ã§ãã¾ã™ã€‚

é‡è¤‡æ’é™¤ãƒ­ã‚¸ãƒƒã‚¯ã¯ `discoverAllSkills` é–¢æ•°ã«ã‚ã‚Šã¾ã™ï¼š

```typescript
// src/skills.ts:255-262
const skillsByName = new Map<string, Skill>();
for (const { filePath, relativePath, label } of allResults) {
  const skill = await parseSkillFile(filePath, relativePath, label);
  if (!skill || skillsByName.has(skill.name)) continue;  // æ—¢å­˜ã®åŒåã‚¹ã‚­ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—
  skillsByName.set(skill.name, skill);
}
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- `Map` ã‚’ä½¿ç”¨ã—ã¦ `skill.name` ã§ä¿å­˜ã—ã€ä¸€æ„æ€§ã‚’ç¢ºä¿
- `skillsByName.has(skill.name)` ã§ã™ã§ã«åŒåã‚¹ã‚­ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯
- å¾Œç¶šã®åŒåã‚¹ã‚­ãƒ«ã¯ç„¡è¦–ã•ã‚Œã‚‹ï¼ˆ`continue`ï¼‰

**ã‚·ãƒŠãƒªã‚ªä¾‹**ï¼š

```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼š
.opencode/skills/git-helper/SKILL.md  â† æœ€åˆã«ç™ºè¦‹ã€æœ‰åŠ¹
~/.config/opencode/skills/git-helper/SKILL.md  â† åŒåã€ç„¡è¦–
```

### ã‚¹ãƒ†ãƒƒãƒ— 4: SKILL.md ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æã™ã‚‹

**ãªãœå¿…è¦ã‹**
SKILL.md ã®è§£æãƒ«ãƒ¼ãƒ«ã‚’ç†è§£ã™ã‚‹ã¨ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã§ãã¾ã™ã€‚

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ SKILL.md ã® YAML frontmatter ã‚’è§£æã—ã¾ã™ï¼š

```typescript
// src/skills.ts:132-152
const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
if (!frontmatterMatch?.[1] || !frontmatterMatch?.[2]) {
  return null;  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼ã€ã‚¹ã‚­ãƒƒãƒ—
}

const frontmatterText = frontmatterMatch[1];
const skillContent = frontmatterMatch[2].trim();

let frontmatterObj: unknown;
try {
  frontmatterObj = parseYamlFrontmatter(frontmatterText);
} catch {
  return null;  // YAML è§£æå¤±æ•—ã€ã‚¹ã‚­ãƒƒãƒ—
}

let frontmatter: SkillFrontmatter;
try {
  frontmatter = SkillFrontmatterSchema.parse(frontmatterObj);
} catch (error) {
  return null;  // æ¤œè¨¼å¤±æ•—ã€ã‚¹ã‚­ãƒƒãƒ—
}
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- Frontmatter ã¯ `---` ã§å›²ã¾ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹
- YAML ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ Zod Schema æ¤œè¨¼ã«æº–æ‹ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- è§£æå¤±æ•—ã®ã‚¹ã‚­ãƒ«ã¯ç„¡è¦–ã•ã‚Œã‚‹ï¼ˆã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãšã€ä»–ã®ã‚¹ã‚­ãƒ«ã®ç™ºè¦‹ã‚’ç¶™ç¶šï¼‰

**Frontmatter æ¤œè¨¼ãƒ«ãƒ¼ãƒ«**ï¼š

```typescript
// src/skills.ts:106-114
const SkillFrontmatterSchema = z.object({
  name: z.string()
    .regex(/^[\p{Ll}\p{N}-]+$/u, { message: "Name must be lowercase alphanumeric with hyphens" })
    .min(1, { message: "Name cannot be empty" }),
  description: z.string()
    .min(1, { message: "Description cannot be empty" }),
  license: z.string().optional(),
  "allowed-tools": z.array(z.string()).optional(),
  metadata: z.record(z.string(), z.string()).optional()
});
```

**å‘½åè¦å‰‡**ï¼š
- å°æ–‡å­—ã€æ•°å­—ã€ãƒã‚¤ãƒ•ãƒ³ï¼ˆ`-`ï¼‰ã®ã¿è¨±å¯
- ã‚¹ãƒšãƒ¼ã‚¹ã€å¤§æ–‡å­—ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã¯è¨±å¯ã—ãªã„

| âŒ é–“é•ã£ãŸã‚¹ã‚­ãƒ«å  | âœ… æ­£ã—ã„ã‚¹ã‚­ãƒ«å |
|--- | ---|
| `MySkill`        | `my-skill`       |
| `git_helper`     | `git-helper`     |
| `Git Helper`     | `git-helper`     |

### ã‚¹ãƒ†ãƒƒãƒ— 5: å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç™ºè¦‹ã™ã‚‹

**ãªãœå¿…è¦ã‹**
ã‚¹ã‚­ãƒ«ã¯è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆç™ºè¦‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã™ã‚‹ã¨æ­£ã—ãè¨­å®šã§ãã¾ã™ã€‚

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã‚¹ã‚­ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã—ã¾ã™ï¼š

```typescript
// src/skills.ts:61-93
const scripts: Script[] = [];
const skipDirs = new Set(['node_modules', '__pycache__', '.git', '.venv', 'venv', '.tox', '.nox']);

async function recurse(dir: string, depth: number, relPath: string) {
  if (depth > maxDepth) return;

  const entries = await fs.readdir(dir, { withFileTypes: true });
  for (const entry of entries) {
    if (entry.name.startsWith('.')) continue;  // éš ã—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¹ã‚­ãƒƒãƒ—
    if (skipDirs.has(entry.name)) continue;    // ä¾å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¹ã‚­ãƒƒãƒ—

    const fullPath = path.join(dir, entry.name);
    const stats = await fs.stat(fullPath);

    if (stats.isDirectory()) {
      await recurse(fullPath, depth + 1, newRelPath);
    } else if (stats.isFile()) {
      if (stats.mode & 0o111) {  // å®Ÿè¡Œå¯èƒ½ãƒ“ãƒƒãƒˆã‚’ãƒã‚§ãƒƒã‚¯
        scripts.push({
          relativePath: newRelPath,
          absolutePath: fullPath
        });
      }
    }
  }
}
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- å®Ÿè¡Œå¯èƒ½ãƒ“ãƒƒãƒˆï¼ˆ`0o111`ï¼‰ãŒã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚¹ã‚­ãƒ£ãƒ³
- éš ã—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ä¸€èˆ¬çš„ãªä¾å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒƒãƒ—
- æœ€å¤§å†å¸°æ·±åº¦ã¯ 10 ãƒ¬ãƒ™ãƒ«

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆç™ºè¦‹ãƒ«ãƒ¼ãƒ«**ï¼š

| ãƒ«ãƒ¼ãƒ«              | èª¬æ˜                                    |
|--- | ---|
| å®Ÿè¡Œå¯èƒ½ãƒ“ãƒƒãƒˆãƒã‚§ãƒƒã‚¯      | ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯å®Ÿè¡Œæ¨©é™ãŒã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆ`chmod +x`ï¼‰       |
| éš ã—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚¹ã‚­ãƒƒãƒ—      | `.git`ã€`.venv` ãªã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ãªã„           |
| ä¾å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚¹ã‚­ãƒƒãƒ—      | `node_modules`ã€`__pycache__` ãªã©ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ãªã„ |
| æœ€å¤§æ·±åº¦ 10 ãƒ¬ãƒ™ãƒ«    | 10 ãƒ¬ãƒ™ãƒ«ã‚’è¶…ãˆã‚‹ãƒã‚¹ãƒˆã¯ã‚¹ã‚­ãƒ£ãƒ³ã•ã‚Œãªã„              |

### ã‚¹ãƒ†ãƒƒãƒ— 6: Claude Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨äº’æ›æ€§ã‚’æŒã¤

**ãªãœå¿…è¦ã‹**
Claude Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³äº’æ›ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã™ã‚‹ã¨ã€æ—¢å­˜ã®ã‚¹ã‚­ãƒ«ã‚’å†åˆ©ç”¨ã§ãã¾ã™ã€‚

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ Claude Code ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¾ã™ï¼š

```typescript
// src/claude.ts:115-145
async function discoverMarketplaceSkills(): Promise<LabeledDiscoveryResult[]> {
  const claudeDir = path.join(homedir(), ".claude", "plugins");
  const installedPath = path.join(claudeDir, "installed_plugins.json");

  let installed: InstalledPlugins;
  try {
    const content = await fs.readFile(installedPath, "utf-8");
    installed = JSON.parse(content);
  } catch {
    return [];
  }

  const isV2 = installed.version === 2;

  for (const pluginKey of Object.keys(installed.plugins || {})) {
    const pluginData = installed.plugins[pluginKey];
    if (!pluginData) continue;

    if (isV2 || Array.isArray(pluginData)) {
      // v2 format: use installPath directly from each installation entry
      const installPaths = getPluginInstallPaths(pluginData);
      for (const installPath of installPaths) {
        const skills = await discoverSkillsFromPluginDir(installPath);
        results.push(...skills);
      }
    } else {
      // v1 format: use marketplace manifest to find skills
      // ...
    }
  }
}
```

**ç¢ºèªã§ãã‚‹ã“ã¨**ï¼š
- Claude Code ã® `installed_plugins.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚‹
- v1 ã¨ v2 ã® 2 ã¤ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ã‚µãƒãƒ¼ãƒˆ
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ã‚¹ã‹ã‚‰ `SKILL.md` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³

**Claude Code ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ§‹é€ **ï¼š

ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ï¼š

```
~/.claude/plugins/
â”œâ”€â”€ cache/                    # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”œâ”€â”€ plugin-name/         # v1 æ§‹é€ 
â”‚   â”‚   â””â”€â”€ skills/
â”‚   â”‚       â””â”€â”€ skill-name/SKILL.md
â”‚   â””â”€â”€ marketplace-name/    # v2 æ§‹é€ 
â”‚       â””â”€â”€ plugin-name/
â”‚           â””â”€â”€ version/
â”‚               â””â”€â”€ skills/
â”‚                   â””â”€â”€ skill-name/SKILL.md
â””â”€â”€ installed_plugins.json   # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒªã‚¹ãƒˆ
```

**ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆv2ï¼‰**ï¼š
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿéš›ã®ãƒ‘ã‚¹ã¯ `installed_plugins.json` ã® `installPath` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‹ã‚‰èª­ã¿å–ã‚‰ã‚Œã‚‹
- ãƒ‘ã‚¹ã¯å›ºå®šã§ã¯ãªãã€`managed`ã€`user`ã€`project`ã€`local` ã‚¹ã‚³ãƒ¼ãƒ—ã®ä»»æ„ã®å ´æ‰€ã«ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
- å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸‹ã« `skills/` ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚Šã€å„ã‚¹ã‚­ãƒ«ãŒå«ã¾ã‚Œã‚‹

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

ã‚¹ã‚­ãƒ«ç™ºè¦‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç¿’å¾—ã—ãŸã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š

- [ ] 6 ã¤ã®ã‚¹ã‚­ãƒ«ç™ºè¦‹ãƒ‘ã‚¹ã®å„ªå…ˆé †ä½ã‚’çŸ¥ã£ã¦ã„ã‚‹
- [ ] åŒåã‚¹ã‚­ãƒ«ã¯æœ€åˆã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ã®ã¿ãŒä¿æŒã•ã‚Œã‚‹ã“ã¨ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] å„å ´æ‰€ã®å†å¸°æ·±åº¦åˆ¶é™ã‚’çŸ¥ã£ã¦ã„ã‚‹
- [ ] SKILL.md ã®æ¤œè¨¼ãƒ«ãƒ¼ãƒ«ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã‚’ä¸Šæ›¸ãã™ã‚‹æ–¹æ³•ã‚’çŸ¥ã£ã¦ã„ã‚‹

## ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´

### âŒ ã‚¹ã‚­ãƒ«ã®é…ç½®ãƒŸã‚¹

**å•é¡Œ**: ã‚¹ã‚­ãƒ«ã‚’ `~/.config/opencode/skills/` ã«é…ç½®ã—ãŸãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åŒåã‚¹ã‚­ãƒ«ãŒã‚ã‚‹ãŸã‚ä¸Šæ›¸ãã•ã‚ŒãŸã€‚

**è§£æ±ºç­–**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚¹ã‚­ãƒ«ã¯ `.opencode/skills/` ã«é…ç½®ã—ã€æœ€å„ªå…ˆé †ä½ã‚’ç¢ºä¿ã™ã‚‹ã€‚

### âŒ ã‚¹ã‚­ãƒ«åãŒè¦å‰‡ã«é•åã—ã¦ã„ã‚‹

**å•é¡Œ**: SKILL.md ã® `name` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¤§æ–‡å­—ã‚„ã‚¹ãƒšãƒ¼ã‚¹ãŒå«ã¾ã‚Œã€è§£æã«å¤±æ•—ã—ãŸã€‚

**è§£æ±ºç­–**: ã‚¹ã‚­ãƒ«åãŒ `lowercase-alphanumeric-with-hyphens` è¦å‰‡ã«æº–æ‹ ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚ä¾‹ï¼š`git-helper`ã€‚

### âŒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ãŒãªã„

**å•é¡Œ**: ã‚¹ã‚­ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒ `run_skill_script` ãƒ„ãƒ¼ãƒ«ã§å®Ÿè¡Œã§ããªã„ã€‚

**è§£æ±ºç­–**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’è¿½åŠ ã™ã‚‹ï¼š
```bash
chmod +x tools/build.sh
```

### âŒ ã‚¹ã‚­ãƒ«ãŒæ·±ã™ãã¦è¦‹ã¤ã‹ã‚‰ãªã„

**å•é¡Œ**: ã‚¹ã‚­ãƒ«ã‚’ `~/.config/opencode/skills/category/subcategory/skill/` ã«é…ç½®ã—ã€å†å¸°æ·±åº¦åˆ¶é™ã‚’è¶…ãˆãŸã€‚

**è§£æ±ºç­–**: ã‚¹ã‚­ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ·±åº¦ãŒå¯¾å¿œã™ã‚‹å ´æ‰€ã® `maxDepth` åˆ¶é™ã‚’è¶…ãˆãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚

## æœ¬ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

OpenCode Agent Skills ã¯è¤‡æ•°ã®å ´æ‰€ã‹ã‚‰è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒ«ã‚’ç™ºè¦‹ã—ã€å„ªå…ˆé †ä½ã«å¾“ã£ã¦æ¤œç´¢ã—ã¾ã™ï¼š

1. **å„ªå…ˆé †ä½**ï¼ˆé«˜â†’ä½ï¼‰ï¼š`.opencode/skills/` â†’ `.claude/skills/` â†’ `~/.config/opencode/skills/` â†’ `~/.claude/skills/` â†’ Claude ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ`~/.claude/plugins/cache/`ï¼‰â†’ Claude ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆ`installed_plugins.json` ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ã‚¹ã‚’èª­ã¿å–ã‚Šï¼‰

2. **é‡è¤‡æ’é™¤ãƒ«ãƒ¼ãƒ«**: åŒåã‚¹ã‚­ãƒ«ã¯æœ€åˆã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ã®ã¿ãŒä¿æŒã•ã‚Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã‚¹ã‚­ãƒ«ã‚’ä¸Šæ›¸ãã™ã‚‹ã€‚

3. **å†å¸°æ·±åº¦**: å ´æ‰€ã«ã‚ˆã£ã¦å†å¸°æ·±åº¦ãŒç•°ãªã‚Šã€ã‚¹ã‚­ãƒ«ã‚’æ·±ã™ãã‚‹å ´æ‰€ã«é…ç½®ã™ã‚‹ã¨è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆãŒã‚ã‚‹ã€‚

4. **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼**: SKILL.md ã® frontmatter ã¯ Zod Schema æ¤œè¨¼ã«æº–æ‹ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã†ã§ãªã‘ã‚Œã°ç„¡è¦–ã•ã‚Œã‚‹ã€‚

5. **ã‚¹ã‚¯ãƒªãƒ—ãƒˆç™ºè¦‹**: å®Ÿè¡Œå¯èƒ½ãƒ“ãƒƒãƒˆãŒã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ãŒã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦èªè­˜ã•ã‚Œã‚‹ã€‚

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®äºˆå‘Š

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã®ç…§ä¼šã¨ä¸€è¦§è¡¨ç¤º](../listing-available-skills/)** ã‚’å­¦ç¿’ã—ã¾ã™ã€‚
>
> ä»¥ä¸‹ã®å†…å®¹ã‚’å­¦ã³ã¾ã™ï¼š
> - `get_available_skills` ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã™ã¹ã¦ã®åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‚’ç¢ºèªã™ã‚‹
> - ã‚¹ã‚­ãƒ«åå‰ç©ºé–“ã®ä½¿ç”¨æ–¹æ³•ã‚’ç†è§£ã™ã‚‹
> - ã‚ã„ã¾ã„ä¸€è‡´ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œç´¢ã™ã‚‹æ–¹æ³•

---

## ä»˜éŒ²: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>å±•é–‹ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥æ™‚: 2026-01-24

| æ©Ÿèƒ½           | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                                                      | è¡Œç•ªå·    |
|--- | --- | ---|
| ç™ºè¦‹ãƒ‘ã‚¹å®šç¾©   | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L241-L246)     | 241-246 |
| ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ã®ç™ºè¦‹   | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L240-L263)     | 240-263 |
| å†å¸°æ¤œç´¢ã‚¹ã‚­ãƒ«   | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L176-L218)     | 176-218 |
| SkillLabel åˆ—æŒ™å‹ | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L30)              | 30      |
| é‡è¤‡æ’é™¤ãƒ­ã‚¸ãƒƒã‚¯       | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L255-L262)     | 255-262 |
| Frontmatter è§£æ | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L122-L167)      | 122-167 |
| Schema æ¤œè¨¼    | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L105-L114)     | 105-114 |
| ã‚¹ã‚¯ãƒªãƒ—ãƒˆç™ºè¦‹       | [`src/skills.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/skills.ts#L59-L99)       | 59-99   |
| Claude ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™ºè¦‹ | [`src/claude.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/claude.ts#L115-L180)     | 115-180 |
| Claude ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™ºè¦‹ | [`src/claude.ts`](https://github.com/joshuadavidthomas/opencode-agent-skills/blob/main/src/claude.ts#L193-L253)     | 193-253 |

**ä¸»è¦ãªå®šæ•°**ï¼š
- `maxDepth`ï¼ˆå ´æ‰€ã«ã‚ˆã£ã¦ç•°ãªã‚‹å€¤ï¼‰ï¼šå†å¸°æ·±åº¦åˆ¶é™

**ä¸»è¦ãªé–¢æ•°**ï¼š
- `discoverAllSkills()`: ã™ã¹ã¦ã®ãƒ‘ã‚¹ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’ç™ºè¦‹
- `findSkillsRecursive()`: ã‚¹ã‚­ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°æ¤œç´¢
- `parseSkillFile()`: SKILL.md ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£æ
- `discoverMarketplaceSkills()`: Claude ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™ºè¦‹
- `discoverPluginCacheSkills()`: Claude ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™ºè¦‹

</details>
