---
title: "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼è¨­å®š: è‡ªå‹•æ¤œå‡º | Everything Claude Code"
sidebarTitle: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒãƒ³ãƒ‰ã®çµ±ä¸€"
subtitle: "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼è¨­å®š: è‡ªå‹•æ¤œå‡º | Everything Claude Code"
description: "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®è‡ªå‹•æ¤œå‡ºè¨­å®šæ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚6å±¤ã®å„ªå…ˆåº¦ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã—ã€npm/pnpm/yarn/bunã«å¯¾å¿œã€è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒãƒ³ãƒ‰ã‚’çµ±ä¸€ã§ãã¾ã™ã€‚"
tags:
  - "package-manager"
  - "configuration"
  - "npm"
  - "pnpm"
prerequisite:
  - "start-installation"
order: 30
---

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼è¨­å®šï¼šè‡ªå‹•æ¤œå‡ºã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

## ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§å­¦ã¹ã‚‹ã“ã¨

- âœ… ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆnpm/pnpm/yarn/bunï¼‰ã‚’è‡ªå‹•æ¤œå‡º
- âœ… 6å±¤ã®æ¤œå‡ºå„ªå…ˆåº¦ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£
- âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«ãŠã‚ˆã³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è¨­å®š
- âœ… `/setup-pm` ã‚³ãƒãƒ³ãƒ‰ã§ç´ æ—©ãã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- âœ… è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç’°å¢ƒã§ç•°ãªã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ‰±ã†ã‚·ãƒŠãƒªã‚ªã«å¯¾å¿œ

## ä»Šã‚ãªãŸãŒæŠ±ãˆã¦ã„ã‚‹å•é¡Œ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¢—ãˆã¦ãã¦ã€npm ã‚’ä½¿ã†ã‚‚ã®ã€pnpm ã‚’ä½¿ã†ã‚‚ã®ã€yarn ã‚„ bun ã‚’ä½¿ã†ã‚‚ã®ãŒæ··åœ¨ã—ã¦ã„ã¾ã™ã€‚Claude Code ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ãŸã³ã«ã€ã“ã†è€ƒãˆã¦ã—ã¾ã„ã¾ã™ï¼š

- ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ `npm install` ãã‚Œã¨ã‚‚ `pnpm install`ï¼Ÿ
- `npx`ã€`pnpm dlx`ã€ãã‚Œã¨ã‚‚ `bunx` ã‚’ä½¿ã†ã¹ãï¼Ÿ
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ `npm run dev`ã€`pnpm dev`ã€ãã‚Œã¨ã‚‚ `bun run dev`ï¼Ÿ

ä¸€åº¦é–“é•ãˆã‚‹ã¨ã‚³ãƒãƒ³ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã€æ™‚é–“ã®ç„¡é§„ã§ã™ã€‚

## ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°

- **æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚**ï¼šä½¿ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ±ºã‚ãŸã‚‰ã™ãã«è¨­å®š
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ‡ã‚Šæ›¿ãˆæ™‚**ï¼šç¾åœ¨ã®æ¤œå‡ºãŒæ­£ã—ã„ã‹ç¢ºèª
- **ãƒãƒ¼ãƒ é–‹ç™ºæ™‚**ï¼šå…¨ãƒ¡ãƒ³ãƒãƒ¼ãŒåŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼
- **è¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç’°å¢ƒ**ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š + ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸Šæ›¸ãã§æŸ”è»Ÿã«ç®¡ç†

::: tip ãªãœãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®è¨­å®šãŒå¿…è¦ï¼Ÿ
Everything Claude Code ã® hooks ã¨ agents ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼é–¢é€£ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚æ¤œå‡ºãŒé–“é•ã£ã¦ã„ã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ãŒèª¤ã£ãŸãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã€æ“ä½œãŒå¤±æ•—ã—ã¾ã™ã€‚
:::

## ğŸ’ å§‹ã‚ã‚‹å‰ã®æº–å‚™

::: warning å‰ææ¡ä»¶ã®ç¢ºèª
ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã‚’å§‹ã‚ã‚‹å‰ã«ã€[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](../installation/)ã‚’å®Œäº†ã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒ Claude Code ã«æ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
:::

ã‚·ã‚¹ãƒ†ãƒ ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼š

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ç¢ºèª
which npm pnpm yarn bun

# ã¾ãŸã¯ Windows (PowerShell) ã®å ´åˆ
Get-Command npm, pnpm, yarn, bun -ErrorAction SilentlyContinue
```

ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ï¼š

```
/usr/local/bin/npm
/usr/local/bin/pnpm
```

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€å…ˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ã§ã™ï¼ˆã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã¯æ‰±ã„ã¾ã›ã‚“ï¼‰ã€‚

## åŸºæœ¬çš„ãªè€ƒãˆæ–¹

Everything Claude Code ã¯**ã‚¹ãƒãƒ¼ãƒˆæ¤œå‡ºãƒ¡ã‚«ãƒ‹ã‚ºãƒ **ã‚’ä½¿ç”¨ã—ã€6å±¤ã®å„ªå…ˆåº¦ã«å¾“ã£ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è‡ªå‹•é¸æŠã—ã¾ã™ã€‚æœ€é©ãªå ´æ‰€ã§ä¸€åº¦è¨­å®šã™ã‚‹ã ã‘ã§ã€ã™ã¹ã¦ã®ã‚·ãƒŠãƒªã‚ªã§æ­£ã—ãå‹•ä½œã—ã¾ã™ã€‚

### æ¤œå‡ºå„ªå…ˆåº¦ï¼ˆé«˜ã„é †ï¼‰

```
1. ç’°å¢ƒå¤‰æ•° CLAUDE_PACKAGE_MANAGER  â”€â”€â”€ æœ€é«˜å„ªå…ˆåº¦ã€ä¸€æ™‚çš„ãªä¸Šæ›¸ã
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š .claude/package-manager.json  â”€â”€â”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã®ä¸Šæ›¸ã
3. package.json ã® packageManager ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰  â”€â”€â”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨™æº–
4. Lock ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆpnpm-lock.yaml ãªã©ï¼‰  â”€â”€â”€ è‡ªå‹•æ¤œå‡º
5. ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š ~/.claude/package-manager.json  â”€â”€â”€ ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
6. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šé †ç•ªã«æœ€åˆã«åˆ©ç”¨å¯èƒ½ãªã‚‚ã®ã‚’æ¢ã™  â”€â”€â”€ æœ€çµ‚æ‰‹æ®µ
```

### ãªãœã“ã®é †åºãªã®ã‹ï¼Ÿ

- **ç’°å¢ƒå¤‰æ•°ãŒæœ€é«˜**ï¼šä¸€æ™‚çš„ãªåˆ‡ã‚Šæ›¿ãˆã«ä¾¿åˆ©ï¼ˆCI/CD ç’°å¢ƒãªã©ï¼‰
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãŒæ¬¡**ï¼šåŒä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§å¼·åˆ¶çš„ã«çµ±ä¸€
- **package.json ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**ï¼šNode.js ã®æ¨™æº–ä»•æ§˜
- **Lock ãƒ•ã‚¡ã‚¤ãƒ«**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š**ï¼šå€‹äººã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**ï¼šå¸¸ã«åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã‚’ç¢ºä¿

## å®Ÿè·µã—ã¦ã¿ã‚ˆã†

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šç¾åœ¨ã®è¨­å®šã‚’ç¢ºèª

**ãªãœ**
ã¾ãšç¾åœ¨ã®æ¤œå‡ºçŠ¶æ³ã‚’æŠŠæ¡ã—ã€æ‰‹å‹•è¨­å®šãŒå¿…è¦ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

```bash
# ç¾åœ¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ¤œå‡º
node scripts/setup-package-manager.js --detect
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼š

```
=== Package Manager Detection ===

Current selection:
  Package Manager: pnpm
  Source: lock-file

Detection results:
  From package.json: not specified
  From lock file: pnpm
  Environment var: not set

Available package managers:
  âœ“ npm
  âœ“ pnpm (current)
  âœ— yarn
  âœ“ bun

Commands:
  Install: pnpm install
  Run script: pnpm [script-name]
  Execute binary: pnpm dlx [binary-name]
```

è¡¨ç¤ºã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒæœŸå¾…é€šã‚Šã§ã‚ã‚Œã°ã€æ¤œå‡ºã¯æ­£ã—ãã€æ‰‹å‹•è¨­å®šã¯ä¸è¦ã§ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è¨­å®š

**ãªãœ**
ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’è¨­å®šã—ã€ç¹°ã‚Šè¿”ã—ã®è¨­å®šã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚

```bash
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ pnpm ã«è¨­å®š
node scripts/setup-package-manager.js --global pnpm
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼š

```
âœ“ Global preference set to: pnpm
  Saved to: ~/.claude/package-manager.json
```

ç”Ÿæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼š

```bash
cat ~/.claude/package-manager.json
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼š

```json
{
  "packageManager": "pnpm",
  "setAt": "2026-01-25T12:00:00.000Z"
}
```

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è¨­å®š

**ãªãœ**
ç‰¹å®šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆç‰¹å®šæ©Ÿèƒ½ã¸ã®ä¾å­˜ãªã©ï¼‰ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã®è¨­å®šã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚’ä¸Šæ›¸ãã—ã¾ã™ã€‚

```bash
# ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« bun ã‚’è¨­å®š
node scripts/setup-package-manager.js --project bun
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼š

```
âœ“ Project preference set to: bun
  Saved to: .claude/package-manager.json
```

ç”Ÿæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼š

```bash
cat .claude/package-manager.json
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼š

```json
{
  "packageManager": "bun",
  "setAt": "2026-01-25T12:00:00.000Z"
}
```

::: tip ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ« vs ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š**ï¼š~/.claude/package-manager.jsonã€ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å½±éŸ¿
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š**ï¼š.claude/package-manager.jsonã€ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ã«å½±éŸ¿ã€å„ªå…ˆåº¦ãŒé«˜ã„
:::

### ã‚¹ãƒ†ãƒƒãƒ— 4ï¼š/setup-pm ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**ãªãœ**
ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ‰‹å‹•ã§å®Ÿè¡Œã—ãŸããªã„å ´åˆã¯ã€Claude Code ã§ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’ç›´æ¥ä½¿ç”¨ã§ãã¾ã™ã€‚

Claude Code ã§ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š

```
/setup-pm
```

Claude Code ãŒã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‘¼ã³å‡ºã—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**ï¼ˆä¾‹ï¼‰ï¼š

```
[PackageManager] Available package managers:
  - npm
  - pnpm (current)
  - bun

To set your preferred package manager:
  - Global: Set CLAUDE_PACKAGE_MANAGER environment variable
  - Or add to ~/.claude/package-manager.json: {"packageManager": "pnpm"}
  - Or add to package.json: {"packageManager": "pnpm@8"}
```

### ã‚¹ãƒ†ãƒƒãƒ— 5ï¼šæ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¤œè¨¼

**ãªãœ**
æ¤œå‡ºå„ªå…ˆåº¦ã‚’ç†è§£ã™ã‚Œã°ã€ã•ã¾ã–ã¾ãªçŠ¶æ³ã§ã®çµæœã‚’äºˆæ¸¬ã§ãã¾ã™ã€‚

ã„ãã¤ã‹ã®ã‚·ãƒŠãƒªã‚ªã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

**ã‚·ãƒŠãƒªã‚ª 1ï¼šLock ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡º**

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚’å‰Šé™¤
rm .claude/package-manager.json

# æ¤œå‡º
node scripts/setup-package-manager.js --detect
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›** `Source: lock-file`ï¼ˆlock ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹å ´åˆï¼‰

**ã‚·ãƒŠãƒªã‚ª 2ï¼špackage.json ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**

```bash
# package.json ã«è¿½åŠ 
cat >> package.json << 'EOF'
  "packageManager": "pnpm@8.6.0"
EOF

# æ¤œå‡º
node scripts/setup-package-manager.js --detect
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›** `From package.json: pnpm@8.6.0`

**ã‚·ãƒŠãƒªã‚ª 3ï¼šç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹ä¸Šæ›¸ã**

```bash
# ç’°å¢ƒå¤‰æ•°ã‚’ä¸€æ™‚çš„ã«è¨­å®š
export CLAUDE_PACKAGE_MANAGER=yarn

# æ¤œå‡º
node scripts/setup-package-manager.js --detect
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›** `Source: environment` ã¨ `Package Manager: yarn`

```bash
# ç’°å¢ƒå¤‰æ•°ã‚’ã‚¯ãƒªã‚¢
unset CLAUDE_PACKAGE_MANAGER
```

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆãŒã™ã¹ã¦ãƒ‘ã‚¹ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

- [ ] `--detect` ã‚³ãƒãƒ³ãƒ‰ã§ç¾åœ¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒæ­£ã—ãè­˜åˆ¥ã•ã‚Œã‚‹
- [ ] ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ï¼š`~/.claude/package-manager.json`
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ï¼ˆå¿…è¦ãªå ´åˆï¼‰ï¼š`.claude/package-manager.json`
- [ ] ç•°ãªã‚‹å„ªå…ˆåº¦ã®ä¸Šæ›¸ãé–¢ä¿‚ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã™ã‚‹
- [ ] è¡¨ç¤ºã•ã‚Œã‚‹åˆ©ç”¨å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå®Ÿéš›ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ä¸€è‡´

## ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´

### âŒ ã‚¨ãƒ©ãƒ¼ 1ï¼šè¨­å®šã—ãŸã®ã«åæ˜ ã•ã‚Œãªã„

**ç—‡çŠ¶**ï¼š`pnpm` ã‚’è¨­å®šã—ãŸã®ã«ã€æ¤œå‡ºã§ã¯ `npm` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã€‚

**åŸå› **ï¼š
- Lock ãƒ•ã‚¡ã‚¤ãƒ«ã®å„ªå…ˆåº¦ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚ˆã‚Šé«˜ã„ï¼ˆlock ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
- package.json ã® `packageManager` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å„ªå…ˆåº¦ã‚‚ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚ˆã‚Šé«˜ã„

**è§£æ±ºç­–**ï¼š
```bash
# æ¤œå‡ºã‚½ãƒ¼ã‚¹ã‚’ç¢ºèª
node scripts/setup-package-manager.js --detect

# lock file ã¾ãŸã¯ package.json ã®å ´åˆã€ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
ls -la | grep -E "(package-lock|yarn.lock|pnpm-lock|bun.lockb)"
cat package.json | grep packageManager
```

### âŒ ã‚¨ãƒ©ãƒ¼ 2ï¼šå­˜åœ¨ã—ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è¨­å®š

**ç—‡çŠ¶**ï¼š`bun` ã‚’è¨­å®šã—ãŸãŒã€ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ã€‚

**æ¤œå‡ºçµæœ**ã®è¡¨ç¤ºï¼š

```
Available package managers:
  âœ“ npm
  âœ— bun (current)  â† æ³¨æ„ï¼šcurrent ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãŒã€æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

**è§£æ±ºç­–**ï¼šå…ˆã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®åˆ¥ã®ã‚‚ã®ã‚’è¨­å®šã€‚

```bash
# åˆ©ç”¨å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ¤œå‡º
node scripts/setup-package-manager.js --list

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®ã‚‚ã®ã«åˆ‡ã‚Šæ›¿ãˆ
node scripts/setup-package-manager.js --global npm
```

### âŒ ã‚¨ãƒ©ãƒ¼ 3ï¼šWindows ãƒ‘ã‚¹å•é¡Œ

**ç—‡çŠ¶**ï¼šWindows ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼ã€‚

**åŸå› **ï¼šNode.js ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‘ã‚¹åŒºåˆ‡ã‚Šæ–‡å­—ã®å•é¡Œï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯å¯¾å‡¦æ¸ˆã¿ã§ã™ãŒã€æ­£ã—ã„ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚

**è§£æ±ºç­–**ï¼šPowerShell ã¾ãŸã¯ Git Bash ã‚’ä½¿ç”¨ã—ã€ãƒ‘ã‚¹ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèªï¼š

```powershell
# PowerShell
node scripts\setup-package-manager.js --detect
```

### âŒ ã‚¨ãƒ©ãƒ¼ 4ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãŒä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å½±éŸ¿

**ç—‡çŠ¶**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ A ã§ `bun` ã‚’è¨­å®šã—ãŸãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ B ã«åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚ `bun` ãŒä½¿ç”¨ã•ã‚Œã‚‹ã€‚

**åŸå› **ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã¯ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã®ã¿æœ‰åŠ¹ã§ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨å†æ¤œå‡ºã•ã‚Œã¾ã™ã€‚

**è§£æ±ºç­–**ï¼šã“ã‚Œã¯æ­£å¸¸ãªå‹•ä½œã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã¯ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã®ã¿å½±éŸ¿ã—ã€ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“ã€‚

## ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

Everything Claude Code ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼æ¤œå‡ºãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯éå¸¸ã«ã‚¹ãƒãƒ¼ãƒˆã§ã™ï¼š

- **6å±¤ã®å„ªå…ˆåº¦**ï¼šç’°å¢ƒå¤‰æ•° > ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > package.json > lock ãƒ•ã‚¡ã‚¤ãƒ« > ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š > ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **æŸ”è»Ÿãªè¨­å®š**ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸Šæ›¸ãã‚’ã‚µãƒãƒ¼ãƒˆ
- **è‡ªå‹•æ¤œå‡º**ï¼šã»ã¨ã‚“ã©ã®å ´åˆã€æ‰‹å‹•è¨­å®šã¯ä¸è¦
- **ã‚³ãƒãƒ³ãƒ‰ã®çµ±ä¸€**ï¼šè¨­å®šå¾Œã€ã™ã¹ã¦ã® hooks ã¨ agents ãŒæ­£ã—ã„ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨

**æ¨å¥¨è¨­å®šæˆ¦ç•¥**ï¼š

1. æœ€ã‚‚ã‚ˆãä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«è¨­å®šï¼ˆä¾‹ï¼š`pnpm`ï¼‰
2. ç‰¹æ®Šãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã§ä¸Šæ›¸ãï¼ˆä¾‹ï¼š`bun` ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ä¾å­˜ã™ã‚‹å ´åˆï¼‰
3. ãã®ä»–ã®çŠ¶æ³ã¯è‡ªå‹•æ¤œå‡ºã«ä»»ã›ã‚‹

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³äºˆå‘Š

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[MCP ã‚µãƒ¼ãƒãƒ¼è¨­å®š](../mcp-setup/)** ã‚’å­¦ã³ã¾ã™ã€‚
>
> å­¦ã¹ã‚‹ã“ã¨ï¼š
> - 15ä»¥ä¸Šã®ãƒ—ãƒªã‚»ãƒƒãƒˆ MCP ã‚µãƒ¼ãƒãƒ¼ã®è¨­å®šæ–¹æ³•
> - MCP ã‚µãƒ¼ãƒãƒ¼ãŒ Claude Code ã®æ©Ÿèƒ½ã‚’ã©ã®ã‚ˆã†ã«æ‹¡å¼µã™ã‚‹ã‹
> - MCP ã‚µãƒ¼ãƒãƒ¼ã®æœ‰åŠ¹åŒ–çŠ¶æ…‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã®ç®¡ç†æ–¹æ³•

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥ï¼š2026-01-25

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
| --- | --- | --- |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼æ¤œå‡ºã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L157-L236) | 157-236 |
| Lock ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡º | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L92-L102) | 92-102 |
| package.json æ¤œå‡º | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L107-L126) | 107-126 |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼å®šç¾©ï¼ˆè¨­å®šï¼‰ | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L13-L54) | 13-54 |
| æ¤œå‡ºå„ªå…ˆåº¦å®šç¾© | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L57) | 57 |
| ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šä¿å­˜ | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L241-L252) | 241-252 |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šä¿å­˜ | [`scripts/lib/package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/lib/package-manager.js#L257-L272) | 257-272 |
| ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ãƒ³ãƒˆãƒª | [`scripts/setup-package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/setup-package-manager.js#L158-L206) | 158-206 |
| æ¤œå‡ºã‚³ãƒãƒ³ãƒ‰å®Ÿè£… | [`scripts/setup-package-manager.js`](https://github.com/affaan-m/everything-claude-code/blob/main/scripts/setup-package-manager.js#L62-L95) | 62-95 |

**ä¸»è¦ãªå®šæ•°**ï¼š
- `PACKAGE_MANAGERS`ï¼šã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¨ãã®ã‚³ãƒãƒ³ãƒ‰è¨­å®šï¼ˆ13-54è¡Œç›®ï¼‰
- `DETECTION_PRIORITY`ï¼šæ¤œå‡ºå„ªå…ˆåº¦é †åº `['pnpm', 'bun', 'yarn', 'npm']`ï¼ˆ57è¡Œç›®ï¼‰

**ä¸»è¦ãªé–¢æ•°**ï¼š
- `getPackageManager()`ï¼šã‚³ã‚¢æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã€å„ªå…ˆåº¦ã«å¾“ã£ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’è¿”ã™ï¼ˆ157-236è¡Œç›®ï¼‰
- `detectFromLockFile()`ï¼šlock ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ¤œå‡ºï¼ˆ92-102è¡Œç›®ï¼‰
- `detectFromPackageJson()`ï¼špackage.json ã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’æ¤œå‡ºï¼ˆ107-126è¡Œç›®ï¼‰
- `setPreferredPackageManager()`ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚’ä¿å­˜ï¼ˆ241-252è¡Œç›®ï¼‰
- `setProjectPackageManager()`ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚’ä¿å­˜ï¼ˆ257-272è¡Œç›®ï¼‰

**æ¤œå‡ºå„ªå…ˆåº¦ã®å®Ÿè£…**ï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ 157-236è¡Œç›®ï¼‰ï¼š
```javascript
function getPackageManager(options = {}) {
  // 1. ç’°å¢ƒå¤‰æ•°ï¼ˆæœ€é«˜å„ªå…ˆåº¦ï¼‰
  if (envPm && PACKAGE_MANAGERS[envPm]) { return { name: envPm, source: 'environment' }; }

  // 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
  if (projectConfig) { return { name: config.packageManager, source: 'project-config' }; }

  // 3. package.json ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  if (fromPackageJson) { return { name: fromPackageJson, source: 'package.json' }; }

  // 4. Lock ãƒ•ã‚¡ã‚¤ãƒ«
  if (fromLockFile) { return { name: fromLockFile, source: 'lock-file' }; }

  // 5. ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
  if (globalConfig) { return { name: globalConfig.packageManager, source: 'global-config' }; }

  // 6. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šå„ªå…ˆåº¦é †ã«æœ€åˆã«åˆ©ç”¨å¯èƒ½ãªã‚‚ã®ã‚’æ¢ã™
  for (const pmName of fallbackOrder) {
    if (available.includes(pmName)) { return { name: pmName, source: 'fallback' }; }
  }

  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ npm
  return { name: 'npm', source: 'default' };
}
```

</details>
