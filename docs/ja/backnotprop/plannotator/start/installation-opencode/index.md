---
title: "OpenCode: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« | Plannotator"
sidebarTitle: "ã™ãã«ä½¿ãˆã‚‹"
subtitle: "OpenCodeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
description: "OpenCodeã§Plannotatorãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚opencode.jsonã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—ã€ç’°å¢ƒå¤‰æ•°ã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã«å¯¾å¿œã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å‹•ä½œç¢ºèªã¾ã§è§£èª¬ã—ã¾ã™ã€‚"
tags:
  - "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
  - "è¨­å®š"
  - "OpenCode"
prerequisite:
  - "start-getting-started"
order: 3
---

# OpenCodeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## ã“ã®ç« ã§å­¦ã¹ã‚‹ã“ã¨

- OpenCodeã§Plannotatorãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
- `submit_plan`ãƒ„ãƒ¼ãƒ«ã¨`/plannotator-review`ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã™ã‚‹
- ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã€ãƒãƒ¼ãƒˆã€ãƒ–ãƒ©ã‚¦ã‚¶ãªã©ï¼‰
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒæˆåŠŸã—ãŸã‹ç¢ºèªã™ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

OpenCodeã§AI Agentã‚’ä½¿ç”¨ã™ã‚‹éš›ã€ãƒ—ãƒ©ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’èª­ã‚€å¿…è¦ãŒã‚ã‚Šã€æ­£ç¢ºãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå›°é›£ã§ã™ã€‚ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãŸã‚Šã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸã‚Šã§ãã‚‹ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ¬²ã—ã„ã€‚ãã—ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ§‹é€ åŒ–ã—ã¦Agentã«è‡ªå‹•é€ä¿¡ã—ãŸã„ã€‚

## ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒå½¹ç«‹ã¤å ´é¢

**Plannotatorã‚’ä½¿ã„å§‹ã‚ã‚‹å‰ã®å¿…é ˆã‚¹ãƒ†ãƒƒãƒ—**ï¼šOpenCodeç’°å¢ƒã§é–‹ç™ºã—ã¦ãŠã‚Šã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ©ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ä½“é¨“ã‚’æ±‚ã‚ã¦ã„ã‚‹å ´åˆã€‚

## ğŸ’ å§‹ã‚ã‚‹å‰ã®æº–å‚™

- [ ] [OpenCode](https://opencode.ai/)ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [ ] åŸºæœ¬çš„ãª`opencode.json`è¨­å®šï¼ˆOpenCodeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼‰ã‚’ç†è§£ã—ã¦ã„ã‚‹

::: warning å‰æçŸ¥è­˜
OpenCodeã®åŸºæœ¬æ“ä½œã‚’ã¾ã ç†è§£ã—ã¦ã„ãªã„å ´åˆã¯ã€å…ˆã«[OpenCodeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://opencode.ai/docs)ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
:::

## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

Plannotatorã¯OpenCodeã«2ã¤ã®ã‚³ã‚¢æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

1. **`submit_plan`ãƒ„ãƒ¼ãƒ«** - AgentãŒãƒ—ãƒ©ãƒ³ã‚’å®Œäº†ã—ãŸéš›ã«å‘¼ã³å‡ºã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é–‹ã
2. **`/plannotator-review`ã‚³ãƒãƒ³ãƒ‰** - æ‰‹å‹•ã§Git diffã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãƒˆãƒªã‚¬ãƒ¼

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯2ã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†ã‹ã‚Œã¾ã™ï¼š
1. `opencode.json`ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã‚’è¿½åŠ ï¼ˆ`submit_plan`ãƒ„ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ–ï¼‰
2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œï¼ˆ`/plannotator-review`ã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—ï¼‰

## ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šopencode.jsonã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

OpenCodeã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé€šå¸¸ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Šã¾ã™ï¼‰ã‚’è¦‹ã¤ã‘ã€`plugin`é…åˆ—ã«Plannotatorã‚’è¿½åŠ ã—ã¾ã™ï¼š

```json
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["@plannotator/opencode@latest"]
}
```

**ç†ç”±**
`opencode.json`ã¯OpenCodeã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã‚’è¿½åŠ ã™ã‚‹ã¨ã€OpenCodeãŒè‡ªå‹•çš„ã«npmãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦èª­ã¿è¾¼ã¿ã¾ã™ã€‚

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šOpenCodeèµ·å‹•æ™‚ã«ã€ŒLoading plugin: @plannotator/opencode...ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šOpenCodeã‚’å†èµ·å‹•

**ç†ç”±**
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã®å¤‰æ›´å¾Œã¯ã€å†èµ·å‹•ã—ãªã„ã¨åæ˜ ã•ã‚Œã¾ã›ã‚“ã€‚

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šOpenCodeãŒã™ã¹ã¦ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å†èª­ã¿è¾¼ã¿ã—ã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—

::: code-group

```bash [macOS / Linux / WSL]
curl -fsSL https://plannotator.ai/install.sh | bash
```

```powershell [Windows PowerShell]
irm https://plannotator.ai/install.ps1 | iex
```

:::

**ç†ç”±**
ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
1. `plannotator` CLIãƒ„ãƒ¼ãƒ«ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. `/plannotator-review`ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’OpenCodeã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆä¾‹ï¼šã€ŒPlannotator installed successfully!ã€ï¼‰ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèª

OpenCodeã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ï¼š

**`submit_plan`ãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª**ï¼š
- ä¼šè©±ã§Agentã«ã€Œsubmit_planã‚’ä½¿ã£ã¦ãƒ—ãƒ©ãƒ³ã‚’æå‡ºã—ã¦ãã ã•ã„ã€ã¨ä¾é ¼
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã§ã‚ã‚Œã°ã€Agentã¯ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’èªè­˜ã—ã¦å‘¼ã³å‡ºã›ã‚‹ã¯ãš

**`/plannotator-review`ã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª**ï¼š
- å…¥åŠ›æ¬„ã«`/plannotator-review`ã¨å…¥åŠ›
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã§ã‚ã‚Œã°ã€ã‚³ãƒãƒ³ãƒ‰å€™è£œãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šä¸¡æ–¹ã®æ©Ÿèƒ½ãŒã‚¨ãƒ©ãƒ¼ãªãæ­£å¸¸ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Plannotatorã¯ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦è¨­å®šã—ã¦ãã ã•ã„ï¼š

::: details ç’°å¢ƒå¤‰æ•°ã®èª¬æ˜

| ç’°å¢ƒå¤‰æ•° | ç”¨é€” | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | ä¾‹ |
|--- | --- | --- | ---|
| `PLANNOTATOR_REMOTE` | ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ï¼ˆdevcontainer/SSHï¼‰ | æœªè¨­å®š | `export PLANNOTATOR_REMOTE=1` |
| `PLANNOTATOR_PORT` | å›ºå®šãƒãƒ¼ãƒˆï¼ˆãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã§ã¯å¿…é ˆï¼‰ | ãƒ­ãƒ¼ã‚«ãƒ«ã¯ãƒ©ãƒ³ãƒ€ãƒ ã€ãƒªãƒ¢ãƒ¼ãƒˆã¯19432 | `export PLANNOTATOR_PORT=9999` |
| `PLANNOTATOR_BROWSER` | ã‚«ã‚¹ã‚¿ãƒ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ‘ã‚¹ | ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | `export PLANNOTATOR_BROWSER="/Applications/Google Chrome.app"` |
| `PLANNOTATOR_SHARE` | URLå…±æœ‰ã‚’ç„¡åŠ¹åŒ– | æœ‰åŠ¹ | `export PLANNOTATOR_SHARE=disabled` |

:::

**ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰è¨­å®šä¾‹**ï¼ˆdevcontainer/SSHï¼‰ï¼š

`.devcontainer/devcontainer.json`ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "containerEnv": {
    "PLANNOTATOR_REMOTE": "1",
    "PLANNOTATOR_PORT": "9999"
  },
  "forwardPorts": [9999]
}
```

**ç†ç”±**
- ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ï¼šã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒªãƒ¢ãƒ¼ãƒˆãƒã‚·ãƒ³ã§OpenCodeã‚’å®Ÿè¡Œã™ã‚‹éš›ã€å›ºå®šãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’è‡ªå‹•çš„ã«é–‹ã
- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼šãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ã™ã‚‹

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šAgentãŒ`submit_plan`ã‚’å‘¼ã³å‡ºã™ã¨ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚µãƒ¼ãƒãƒ¼URLãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«é–‹ãä»£ã‚ã‚Šã«ï¼‰ï¼š
```
Plannotator server running at http://localhost:9999
```

---

### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šOpenCodeã‚’å†èµ·å‹•ï¼ˆç’°å¢ƒå¤‰æ•°ã‚’å¤‰æ›´ã—ãŸå ´åˆï¼‰

ã‚¹ãƒ†ãƒƒãƒ—5ã§ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ãŸå ´åˆã¯ã€å†åº¦OpenCodeã‚’å†èµ·å‹•ã—ã¦è¨­å®šã‚’åæ˜ ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†å¾Œã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- [ ] `opencode.json`ã«`@plannotator/opencode@latest`ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [ ] OpenCodeå†èµ·å‹•å¾Œã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [ ] `/plannotator-review`ã¨å…¥åŠ›ã™ã‚‹ã¨ã‚³ãƒãƒ³ãƒ‰å€™è£œãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹

## ã‚ˆãã‚ã‚‹ãƒˆãƒ©ãƒ–ãƒ«ã¨è§£æ±ºç­–

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼1ï¼šãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—

**ç—‡çŠ¶**ï¼šOpenCodeèµ·å‹•æ™‚ã«ã€ŒFailed to load plugin @plannotator/opencodeã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹

**è€ƒãˆã‚‰ã‚Œã‚‹åŸå› **ï¼š
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œã§npmã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ããªã„
- npmã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç ´æã—ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**ï¼š
1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª
2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
3. npmã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ‰‹å‹•ã§ã‚¯ãƒªã‚¢ï¼š`npm cache clean --force`

---

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼2ï¼šã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨ã§ããªã„

**ç—‡çŠ¶**ï¼š`/plannotator-review`ã¨å…¥åŠ›ã—ã¦ã‚‚ã‚³ãƒãƒ³ãƒ‰å€™è£œãŒè¡¨ç¤ºã•ã‚Œãªã„

**è€ƒãˆã‚‰ã‚Œã‚‹åŸå› **ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œï¼ˆã‚¹ãƒ†ãƒƒãƒ—3ï¼‰

---

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼3ï¼šãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã‹ãªã„

**ç—‡çŠ¶**ï¼šdevcontainerã§`submit_plan`ã‚’å‘¼ã³å‡ºã—ã¦ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã‹ãªã„

**è€ƒãˆã‚‰ã‚Œã‚‹åŸå› **ï¼š
- `PLANNOTATOR_REMOTE=1`ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„
- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
1. `PLANNOTATOR_REMOTE=1`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
2. `.devcontainer/devcontainer.json`ã®`forwardPorts`ã«è¨­å®šã—ãŸãƒãƒ¼ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. è¡¨ç¤ºã•ã‚ŒãŸURLã«æ‰‹å‹•ã§ã‚¢ã‚¯ã‚»ã‚¹ï¼š`http://localhost:9999`

---

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼4ï¼šãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­

**ç—‡çŠ¶**ï¼šã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã«å¤±æ•—ã—ã€ã€ŒPort already in useã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹

**è€ƒãˆã‚‰ã‚Œã‚‹åŸå› **ï¼šä»¥å‰ã®ã‚µãƒ¼ãƒãƒ¼ãŒæ­£ã—ãçµ‚äº†ã—ã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š
1. `PLANNOTATOR_PORT`ã‚’åˆ¥ã®ãƒãƒ¼ãƒˆã«å¤‰æ›´
2. ã¾ãŸã¯ã€ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ‰‹å‹•ã§çµ‚äº†ï¼ˆmacOS/Linux: `lsof -ti:9999 | xargs kill`ï¼‰

---

## ã“ã®ç« ã®ã¾ã¨ã‚

ã“ã®ç« ã§ã¯ã€OpenCodeã§Plannotatorãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦è¨­å®šã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸï¼š

1. **`opencode.json`ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ** - `submit_plan`ãƒ„ãƒ¼ãƒ«ã‚’æœ‰åŠ¹åŒ–
2. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ** - `/plannotator-review`ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã‚’å–å¾—
3. **ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š** - ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚„ã‚«ã‚¹ã‚¿ãƒ è¦ä»¶ã«å¯¾å¿œ
4. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ç¢ºèª** - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†å¾Œã€ä»¥ä¸‹ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼š
- Agentã«`submit_plan`ã‚’ä½¿ã£ã¦ãƒ—ãƒ©ãƒ³ã‚’æå‡ºã•ã›ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œ
- `/plannotator-review`ã‚’ä½¿ã£ã¦æ‰‹å‹•ã§Git diffã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼

## æ¬¡ã®ç« ã®äºˆå‘Š

> æ¬¡ã®ç« ã§ã¯**[ãƒ—ãƒ©ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®åŸºæœ¬](../../platforms/plan-review-basics/)**ã‚’å­¦ã³ã¾ã™ã€‚
>
> å­¦ã¹ã‚‹å†…å®¹ï¼š
> - AIãŒç”Ÿæˆã—ãŸãƒ—ãƒ©ãƒ³ã®ç¢ºèªæ–¹æ³•
> - æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå‰Šé™¤ã€ç½®æ›ã€æŒ¿å…¥ã€ã‚³ãƒ¡ãƒ³ãƒˆï¼‰ã®è¿½åŠ 
> - ãƒ—ãƒ©ãƒ³ã®æ‰¿èªã¾ãŸã¯å´ä¸‹

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥ï¼š2026-01-24

| æ©Ÿèƒ½                    | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                                                      | è¡Œç•ªå·       |
|--- | --- | ---|
| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªå®šç¾©               | [`apps/opencode-plugin/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/opencode-plugin/index.ts) | 34-280     |
| `submit_plan`ãƒ„ãƒ¼ãƒ«å®šç¾© | [`apps/opencode-plugin/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/opencode-plugin/index.ts) | 209-252    |
|--- | --- | ---|
| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šï¼ˆopencode.jsonï¼‰æ³¨å…¥ | [`apps/opencode-plugin/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/opencode-plugin/index.ts) | 55-63      |
| ç’°å¢ƒå¤‰æ•°ã®èª­ã¿å–ã‚Š               | [`apps/opencode-plugin/index.ts`](https://github.com/backnotprop/plannotator/blob/main/apps/opencode-plugin/index.ts) | 37-51      |
| ãƒ—ãƒ©ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒ¼ãƒãƒ¼èµ·å‹•            | [`packages/server/index.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/index.ts) | å…¨æ–‡        |
| ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒ¼ãƒãƒ¼èµ·å‹•            | [`packages/server/review.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/review.ts) | å…¨æ–‡        |
| ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰æ¤œå‡º               | [`packages/server/remote.ts`](https://github.com/backnotprop/plannotator/blob/main/packages/server/remote.ts) | å…¨æ–‡        |

**ä¸»è¦ãªå®šæ•°**ï¼š
- `PLANNOTATOR_REMOTE`: ãƒªãƒ¢ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ•ãƒ©ã‚°ï¼ˆã€Œ1ã€ã¾ãŸã¯ã€Œtrueã€ã§æœ‰åŠ¹åŒ–ï¼‰
- `PLANNOTATOR_PORT`: å›ºå®šãƒãƒ¼ãƒˆç•ªå·ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ©ãƒ³ãƒ€ãƒ ã€ãƒªãƒ¢ãƒ¼ãƒˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§19432ï¼‰

**ä¸»è¦ãªé–¢æ•°**ï¼š
- `startPlannotatorServer()`: ãƒ—ãƒ©ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
- `startReviewServer()`: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
- `getSharingEnabled()`: URLå…±æœ‰ã‚¹ã‚¤ãƒƒãƒã®çŠ¶æ…‹ã‚’å–å¾—ï¼ˆOpenCodeè¨­å®šã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ï¼‰

</details>
