---
title: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ : OAuthã¨Refresh Tokenã®ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒãƒ£ãƒ³ãƒãƒ« | Antigravity Tools"
sidebarTitle: "Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ "
subtitle: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ï¼šOAuth/Refresh Tokenãƒ‡ãƒ¥ã‚¢ãƒ«ãƒãƒ£ãƒ³ãƒãƒ«ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹"
description: "Antigravity Toolsã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ 2ã¤ã®æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚OAuthãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯èªè¨¼ã¾ãŸã¯Refresh Tokenæ‰‹å‹•è¿½åŠ ã€ä¸€æ‹¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å¤±æ•—å¯¾å¿œã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«æ¤œè¨¼ã‚’ã‚µãƒãƒ¼ãƒˆã€‚"
tags:
  - "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†"
  - "OAuth"
  - "refresh_token"
  - "Google"
  - "ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹"
prerequisite:
  - "start-getting-started"
duration: 15
order: 4
---

# ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ï¼šOAuth/Refresh Token ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒãƒ£ãƒ³ãƒãƒ«ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

Antigravity Tools ã§ã¯ã€ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ã€ã¯ Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® `refresh_token` ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«ã«æ›¸ãè¾¼ã¿ã€å¾Œç¶šã®ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚OAuth ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯èªè¨¼ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€`refresh_token` ã‚’ç›´æ¥è²¼ã‚Šä»˜ã‘ã¦æ‰‹å‹•è¿½åŠ ã§ãã¾ã™ã€‚

## å­¦ç¿’å¾Œã«ã§ãã‚‹ã“ã¨

- OAuth ã¾ãŸã¯ Refresh Token ã‚’ä½¿ç”¨ã—ã¦ã€Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ Antigravity Tools ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«ã«è¿½åŠ ã™ã‚‹
- èªè¨¼ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼/æ‰‹å‹•ã§é–‹ãã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆåŠŸå¾Œã«è‡ªå‹•çš„ã«è¿½åŠ ã‚’å®Œäº†ã™ã‚‹
- `refresh_token` ã®å–å¾—ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒ `localhost` ã«æ¥ç¶šã§ããªã„ãªã©ã®å•é¡Œã«é­é‡ã—ãŸå ´åˆã®å¯¾å‡¦æ–¹æ³•ã‚’çŸ¥ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

- ã€ŒOAuthèªè¨¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ãšã£ã¨èª­ã¿è¾¼ã¿ä¸­ã®ã¾ã¾ã€ã¾ãŸã¯ãƒ–ãƒ©ã‚¦ã‚¶ãŒ `localhost refused to connect` ã¨è¡¨ç¤ºã•ã‚Œã‚‹
- èªè¨¼ã¯æˆåŠŸã—ãŸãŒã€ã€ŒRefresh TokenãŒå–å¾—ã§ãã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹
- æ‰‹å…ƒã« `refresh_token` ã—ã‹ãªãã€ä¸€åº¦ã«ä¸€æ‹¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„

## ã„ã¤ã“ã®æ–¹æ³•ã‚’ä½¿ç”¨ã™ã‚‹ã‹

- æœ€ã‚‚å®‰å®šã—ãŸæ–¹æ³•ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸã„å ´åˆï¼ˆOAuthå„ªå…ˆï¼‰
- ç§»è¡Œ/ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é‡è¦–ã—ãŸã„å ´åˆï¼ˆRefresh Tokenã¯ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«è³‡ç”£ã€ã«é©ã—ã¦ã„ã‚‹ï¼‰
- å¤šãã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ã€`refresh_token` ã‚’ä¸€æ‹¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸã„å ´åˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆ/JSONã‹ã‚‰ã®æŠ½å‡ºã‚’ã‚µãƒãƒ¼ãƒˆï¼‰

## ğŸ’ é–‹å§‹å‰ã®æº–å‚™

- Antigravity Tools ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€é–‹ãã“ã¨ãŒã§ãã‚‹
- å…¥å£ã‚’çŸ¥ã£ã¦ã„ã‚‹ï¼šå·¦å´ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰ `Accounts` ãƒšãƒ¼ã‚¸ã«å…¥ã‚‹ï¼ˆãƒ«ãƒ¼ãƒˆã¯ `source/lbjlaq/Antigravity-Manager/src/App.tsx`ï¼‰

::: info ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®2ã¤ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
**OAuth**ï¼šã€Œãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦èªè¨¼ã€ã™ã‚‹ãƒ•ãƒ­ãƒ¼ã€‚Antigravity Tools ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ä¸€æ™‚çš„ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èµ·å‹•ã—ï¼ˆ`http://localhost/127.0.0.1/[::1]:<port>/oauth-callback`ã€ã‚·ã‚¹ãƒ†ãƒ ã® IPv4/IPv6 ç›£è¦–çŠ¶æ³ã«å¿œã˜ã¦è‡ªå‹•é¸æŠï¼‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒ `code` ã‚’æŒã£ã¦æˆ»ã£ã¦ããŸå¾Œã«ãƒˆãƒ¼ã‚¯ãƒ³ã¨äº¤æ›ã—ã¾ã™ã€‚ï¼ˆå®Ÿè£…ã¯ `source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs`ï¼‰

**refresh_token**ï¼šã€Œaccess_token ã‚’é•·æœŸé–“æ›´æ–°ã§ãã‚‹èªè¨¼æƒ…å ±ã€ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã€ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦æœ€åˆã« access_token ã‚’å–å¾—ã—ã€Google ã‹ã‚‰å®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§å…¥åŠ›ã—ãŸ email ã‚’ç„¡è¦–ã—ã¾ã™ã€‚ï¼ˆå®Ÿè£…ã¯ `source/lbjlaq/Antigravity-Manager/src-tauri/src/commands/mod.rs`ï¼‰
:::

## ã‚³ã‚¢ã‚¢ã‚¤ãƒ‡ã‚¢

Antigravity Tools ã®ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ã€ã¯ã€æœ€çµ‚çš„ã«ä½¿ç”¨å¯èƒ½ãª `refresh_token` ã‚’å–å¾—ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«ã«æ›¸ãè¾¼ã‚€ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

- **OAuth ãƒãƒ£ãƒ³ãƒãƒ«**ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèªè¨¼ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç›£è¦–ã—ã¾ã™ã€‚èªè¨¼å®Œäº†å¾Œã€è‡ªå‹•çš„ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’äº¤æ›ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä¿å­˜ã—ã¾ã™ï¼ˆ`prepare_oauth_url`ã€`start_oauth_login`ã€`complete_oauth_login` ã‚’å‚ç…§ï¼‰
- **Refresh Token ãƒãƒ£ãƒ³ãƒãƒ«**ï¼š`refresh_token` ã‚’ç›´æ¥è²¼ã‚Šä»˜ã‘ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãã‚Œã‚’ä½¿ç”¨ã—ã¦ access_token ã‚’æ›´æ–°ã—ã€Google ã‹ã‚‰å®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ã¦ä¿å­˜ã—ã¾ã™ï¼ˆ`add_account` ã‚’å‚ç…§ï¼‰

## æ‰‹é †ã«å¾“ã£ã¦é€²ã‚ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã

**ãªãœ**
ã™ã¹ã¦ã®è¿½åŠ å…¥å£ã¯ `Accounts` ãƒšãƒ¼ã‚¸ã§çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™ã€‚

æ“ä½œï¼š`Accounts` ãƒšãƒ¼ã‚¸ã«å…¥ã‚Šã€å³å´ã® **Add Account** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼š`AddAccountDialog`ï¼‰ã€‚

**æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™**ï¼š3ã¤ã®ã‚¿ãƒ–ãƒšãƒ¼ã‚¸ã‚’å«ã‚€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š`OAuth` / `Refresh Token` / `Import`ï¼ˆ`source/lbjlaq/Antigravity-Manager/src/components/accounts/AddAccountDialog.tsx` ã‚’å‚ç…§ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šå„ªå…ˆã—ã¦ OAuth ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯èªè¨¼ã‚’ä½¿ç”¨ã™ã‚‹ï¼ˆæ¨å¥¨ï¼‰

**ãªãœ**
ã“ã‚ŒãŒè£½å“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨å¥¨ãƒ‘ã‚¹ã§ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèªè¨¼ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ã‚¦ã‚¶ã‚’è‡ªå‹•çš„ã«é–‹ãã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæˆ»ã£ã¦ããŸã‚‰è‡ªå‹•çš„ã«ä¿å­˜ã‚’å®Œäº†ã—ã¾ã™ã€‚

1. `OAuth` ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚
2. æœ€åˆã«èªè¨¼ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒé–‹ãã¨ã€è‡ªå‹•çš„ã« `prepare_oauth_url` ã‚’å‘¼ã³å‡ºã—ã¦ URL ã‚’äº‹å‰ç”Ÿæˆã—ã¾ã™ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‘¼ã³å‡ºã—ã¯ `AddAccountDialog.tsx:111-125`ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”Ÿæˆã¨ç›£è¦–ã¯ `oauth_server.rs`ï¼‰ã€‚
3. **Start OAuth** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ `startOAuthLogin()` / ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ `start_oauth_login` ã«å¯¾å¿œï¼‰ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã‹ã›ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å¾…æ©Ÿã•ã›ã¾ã™ã€‚

**æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™**ï¼š
- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ã‚³ãƒ”ãƒ¼å¯èƒ½ãªèªè¨¼ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆåï¼š`oauth-url-generated`ï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶ãŒ Google èªè¨¼ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™ã€‚èªè¨¼å¾Œã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã€ã€ŒAuthorization Successful!ã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆ`oauth_success_html()`ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šOAuth ãŒè‡ªå‹•çš„ã«å®Œäº†ã—ãªã„å ´åˆã€ã€ŒOAuth å®Œäº†ã€ã§æ‰‹å‹•ã§çµ‚äº†ã™ã‚‹

**ãªãœ**
OAuth ãƒ•ãƒ­ãƒ¼ã¯2ã¤ã®ãƒ‘ãƒ¼ãƒˆã«åˆ†ã‹ã‚Œã¾ã™ï¼šãƒ–ãƒ©ã‚¦ã‚¶èªè¨¼ã§ `code` ã‚’å–å¾—ã—ã€ãã®å¾Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒ `code` ã§ãƒˆãƒ¼ã‚¯ãƒ³ã¨äº¤æ›ã—ã¾ã™ã€‚ã€ŒStart OAuthã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãªãã¦ã‚‚ã€èªè¨¼ãƒªãƒ³ã‚¯ã‚’æ‰‹å‹•ã§é–‹ã„ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Œäº†ã™ã‚Œã°ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã¯è‡ªå‹•çš„ã«çµ‚äº†ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚çµ‚äº†ã«å¤±æ•—ã—ãŸå ´åˆã€æ‰‹å‹•ã§ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã§ãã¾ã™ã€‚

1. ã€Œãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è‡ªåˆ†ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã€å ´åˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ãªã„ï¼‰ã€èªè¨¼ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæˆ»ã£ã¦ãã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ `oauth-callback-received` ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚Šã€è‡ªå‹•çš„ã« `completeOAuthLogin()` ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼ˆ`source/lbjlaq/Antigravity-Manager/src/components/accounts/AddAccountDialog.tsx:67-109` ã‚’å‚ç…§ï¼‰ã€‚
2. è‡ªå‹•å®Œäº†ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å†…ã® **Finish OAuth** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ `complete_oauth_login` ã«å¯¾å¿œï¼‰ã€‚

**æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™**ï¼šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒæˆåŠŸã‚’é€šçŸ¥ã—ã€è‡ªå‹•çš„ã«é–‰ã˜ã¾ã™ã€‚`Accounts` ãƒªã‚¹ãƒˆã«æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

::: tip å°æŠ€ï¼šã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæ¥ç¶šã§ããªã„å ´åˆã¯ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼å„ªå…ˆ
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯å¯èƒ½ãªé™ã‚ŠåŒæ™‚ã« IPv6 `::1` ã¨ IPv4 `127.0.0.1` ã‚’ç›£è¦–ã—ã€ç›£è¦–çŠ¶æ³ã«å¿œã˜ã¦ `localhost/127.0.0.1/[::1]` ã‚’ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ã—ã¦é¸æŠã—ã¾ã™ã€‚ã“ã‚Œã¯ä¸»ã«ã€Œãƒ–ãƒ©ã‚¦ã‚¶ãŒ localhost ã‚’ IPv6 ã«è§£é‡ˆã™ã‚‹ã€ã“ã¨ã«ã‚ˆã‚‹æ¥ç¶šå¤±æ•—ã‚’å›é¿ã™ã‚‹ãŸã‚ã§ã™ã€‚ï¼ˆ`source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs:53-113` ã‚’å‚ç…§ï¼‰
:::

### ã‚¹ãƒ†ãƒƒãƒ— 4ï¼šRefresh Token ã§æ‰‹å‹•è¿½åŠ ï¼ˆä¸€æ‹¬å¯¾å¿œï¼‰

**ãªãœ**
`refresh_token` ãŒå–å¾—ã§ããªã„å ´åˆï¼ˆã¾ãŸã¯ã€Œç§»è¡Œå¯èƒ½è³‡ç”£ã€ã‚’é‡è¦–ã™ã‚‹å ´åˆï¼‰ã€Refresh Token ã§ç›´æ¥è¿½åŠ ã™ã‚‹æ–¹ãŒåˆ¶å¾¡ã—ã‚„ã™ã„ã§ã™ã€‚

1. `Refresh Token` ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚
2. `refresh_token` ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹å…¥åŠ›å½¢å¼ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒè§£æã—ã¦ä¸€æ‹¬è¿½åŠ ï¼‰ï¼š

| å…¥åŠ›ã‚¿ã‚¤ãƒ— | ä¾‹ | è§£æãƒ­ã‚¸ãƒƒã‚¯ |
| --- | --- | --- |
| ç´”ç²‹ãªãƒˆãƒ¼ã‚¯ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | `1//abc...` | æ­£è¦è¡¨ç¾æŠ½å‡ºï¼š`/1\/\/[a-zA-Z0-9_\-]+/g`ï¼ˆ`AddAccountDialog.tsx:213-220` ã‚’å‚ç…§ï¼‰ |
| å¤§ããªãƒ†ã‚­ã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ | ãƒ­ã‚°/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ†ã‚­ã‚¹ãƒˆã«è¤‡æ•°ã® `1//...` ãŒå«ã¾ã‚Œã‚‹ | æ­£è¦è¡¨ç¾ä¸€æ‹¬æŠ½å‡ºã¨é‡è¤‡æ’é™¤ï¼ˆ`AddAccountDialog.tsx:213-224` ã‚’å‚ç…§ï¼‰ |
| JSON é…åˆ— | `[{"refresh_token":"1//..."}]` | é…åˆ—ã‚’è§£æã—ã¦ `item.refresh_token` ã‚’å–å¾—ï¼ˆ`AddAccountDialog.tsx:198-207` ã‚’å‚ç…§ï¼‰ |

**Confirm** ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã¯ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã«å¿œã˜ã¦å€‹åˆ¥ã« `onAdd("", token)` ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼ˆ`AddAccountDialog.tsx:231-248` ã‚’å‚ç…§ï¼‰ã€æœ€çµ‚çš„ã«ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ `add_account` ã«åˆ°é”ã—ã¾ã™ã€‚

**æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™**ï¼š
- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒä¸€æ‹¬é€²è¡ŒçŠ¶æ³ã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆä¾‹ï¼š`1/5`ï¼‰
- æˆåŠŸå¾Œã€`Accounts` ãƒªã‚¹ãƒˆã«æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™

### ã‚¹ãƒ†ãƒƒãƒ— 5ï¼šã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«ãŒä½¿ç”¨å¯èƒ½ã€ã‚’ç¢ºèªã™ã‚‹

**ãªãœ**
è¿½åŠ æˆåŠŸã¯ã€Œã™ãã«å®‰å®šã—ã¦ä½¿ç”¨ã§ãã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯è¿½åŠ å¾Œã«è‡ªå‹•çš„ã«ã€Œã‚¯ã‚©ãƒ¼ã‚¿æ›´æ–°ã€ã‚’1å›ãƒˆãƒªã‚¬ãƒ¼ã—ã€Proxy ãŒå®Ÿè¡Œä¸­ã«ãƒˆãƒ¼ã‚¯ãƒ³ãƒ—ãƒ¼ãƒ«ã®ãƒªãƒ­ãƒ¼ãƒ‰ã‚’è©¦ã¿ã€å¤‰æ›´ã‚’å³åº§ã«æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

æ¬¡ã® 2 ã¤ã®ã‚·ã‚°ãƒŠãƒ«ã§ç¢ºèªã§ãã¾ã™ï¼š

1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒãƒªã‚¹ãƒˆã«è¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ `get_user_info` ã‹ã‚‰å–å¾—ã€å…¥åŠ›ã—ãŸ email ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¯ã‚©ãƒ¼ã‚¿/ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æƒ…å ±ã®æ›´æ–°ãŒé–‹å§‹ã•ã‚Œã¾ã™ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯è‡ªå‹•çš„ã« `internal_refresh_account_quota` ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼‰ã€‚

**æ¬¡ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™**ï¼šè¿½åŠ å¾Œã€æ‰‹å‹•ã§æ›´æ–°ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚¯ã‚©ãƒ¼ã‚¿æƒ…å ±ã‚’è¡¨ç¤ºã—å§‹ã‚ã¾ã™ï¼ˆæˆåŠŸã‹ã©ã†ã‹ã¯å®Ÿéš›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¡¨ç¤ºã«åŸºã¥ãã¾ã™ï¼‰ã€‚

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚¹ãƒˆã«è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹æ™‚é–“ã‚ˆã‚Šé•·ãã€Œloadingã€çŠ¶æ…‹ã«ã¨ã©ã¾ã£ã¦ã„ãªã„ï¼ˆOAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Œäº†å¾Œã¯ã™ãã«çµ‚äº†ã™ã‚‹ã¯ãšï¼‰
- Proxy ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹å ´åˆã€è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã™ãã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å‚åŠ ã§ãã‚‹ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ãƒªãƒ­ãƒ¼ãƒ‰ã‚’è©¦ã¿ã¾ã™ï¼‰

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 1) OAuth ãŒã€ŒRefresh TokenãŒå–å¾—ã§ãã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã™ã‚‹å ´åˆ

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ `start_oauth_login/complete_oauth_login` ã§ `refresh_token` ãŒå­˜åœ¨ã™ã‚‹ã‹æ˜ç¤ºçš„ã«ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚å­˜åœ¨ã—ãªã„å ´åˆã€è§£æ±ºç­–ã‚’å«ã‚€ã‚¨ãƒ©ãƒ¼æƒ…å ±ãŒè¿”ã•ã‚Œã¾ã™ï¼ˆ`source/lbjlaq/Antigravity-Manager/src-tauri/src/commands/mod.rs:45-56` ã‚’å‚ç…§ï¼‰ã€‚

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æŒ‡ç¤ºã«å¾“ã£ã¦å‡¦ç†ã—ã¾ã™ï¼š

1. `https://myaccount.google.com/permissions` ã‚’é–‹ãã¾ã™ã€‚
2. **Antigravity Tools** ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’å–ã‚Šæ¶ˆã—ã¾ã™ã€‚
3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«æˆ»ã£ã¦ OAuth ã‚’å†è©¦è¡Œã—ã¾ã™ã€‚

> ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã® Refresh Token ãƒãƒ£ãƒ³ãƒãƒ«ã«ç›´æ¥åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

### 2) ãƒ–ãƒ©ã‚¦ã‚¶ãŒ `localhost refused to connect` ã¨è¡¨ç¤ºã™ã‚‹å ´åˆ

OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã¯ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å¤±æ•—ç‡ã‚’ä¸‹ã’ã‚‹ãŸã‚ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ï¼š

- `127.0.0.1` ã¨ `::1` ã®ä¸¡æ–¹ã‚’åŒæ™‚ã«ç›£è¦–ã—ã‚ˆã†ã¨ã—ã¾ã™
- ä¸¡æ–¹ãŒä½¿ç”¨å¯èƒ½ãªå ´åˆã®ã¿ `localhost` ã‚’ä½¿ç”¨ã—ã€ãã†ã§ãªã„å ´åˆã¯ `127.0.0.1` ã¾ãŸã¯ `[::1]` ã‚’å¼·åˆ¶çš„ã«ä½¿ç”¨ã—ã¾ã™

å¯¾å¿œã™ã‚‹å®Ÿè£…ã¯ `source/lbjlaq/Antigravity-Manager/src-tauri/src/modules/oauth_server.rs:53-113` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### 3) ä»–ã®ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ OAuth æº–å‚™ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹

ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒ `OAuth` ã‹ã‚‰ä»–ã®ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹ã¨ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ `cancelOAuthLogin()` ã‚’å‘¼ã³å‡ºã—ã€URL ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ï¼ˆ`AddAccountDialog.tsx:127-136` ã‚’å‚ç…§ï¼‰ã€‚

èªè¨¼ãƒ—ãƒ­ã‚»ã‚¹ä¸­ã®å ´åˆã€ã‚¿ãƒ–ã‚’æ€¥ã„ã§åˆ‡ã‚Šæ›¿ãˆãªã„ã§ãã ã•ã„ã€‚

### 4) Refresh Token ã®æ­£ã—ã„/é–“é•ã£ãŸä¾‹

| ä¾‹ | è­˜åˆ¥ã•ã‚Œã‚‹ã‹ | ç†ç”± |
| --- | --- | --- |
| `1//0gAbC...` | âœ“ | `1//` æ¥é ­è¾ãƒ«ãƒ¼ãƒ«ã«é©åˆï¼ˆ`AddAccountDialog.tsx:215-219` ã‚’å‚ç…§ï¼‰ |
| `ya29.a0...` | âœ— | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ½å‡ºãƒ«ãƒ¼ãƒ«ã«é©åˆã›ãšã€ç„¡åŠ¹ãªå…¥åŠ›ã¨ã¿ãªã•ã‚Œã¾ã™ |

## ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

- OAuthï¼šã€Œé€Ÿã•ã€ã«é©ã—ã¦ãŠã‚Šã€ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å¸¸ç”¨ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã€è‡ªå‹•/æ‰‹å‹•ã§çµ‚äº†ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½
- Refresh Tokenï¼šã€Œå®‰å®šã€ã¨ã€Œç§»è¡Œæ€§ã€ã«é©ã—ã¦ãŠã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆ/JSON ã‹ã‚‰ `1//...` ã‚’ä¸€æ‹¬æŠ½å‡ºã‚’ã‚µãƒãƒ¼ãƒˆ
- `refresh_token` ãŒå–å¾—ã§ããªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼æŒ‡ç¤ºã«å¾“ã£ã¦èªè¨¼ã‚’å–ã‚Šæ¶ˆã—ã¦å†è©¦è¡Œã™ã‚‹ã‹ã€ç›´æ¥ Refresh Token ã«åˆ‡ã‚Šæ›¿ãˆã‚‹

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³äºˆå‘Š

æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€ã‚ˆã‚Šç¢ºå®Ÿãªã“ã¨ã‚’è¡Œã„ã¾ã™ï¼šã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ—ãƒ¼ãƒ«ã‚’ã€Œç§»è¡Œå¯èƒ½è³‡ç”£ã€ã«ã—ã¾ã™ã€‚

> **[ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ç§»è¡Œï¼šã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€V1/DB ãƒ›ãƒƒãƒˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³](../backup-migrate/)** ã«è¡Œã£ã¦ãã ã•ã„ã€‚

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥æ™‚ï¼š2026-01-23

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
| --- | --- | --- |
| Accounts ãƒšãƒ¼ã‚¸ã«è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’ãƒã‚¦ãƒ³ãƒˆ | [`src/pages/Accounts.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/pages/Accounts.tsx#L267-L731) | 267-731 |
| OAuth URL äº‹å‰ç”Ÿæˆ + ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆè‡ªå‹•çµ‚äº† | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L49-L125) | 49-125 |
| OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãŒ `completeOAuthLogin()` ã‚’ãƒˆãƒªã‚¬ãƒ¼ | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L67-L109) | 67-109 |
| Refresh Token ä¸€æ‹¬è§£æã¨é‡è¤‡æ’é™¤ | [`src/components/accounts/AddAccountDialog.tsx`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/components/accounts/AddAccountDialog.tsx#L185-L268) | 185-268 |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒ Tauri ã‚³ãƒãƒ³ãƒ‰ã‚’å‘¼ã³å‡ºã™ï¼ˆadd/OAuth/cancelï¼‰ | [`src/services/accountService.ts`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src/services/accountService.ts#L5-L91) | 5-91 |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ add_accountï¼šemail ã‚’ç„¡è¦–ã€refresh_token ã‚’ä½¿ç”¨ã—ã¦å®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ä¿å­˜ | [`src-tauri/src/commands/mod.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/commands/mod.rs#L19-L60) | 19-60 |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ OAuthï¼šrefresh_token æ¬ å¦‚ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€èªè¨¼å–ã‚Šæ¶ˆã—ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾› | [`src-tauri/src/commands/mod.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/commands/mod.rs#L38-L79) | 38-79 |
| OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ serverï¼šIPv4/IPv6 ã‚’åŒæ™‚ã«ç›£è¦–ã— redirect_uri ã‚’é¸æŠ | [`src-tauri/src/modules/oauth_server.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/oauth_server.rs#L43-L113) | 43-113 |
| OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒ `code` ã‚’è§£æã— `oauth-callback-received` ã‚’ç™ºè¡Œ | [`src-tauri/src/modules/oauth_server.rs`](https://github.com/lbjlaq/Antigravity-Manager/blob/main/src-tauri/src/modules/oauth_server.rs#L140-L180) | 140-180 |

**é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆå**ï¼š
- `oauth-url-generated`ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒ OAuth URL ã‚’ç”Ÿæˆã—ãŸå¾Œã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«é€ä¿¡ï¼ˆ`oauth_server.rs:250-252` ã‚’å‚ç…§ï¼‰
- `oauth-callback-received`ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å—ã‘å–ã‚Šã€code ã‚’è§£æã—ãŸå¾Œã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«é€šçŸ¥ï¼ˆ`oauth_server.rs:177-180` / `oauth_server.rs:232-235` ã‚’å‚ç…§ï¼‰

**é‡è¦ã‚³ãƒãƒ³ãƒ‰**ï¼š
- `prepare_oauth_url`ï¼šèªè¨¼ãƒªãƒ³ã‚¯ã‚’äº‹å‰ç”Ÿæˆã—ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç›£è¦–ã‚’é–‹å§‹ï¼ˆ`src-tauri/src/commands/mod.rs:469-473` ã‚’å‚ç…§ï¼‰
- `start_oauth_login`ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ãã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å¾…æ©Ÿï¼ˆ`src-tauri/src/commands/mod.rs:339-401` ã‚’å‚ç…§ï¼‰
- `complete_oauth_login`ï¼šãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã‹ãšã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã¿ã‚’å¾…æ©Ÿã—ã€ãƒˆãƒ¼ã‚¯ãƒ³äº¤æ›ã‚’å®Œäº†ï¼ˆ`src-tauri/src/commands/mod.rs:405-467` ã‚’å‚ç…§ï¼‰
- `add_account`ï¼šrefresh_token ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä¿å­˜ï¼ˆ`src-tauri/src/commands/mod.rs:19-60` ã‚’å‚ç…§ï¼‰

</details>
