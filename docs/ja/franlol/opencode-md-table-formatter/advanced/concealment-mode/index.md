---
title: "éš è”½ãƒ¢ãƒ¼ãƒ‰: å¹…è¨ˆç®—ã®åŸç† | opencode-md-table-formatter"
sidebarTitle: "å¹…è¨ˆç®—ã®3ã‚¹ãƒ†ãƒƒãƒ—"
subtitle: "éš è”½ãƒ¢ãƒ¼ãƒ‰ã®åŸç†ï¼šãªãœå¹…è¨ˆç®—ãŒé‡è¦ãªã®ã‹"
description: "OpenCode éš è”½ãƒ¢ãƒ¼ãƒ‰ã®å‹•ä½œåŸç†ã‚’å­¦ç¿’ã—ã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¡¨ç¤ºå¹…è¨ˆç®—æ–¹æ³•ã‚’ç¿’å¾—ã—ã€Markdown è¨˜å·ã®é™¤å»ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ä¿è­·ã€Bun.stringWidth ã®ä½¿ç”¨æ–¹æ³•ã‚’ç†è§£ã—ã¾ã™ã€‚"
tags:
  - "concealment-mode"
  - "è¡¨ç¤ºå¹…è¨ˆç®—"
  - "Markdown è¨˜å·ã®é™¤å»"
  - "Bun.stringWidth"
prerequisite:
  - "start-features"
order: 30
---

# éš è”½ãƒ¢ãƒ¼ãƒ‰ã®åŸç†ï¼šãªãœå¹…è¨ˆç®—ãŒé‡è¦ãªã®ã‹

::: info å­¦ç¿’å¾Œã®ã‚´ãƒ¼ãƒ«
- OpenCode éš è”½ãƒ¢ãƒ¼ãƒ‰ã®å‹•ä½œåŸç†ã‚’ç†è§£ã™ã‚‹
- é€šå¸¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ„ãƒ¼ãƒ«ãŒéš è”½ãƒ¢ãƒ¼ãƒ‰ã§ã‚ºãƒ¬ã‚‹ç†ç”±ã‚’çŸ¥ã‚‹
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å¹…è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ã‚’ç¿’å¾—ã™ã‚‹
- `Bun.stringWidth` ã®å½¹å‰²ã‚’ç†è§£ã™ã‚‹
:::

## ç¾åœ¨ã®èª²é¡Œ

OpenCode ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã¦ã€AI ãŒãã‚Œã„ãªãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼š

```markdown
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ã‚¿ã‚¤ãƒ— | èª¬æ˜ |
| --- | --- | --- |
| **name** | string | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| age | number | å¹´é½¢ |
```

ã‚½ãƒ¼ã‚¹ãƒ“ãƒ¥ãƒ¼ã§ã¯æ•´ç„¶ã¨è¦‹ãˆã¾ã™ã€‚ã—ã‹ã—ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã‚ºãƒ¬ã¦ã„ã¾ã™ï¼š

```
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰     | ã‚¿ã‚¤ãƒ—   | èª¬æ˜   |
| -------- | ------ | ------ |
| name | string | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |    â† ãªãœçŸ­ã„ï¼Ÿ
| age      | number | å¹´é½¢   |
```

å•é¡Œã¯ã©ã“ã«ã‚ã‚‹ï¼Ÿ**éš è”½ãƒ¢ãƒ¼ãƒ‰**ã§ã™ã€‚

## éš è”½ãƒ¢ãƒ¼ãƒ‰ã¨ã¯

OpenCode ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§**éš è”½ãƒ¢ãƒ¼ãƒ‰ï¼ˆConcealment Modeï¼‰**ãŒæœ‰åŠ¹ã«ãªã£ã¦ãŠã‚Šã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã« Markdown æ§‹æ–‡è¨˜å·ã‚’éè¡¨ç¤ºã«ã—ã¾ã™ï¼š

| ã‚½ãƒ¼ã‚¹ | éš è”½ãƒ¢ãƒ¼ãƒ‰ã§ã®è¡¨ç¤º |
| --- | --- |
| `**å¤ªå­—**` | å¤ªå­—ï¼ˆ4 æ–‡å­—ï¼‰ |
| `*æ–œä½“*` | æ–œä½“ï¼ˆ4 æ–‡å­—ï¼‰ |
| `~~æ‰“ã¡æ¶ˆã—ç·š~~` | æ‰“ã¡æ¶ˆã—ç·šï¼ˆ6 æ–‡å­—ï¼‰ |
| `` `ã‚³ãƒ¼ãƒ‰` `` | `ã‚³ãƒ¼ãƒ‰`ï¼ˆ4 æ–‡å­— + èƒŒæ™¯è‰²ï¼‰ |

::: tip éš è”½ãƒ¢ãƒ¼ãƒ‰ã®ãƒ¡ãƒªãƒƒãƒˆ
ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãã®ã‚‚ã®ã«é›†ä¸­ã§ãã€`**` ã‚„ `*` ãªã©ã®è¨˜å·ã«è¦–ç·šã‚’é‚ªé­”ã•ã‚Œã¾ã›ã‚“ã€‚
:::

## é€šå¸¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ„ãƒ¼ãƒ«ãŒå•é¡Œã‚’èµ·ã“ã™ç†ç”±

é€šå¸¸ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ„ãƒ¼ãƒ«ã¯å¹…ã‚’è¨ˆç®—ã™ã‚‹éš›ã€`**name**` ã‚’ 8 æ–‡å­—ã¨ã—ã¦æ‰±ã„ã¾ã™ï¼š

```
** n a m e ** = 8 æ–‡å­—
```

ã—ã‹ã—éš è”½ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ã®ã¯ `name` ã§ã€4 æ–‡å­—ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚

çµæœã¨ã—ã¦ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ„ãƒ¼ãƒ«ã¯ 8 æ–‡å­—ã§æƒãˆã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ã®ã¯ 4 æ–‡å­—ãªã®ã§ã€ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã‚ºãƒ¬ã¦ã—ã¾ã„ã¾ã™ã€‚

## ã‚³ã‚¢ã‚¢ã‚¤ãƒ‡ã‚¢ï¼šã€Œæ–‡å­—æ•°ã€ã§ã¯ãªãã€Œè¡¨ç¤ºå¹…ã€ã‚’è¨ˆç®—ã™ã‚‹

ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚³ã‚¢ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ï¼š**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«è¦‹ã‚‹å¹…ã‚’è¨ˆç®—ã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ–‡å­—æ•°ã‚’è¨ˆç®—ã—ãªã„ã“ã¨**ã§ã™ã€‚

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ 3 ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ï¼š

```
ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä¿è­·ã™ã‚‹ï¼ˆã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã®è¨˜å·ã¯é™¤å»ã—ãªã„ï¼‰
ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šMarkdown è¨˜å·ã‚’é™¤å»ã™ã‚‹ï¼ˆ**ã€*ã€~~ ãªã©ï¼‰
ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šBun.stringWidth ã§æœ€çµ‚çš„ãªå¹…ã‚’è¨ˆç®—ã™ã‚‹
```

## å®Ÿè·µï¼š3 ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç†è§£ã™ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä¿è­·ã™ã‚‹

**ãªãœå¿…è¦ã‹**

ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã¾ã‚ŒãŸã‚‚ã®ï¼‰å†…ã® Markdown è¨˜å·ã¯ã€Œãƒªãƒ†ãƒ©ãƒ«ã€ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ `**bold**` ã¨ã„ã† 8 æ–‡å­—ã‚’è¦‹ã¦ã€`bold` ã¨ã„ã† 4 æ–‡å­—ã‚’è¦‹ã¾ã›ã‚“ã€‚

ãã®ãŸã‚ã€Markdown è¨˜å·ã‚’é™¤å»ã™ã‚‹å‰ã«ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®å†…å®¹ã‚’ã€Œéš ã™ã€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**

```typescript
// ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã¦ä¿è­·ã™ã‚‹
const codeBlocks: string[] = []
let textWithPlaceholders = text.replace(/`(.+?)`/g, (match, content) => {
  codeBlocks.push(content)
  return `\x00CODE${codeBlocks.length - 1}\x00`
})
```

**å‹•ä½œåŸç†**

| å…¥åŠ› | å‡¦ç†å¾Œ | codeBlocks é…åˆ— |
| --- | --- | --- |
| `` `**bold**` `` | `\x00CODE0\x00` | `["**bold**"]` |
| `` `a` and `b` `` | `\x00CODE0\x00 and \x00CODE1\x00` | `["a", "b"]` |

`\x00CODE0\x00` ã®ã‚ˆã†ãªç‰¹æ®Šãªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç½®æ›ã™ã‚‹ã“ã¨ã§ã€å¾Œã§ Markdown è¨˜å·ã‚’é™¤å»ã™ã‚‹éš›ã«èª¤ã£ã¦å‰Šé™¤ã•ã‚Œã‚‹ã®ã‚’é˜²ãã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šMarkdown è¨˜å·ã‚’é™¤å»ã™ã‚‹

**ãªãœå¿…è¦ã‹**

éš è”½ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€`**å¤ªå­—**` ã¯ `å¤ªå­—` ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€`*æ–œä½“*` ã¯ `æ–œä½“` ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å¹…ã‚’è¨ˆç®—ã™ã‚‹éš›ã«ã“ã‚Œã‚‰ã®è¨˜å·ã‚’å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**

```typescript
// ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šã‚³ãƒ¼ãƒ‰ä»¥å¤–ã®éƒ¨åˆ†ã‹ã‚‰ Markdown è¨˜å·ã‚’é™¤å»ã™ã‚‹
let visualText = textWithPlaceholders
let previousText = ""

while (visualText !== previousText) {
  previousText = visualText
  visualText = visualText
    .replace(/\*\*\*(.+?)\*\*\*/g, "$1") // ***å¤ªå­—æ–œä½“*** â†’ ãƒ†ã‚­ã‚¹ãƒˆ
    .replace(/\*\*(.+?)\*\*/g, "$1")     // **å¤ªå­—** â†’ å¤ªå­—
    .replace(/\*(.+?)\*/g, "$1")         // *æ–œä½“* â†’ æ–œä½“
    .replace(/~~(.+?)~~/g, "$1")         // ~~æ‰“ã¡æ¶ˆã—ç·š~~ â†’ æ‰“ã¡æ¶ˆã—ç·š
    .replace(/!\[([^\]]*)\]\(([^)]+)\)/g, "$1")     // ![alt](url) â†’ alt
    .replace(/\[([^\]]+)\]\(([^)]+)\)/g, "$1 ($2)") // [text](url) â†’ text (url)
}
```

**ãªãœ while ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†ã®ã‹**

ãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹æ–‡ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã§ã™ã€‚ä¾‹ãˆã° `***å¤ªå­—æ–œä½“***` ã®å ´åˆï¼š

```
ç¬¬ 1 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼š***å¤ªå­—æ–œä½“*** â†’ **å¤ªå­—æ–œä½“**ï¼ˆæœ€å¤–å±¤ã® *** ã‚’é™¤å»ï¼‰
ç¬¬ 2 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼š**å¤ªå­—æ–œä½“** â†’ *å¤ªå­—æ–œä½“*ï¼ˆ** ã‚’é™¤å»ï¼‰
ç¬¬ 3 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼š*å¤ªå­—æ–œä½“* â†’ å¤ªå­—æ–œä½“ï¼ˆ* ã‚’é™¤å»ï¼‰
ç¬¬ 4 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼šå¤ªå­—æ–œä½“ = å¤ªå­—æ–œä½“ï¼ˆå¤‰åŒ–ãªã—ã€ãƒ«ãƒ¼ãƒ—çµ‚äº†ï¼‰
```

::: details ç”»åƒã¨ãƒªãƒ³ã‚¯ã®å‡¦ç†
- **ç”»åƒ** `![alt](url)`ï¼šOpenCode ã¯ alt ãƒ†ã‚­ã‚¹ãƒˆã®ã¿è¡¨ç¤ºã™ã‚‹ãŸã‚ã€`alt` ã«ç½®æ›
- **ãƒªãƒ³ã‚¯** `[text](url)`ï¼š`text (url)` ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€URL æƒ…å ±ã‚’ä¿æŒ
:::

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¾©å…ƒ + å¹…ã‚’è¨ˆç®—ã™ã‚‹

**ãªãœå¿…è¦ã‹**

ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®å†…å®¹ã‚’æˆ»ã—ã€`Bun.stringWidth` ã§æœ€çµ‚çš„ãªè¡¨ç¤ºå¹…ã‚’è¨ˆç®—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**

```typescript
// ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®å†…å®¹ã‚’å¾©å…ƒã™ã‚‹
visualText = visualText.replace(/\x00CODE(\d+)\x00/g, (match, index) => {
  return codeBlocks[parseInt(index)]
})

return Bun.stringWidth(visualText)
```

**ãªãœ Bun.stringWidth ã‚’ä½¿ã†ã®ã‹**

`Bun.stringWidth` ã¯ä»¥ä¸‹ã‚’æ­£ã—ãè¨ˆç®—ã§ãã¾ã™ï¼š

| æ–‡å­—ã‚¿ã‚¤ãƒ— | ä¾‹ | æ–‡å­—æ•° | è¡¨ç¤ºå¹… |
| --- | --- | --- | --- |
| ASCII | `abc` | 3 | 3 |
| æ—¥æœ¬èª | `ä½ å¥½` | 2 | 4ï¼ˆå„ 2 ãƒã‚¹ï¼‰ |
| Emoji | `ğŸ˜€` | 1 | 2ï¼ˆ2 ãƒã‚¹ï¼‰ |
| ã‚¼ãƒ­å¹…æ–‡å­— | `a\u200Bb` | 3 | 2ï¼ˆã‚¼ãƒ­å¹…æ–‡å­—ã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’å–ã‚‰ãªã„ï¼‰ |

é€šå¸¸ã® `text.length` ã¯æ–‡å­—æ•°ã—ã‹ã‚«ã‚¦ãƒ³ãƒˆã§ããšã€ã“ã‚Œã‚‰ã®ç‰¹æ®Šãªã‚±ãƒ¼ã‚¹ã‚’å‡¦ç†ã§ãã¾ã›ã‚“ã€‚

## å®Œå…¨ãªä¾‹

ã‚»ãƒ«ã®å†…å®¹ãŒ `` **`code`** and *text* `` ã ã¨ã—ã¾ã™ã€‚

**ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä¿è­·ã™ã‚‹**

```
å…¥åŠ›ï¼š**`code`** and *text*
å‡ºåŠ›ï¼š**\x00CODE0\x00** and *text*
codeBlocks = ["code"]
```

**ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šMarkdown è¨˜å·ã‚’é™¤å»ã™ã‚‹**

```
ç¬¬ 1 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼š**\x00CODE0\x00** and *text* â†’ \x00CODE0\x00 and text
ç¬¬ 2 ãƒ©ã‚¦ãƒ³ãƒ‰ï¼šå¤‰åŒ–ãªã—ã€çµ‚äº†
```

**ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¾©å…ƒ + å¹…ã‚’è¨ˆç®—ã™ã‚‹**

```
å¾©å…ƒå¾Œï¼šcode and text
å¹…ï¼šBun.stringWidth("code and text") = 13
```

æœ€çµ‚çš„ã«ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã“ã®ã‚»ãƒ«ã‚’ 13 æ–‡å­—ã®å¹…ã§æƒãˆã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã® 22 æ–‡å­—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã‚’å®Œäº†ã—ãŸå¾Œã€ä»¥ä¸‹ã®è³ªå•ã«ç­”ãˆã‚‰ã‚Œã‚‹ã¯ãšã§ã™ï¼š

- [ ] éš è”½ãƒ¢ãƒ¼ãƒ‰ã¯ã©ã®è¨˜å·ã‚’éè¡¨ç¤ºã«ã—ã¾ã™ã‹ï¼Ÿï¼ˆç­”ï¼š`**`ã€`*`ã€`~~` ãªã©ã® Markdown æ§‹æ–‡è¨˜å·ï¼‰
- [ ] ãªãœå…ˆã«ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä¿è­·ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿï¼ˆç­”ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã®è¨˜å·ã¯ãƒªãƒ†ãƒ©ãƒ«ã§ã‚ã‚Šã€é™¤å»ã™ã¹ãã§ã¯ãªã„ã‹ã‚‰ï¼‰
- [ ] ãªãœ while ãƒ«ãƒ¼ãƒ—ã§è¨˜å·ã‚’é™¤å»ã—ã¾ã™ã‹ï¼Ÿï¼ˆç­”ï¼š`***å¤ªå­—æ–œä½“***` ãªã©ã®ãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹æ–‡ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ï¼‰
- [ ] `Bun.stringWidth` ã¯ `text.length` ã‚ˆã‚Šä½•ãŒå„ªã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿï¼ˆç­”ï¼šæ—¥æœ¬èªã€Emojiã€ã‚¼ãƒ­å¹…æ–‡å­—ã®è¡¨ç¤ºå¹…ã‚’æ­£ã—ãè¨ˆç®—ã§ãã‚‹ï¼‰

## ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´

::: warning ã‚ˆãã‚ã‚‹èª¤è§£
**èª¤è§£**ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã® `**` ã‚‚é™¤å»ã•ã‚Œã‚‹

**äº‹å®Ÿ**ï¼šã„ã„ãˆã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯å…ˆã«ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®å†…å®¹ã‚’ä¿è­·ã—ã€ä»–ã®éƒ¨åˆ†ã®è¨˜å·ã‚’é™¤å»ã—ã¦ã‹ã‚‰å¾©å…ƒã—ã¾ã™ã€‚

ãã®ãŸã‚ã€`` `**bold**` `` ã®å¹…ã¯ 8ï¼ˆ`**bold**`ï¼‰ã§ã‚ã‚Šã€4ï¼ˆ`bold`ï¼‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
:::

## ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

| ã‚¹ãƒ†ãƒƒãƒ— | å½¹å‰² | ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ |
| --- | --- | --- |
| ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ä¿è­· | ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã®è¨˜å·ãŒèª¤ã£ã¦é™¤å»ã•ã‚Œã‚‹ã®ã‚’é˜²ã | `text.replace(/\`(.+?)\`/g, ...)` |
| Markdown ã®é™¤å» | éš è”½ãƒ¢ãƒ¼ãƒ‰ã§ã®å®Ÿéš›ã®è¡¨ç¤ºå†…å®¹ã‚’è¨ˆç®—ã™ã‚‹ | è¤‡æ•°å›ã®æ­£è¦è¡¨ç¾ç½®æ› |
| å¹…ã®è¨ˆç®— | æ—¥æœ¬èªã€Emoji ãªã©ã®ç‰¹æ®Šæ–‡å­—ã‚’å‡¦ç†ã™ã‚‹ | `Bun.stringWidth()` |

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®äºˆå‘Š

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[ãƒ†ãƒ¼ãƒ–ãƒ«ä»•æ§˜](../table-spec/)** ã‚’å­¦ç¿’ã—ã¾ã™ã€‚
>
> å­¦ç¿’å†…å®¹ï¼š
> - ã©ã®ã‚ˆã†ãªãƒ†ãƒ¼ãƒ–ãƒ«ãŒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã‚‹ã‹
> - ãƒ†ãƒ¼ãƒ–ãƒ«æ¤œè¨¼ã® 4 ã¤ã®ãƒ«ãƒ¼ãƒ«
> - ã€Œç„¡åŠ¹ãªãƒ†ãƒ¼ãƒ–ãƒ«ã€ã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã™ã‚‹æ–¹æ³•

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä½ç½®ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥æ™‚ï¼š2026-01-26

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
| --- | --- | --- |
| è¡¨ç¤ºå¹…è¨ˆç®—ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ | [`index.ts`](https://github.com/franlol/opencode-md-table-formatter/blob/main/index.ts#L151-L159) | 151-159 |
| ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ä¿è­· | [`index.ts`](https://github.com/franlol/opencode-md-table-formatter/blob/main/index.ts#L168-L173) | 168-173 |
| Markdown è¨˜å·ã®é™¤å» | [`index.ts`](https://github.com/franlol/opencode-md-table-formatter/blob/main/index.ts#L175-L188) | 175-188 |
| ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®å¾©å…ƒ | [`index.ts`](https://github.com/franlol/opencode-md-table-formatter/blob/main/index.ts#L190-L193) | 190-193 |
| Bun.stringWidth ã®å‘¼ã³å‡ºã— | [`index.ts`](https://github.com/franlol/opencode-md-table-formatter/blob/main/index.ts#L195) | 195 |

**ä¸»è¦ãªé–¢æ•°**ï¼š
- `calculateDisplayWidth()`ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»˜ãã®å¹…è¨ˆç®—ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
- `getStringWidth()`ï¼šã‚³ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€Markdown è¨˜å·ã‚’é™¤å»ã—ã¦è¡¨ç¤ºå¹…ã‚’è¨ˆç®—

**ä¸»è¦ãªå®šæ•°**ï¼š
- `\x00CODE{n}\x00`ï¼šã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å½¢å¼

</details>
