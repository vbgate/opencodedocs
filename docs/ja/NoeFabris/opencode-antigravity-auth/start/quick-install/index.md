---
title: "ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: 5åˆ†ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šå®Œäº† | Antigravity Auth"
sidebarTitle: "5åˆ†ã§å§‹ã‚ã‚‹"
subtitle: "Antigravity Auth ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š5åˆ†ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šå®Œäº†"
description: "Antigravity Auth ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’è§£èª¬ã€‚AI ã‚¢ã‚·ã‚¹ãƒˆ/æ‰‹å‹•ã®2ã¤ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã€ãƒ¢ãƒ‡ãƒ«å®šç¾©ã®è¨­å®šã€Google OAuth èªè¨¼ã€å‹•ä½œç¢ºèªã¾ã§ç¶²ç¾…ã€‚"
tags:
  - "ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ"
  - "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰"
  - "OAuth"
  - "ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š"
prerequisite:
  - "start-what-is-antigravity-auth"
order: 2
---

# Antigravity Auth ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š5åˆ†ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šå®Œäº†

Antigravity Auth ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã€5åˆ†ä»¥å†…ã« OpenCode ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã—ã€Claude ã‚„ Gemini 3 ã®é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã„å§‹ã‚ã¾ã—ã‚‡ã†ã€‚æœ¬ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€2ã¤ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ï¼ˆAI ã‚¢ã‚·ã‚¹ãƒˆ/æ‰‹å‹•è¨­å®šï¼‰ã‚’ç´¹ä»‹ã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€OAuth èªè¨¼ã€ãƒ¢ãƒ‡ãƒ«å®šç¾©ã€å‹•ä½œç¢ºèªã¾ã§ã‚’ã‚«ãƒãƒ¼ã—ã¾ã™ã€‚

## å­¦ã¹ã‚‹ã“ã¨

- âœ… 5åˆ†ä»¥å†…ã« Antigravity Auth ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
- âœ… Claude ã¨ Gemini 3 ãƒ¢ãƒ‡ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’è¨­å®šã™ã‚‹
- âœ… Google OAuth èªè¨¼ã‚’å®Ÿè¡Œã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®æˆåŠŸã‚’ç¢ºèªã™ã‚‹

## ç¾çŠ¶ã®èª²é¡Œ

Antigravity Auth ã®å¼·åŠ›ãªæ©Ÿèƒ½ï¼ˆClaude Opus 4.5ã€Sonnet 4.5ã€Gemini 3 Pro/Flashï¼‰ã‚’è©¦ã—ãŸã„ã‘ã‚Œã©ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚„ãƒ¢ãƒ‡ãƒ«ã®è¨­å®šæ–¹æ³•ãŒã‚ã‹ã‚‰ãšã€ä¸€æ­©é–“é•ãˆã‚‹ã¨è©°ã¾ã£ã¦ã—ã¾ã†ã®ã§ã¯ãªã„ã‹ã¨ä¸å®‰ã«æ„Ÿã˜ã¦ã„ã‚‹ã€‚

## ã“ã‚“ãªã¨ãã«ä½¿ã†

- Antigravity Auth ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’åˆã‚ã¦ä½¿ã†ã¨ã
- æ–°ã—ã„ãƒã‚·ãƒ³ã« OpenCode ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å†è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã

## ğŸ’ å§‹ã‚ã‚‹å‰ã®æº–å‚™

::: warning äº‹å‰ãƒã‚§ãƒƒã‚¯

å§‹ã‚ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
- [ ] OpenCode CLI ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼ˆ`opencode` ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ç”¨å¯èƒ½ï¼‰
- [ ] Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹ï¼ˆOAuth èªè¨¼ã«ä½¿ç”¨ï¼‰
- [ ] Antigravity Auth ã®åŸºæœ¬æ¦‚å¿µã‚’ç†è§£ã—ã¦ã„ã‚‹ï¼ˆ[Antigravity Auth ã¨ã¯ï¼Ÿ](/ja/NoeFabris/opencode-antigravity-auth/start/what-is-antigravity-auth/) ã‚’å‚ç…§ï¼‰

:::

## åŸºæœ¬çš„ãªæµã‚Œ

Antigravity Auth ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯4ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å®Œäº†ã—ã¾ã™ï¼š

1. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«** â†’ OpenCode è¨­å®šã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æœ‰åŠ¹åŒ–
2. **OAuth èªè¨¼** â†’ Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. **ãƒ¢ãƒ‡ãƒ«ã®è¨­å®š** â†’ Claude/Gemini ãƒ¢ãƒ‡ãƒ«å®šç¾©ã‚’è¿½åŠ 
4. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèª** â†’ æœ€åˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒ†ã‚¹ãƒˆ

**é‡è¦**ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã¯ã€ã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ã§ `~/.config/opencode/opencode.json` ã§ã™ï¼ˆWindows ã® `~` ã¯è‡ªå‹•çš„ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆä¾‹ï¼š`C:\Users\YourName`ï¼‰ã«è§£æ±ºã•ã‚Œã¾ã™ï¼‰ã€‚

## æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã‚’é¸æŠ

Antigravity Auth ã«ã¯2ã¤ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚

::: tip ãŠã™ã™ã‚

LLM Agentï¼ˆClaude Codeã€Cursorã€OpenCode ãªã©ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€**AI ã‚¢ã‚·ã‚¹ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ãŒã‚ˆã‚Šç°¡å˜ã§æ‰‹è»½ã§ã™ã€‚

:::

**æ–¹æ³•1ï¼šAI ã‚¢ã‚·ã‚¹ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰**

ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ä»»æ„ã® LLM Agent ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼š

```
Install opencode-antigravity-auth plugin and add Antigravity model definitions to ~/.config/opencode/opencode.json by following: https://raw.githubusercontent.com/NoeFabris/opencode-antigravity-auth/dev/README.md
```

**AI ãŒè‡ªå‹•çš„ã«å®Ÿè¡Œã™ã‚‹å†…å®¹**ï¼š
- `~/.config/opencode/opencode.json` ã‚’ç·¨é›†
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã‚’è¿½åŠ 
- å®Œå…¨ãªãƒ¢ãƒ‡ãƒ«å®šç¾©ã‚’è¿½åŠ 
- `opencode auth login` ã‚’å®Ÿè¡Œã—ã¦èªè¨¼

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šAI ãŒã€Œãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ã¾ã—ãŸã€ãªã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

**æ–¹æ³•2ï¼šæ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

æ‰‹å‹•ã§è¨­å®šã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š

**ã‚¹ãƒ†ãƒƒãƒ— 1.1ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ **

`~/.config/opencode/opencode.json` ã‚’ç·¨é›†ã—ã¾ã™ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆï¼‰ï¼š

```json
{
  "plugin": ["opencode-antigravity-auth@latest"]
}
```

> **Beta ç‰ˆ**ï¼šæœ€æ–°æ©Ÿèƒ½ã‚’è©¦ã—ãŸã„å ´åˆã¯ã€`@latest` ã®ä»£ã‚ã‚Šã« `opencode-antigravity-auth@beta` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã« `plugin` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚ã‚Šã€å€¤ãŒé…åˆ—ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šGoogle OAuth èªè¨¼ã‚’å®Ÿè¡Œ

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

```bash
opencode auth login
```

**ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«å®Ÿè¡Œã™ã‚‹å†…å®¹**ï¼š
1. ãƒ­ãƒ¼ã‚«ãƒ« OAuth ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆ`localhost:51121` ã§ãƒªãƒƒã‚¹ãƒ³ï¼‰
2. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦ Google èªè¨¼ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
3. OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å—ä¿¡ã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’äº¤æ›
4. Google Cloud ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID ã‚’è‡ªå‹•å–å¾—

**ã‚ãªãŸãŒã‚„ã‚‹ã“ã¨**ï¼š
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ‰¿èª
2. WSL ã‚„ Docker ç’°å¢ƒã®å ´åˆã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ URL ã‚’æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼š

```
âœ… Authentication successful
âœ… Account added: your-email@gmail.com
âœ… Project ID resolved: cloud-project-id-xxx
```

::: tip ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œ

ã‚¯ã‚©ãƒ¼ã‚¿ã‚’å¢—ã‚„ã™ãŸã‚ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ã€`opencode auth login` ã‚’å†åº¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯æœ€å¤§10ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã€è‡ªå‹•çš„ã«è² è·åˆ†æ•£ã‚’è¡Œã„ã¾ã™ã€‚

:::

---

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šãƒ¢ãƒ‡ãƒ«å®šç¾©ã‚’è¨­å®š

ä»¥ä¸‹ã®å®Œå…¨ãªè¨­å®šã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `~/.config/opencode/opencode.json` ã«è¿½åŠ ã—ã¾ã™ï¼ˆæ—¢å­˜ã® `plugin` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä¸Šæ›¸ãã—ãªã„ã‚ˆã†ã«æ³¨æ„ï¼‰ï¼š

```json
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-antigravity-auth@latest"],
  "provider": {
    "google": {
      "models": {
        "antigravity-gemini-3-pro": {
          "name": "Gemini 3 Pro (Antigravity)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingLevel": "low" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "minimal": { "thinkingLevel": "minimal" },
            "low": { "thinkingLevel": "low" },
            "medium": { "thinkingLevel": "medium" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-claude-sonnet-4-5": {
          "name": "Claude Sonnet 4.5 (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        },
        "antigravity-claude-sonnet-4-5-thinking": {
          "name": "Claude Sonnet 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        },
        "antigravity-claude-opus-4-5-thinking": {
          "name": "Claude Opus 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        },
        "gemini-2.5-flash": {
          "name": "Gemini 2.5 Flash (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        },
        "gemini-2.5-pro": {
          "name": "Gemini 2.5 Pro (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        },
        "gemini-3-flash-preview": {
          "name": "Gemini 3 Flash Preview (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        },
        "gemini-3-pro-preview": {
          "name": "Gemini 3 Pro Preview (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        }
      }
    }
  }
}
```

::: info ãƒ¢ãƒ‡ãƒ«ã®åˆ†é¡

- **Antigravity ã‚¯ã‚©ãƒ¼ã‚¿**ï¼ˆClaude + Gemini 3ï¼‰ï¼š`antigravity-gemini-*`ã€`antigravity-claude-*`
- **Gemini CLI ã‚¯ã‚©ãƒ¼ã‚¿**ï¼ˆç‹¬ç«‹ï¼‰ï¼š`gemini-2.5-*`ã€`gemini-3-*-preview`

è©³ç´°ãªãƒ¢ãƒ‡ãƒ«è¨­å®šã«ã¤ã„ã¦ã¯ã€[åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ä¸€è¦§](/ja/NoeFabris/opencode-antigravity-auth/platforms/available-models/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

:::

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å®Œå…¨ãª `provider.google.models` å®šç¾©ãŒå«ã¾ã‚Œã€JSON å½¢å¼ãŒæœ‰åŠ¹ï¼ˆæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãªã—ï¼‰ã§ã‚ã‚‹ã“ã¨ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ— 4ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèª

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆã—ã¾ã™ï¼š

```bash
opencode run "Hello" --model=google/antigravity-claude-sonnet-4-5-thinking --variant=max
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼š

```
æ­£åœ¨ä½¿ç”¨: google/antigravity-claude-sonnet-4-5-thinking (max)
...

Claude: ä½ å¥½ï¼æˆ‘æ˜¯ Claude Sonnet 4.5 Thinkingã€‚
```

::: tip ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

AI ã‹ã‚‰æ­£å¸¸ãªå¿œç­”ãŒè¿”ã£ã¦ããŸã‚‰ã€ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼Antigravity Auth ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚

:::

---

## ã‚ˆãã‚ã‚‹ãƒˆãƒ©ãƒ–ãƒ«

### å•é¡Œ 1ï¼šOAuth èªè¨¼ã«å¤±æ•—ã™ã‚‹

**ç—‡çŠ¶**ï¼š`opencode auth login` ã‚’å®Ÿè¡Œå¾Œã€`invalid_grant` ãªã©ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€ã¾ãŸã¯èªè¨¼ãƒšãƒ¼ã‚¸ãŒé–‹ã‹ãªã„ã€‚

**åŸå› **ï¼šGoogle ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã€ã¾ãŸã¯ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ URL ãŒä¸å®Œå…¨ã€‚

**è§£æ±ºç­–**ï¼š
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ Google èªè¨¼ãƒšãƒ¼ã‚¸ãŒæ­£ã—ãé–‹ã„ã¦ã„ã‚‹ã‹ç¢ºèª
2. WSL/Docker ç’°å¢ƒã®å ´åˆã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ URL ã‚’æ‰‹å‹•ã§ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚³ãƒ”ãƒ¼
3. `~/.config/opencode/antigravity-accounts.json` ã‚’å‰Šé™¤ã—ã¦å†èªè¨¼

### å•é¡Œ 2ï¼šãƒ¢ãƒ‡ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„ï¼ˆ400 ã‚¨ãƒ©ãƒ¼ï¼‰

**ç—‡çŠ¶**ï¼šãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã« `400 Unknown name 'xxx'` ãŒè¿”ã•ã‚Œã‚‹ã€‚

**åŸå› **ï¼šãƒ¢ãƒ‡ãƒ«åã®ã‚¹ãƒšãƒ«ãƒŸã‚¹ã€ã¾ãŸã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã«å•é¡ŒãŒã‚ã‚‹ã€‚

**è§£æ±ºç­–**ï¼š
1. `--model` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ¼ã¨å®Œå…¨ã«ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ï¼‰
2. `opencode.json` ãŒæœ‰åŠ¹ãª JSON ã‹ã©ã†ã‹ç¢ºèªï¼ˆ`cat ~/.config/opencode/opencode.json | jq` ã§æ¤œè¨¼ï¼‰
3. `provider.google.models` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¯¾å¿œã™ã‚‹ãƒ¢ãƒ‡ãƒ«å®šç¾©ãŒã‚ã‚‹ã‹ç¢ºèª

### å•é¡Œ 3ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ãŒé–“é•ã£ã¦ã„ã‚‹

**ç—‡çŠ¶**ï¼šã€Œè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã€ã¾ãŸã¯å¤‰æ›´ãŒåæ˜ ã•ã‚Œãªã„ã€‚

**åŸå› **ï¼šç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§é–“é•ã£ãŸãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚

**è§£æ±ºç­–**ï¼šã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ã§ `~/.config/opencode/opencode.json` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆWindows ã§ã‚‚ `~` ã¯è‡ªå‹•çš„ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è§£æ±ºã•ã‚Œã¾ã™ï¼‰ã€‚

| ã‚·ã‚¹ãƒ†ãƒ  | æ­£ã—ã„ãƒ‘ã‚¹ | é–“é•ã£ãŸãƒ‘ã‚¹ |
|---|---|---|
| macOS/Linux | `~/.config/opencode/opencode.json` | `/usr/local/etc/...` |
| Windows | `C:\Users\YourName\.config\opencode\opencode.json` | `%APPDATA%\opencode\...` |

## ã¾ã¨ã‚

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§å­¦ã‚“ã ã“ã¨ï¼š
1. âœ… 2ã¤ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ï¼ˆAI ã‚¢ã‚·ã‚¹ãƒˆ / æ‰‹å‹•è¨­å®šï¼‰
2. âœ… Google OAuth èªè¨¼ãƒ•ãƒ­ãƒ¼
3. âœ… å®Œå…¨ãªãƒ¢ãƒ‡ãƒ«è¨­å®šï¼ˆClaude + Gemini 3ï¼‰
4. âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèªã¨ã‚ˆãã‚ã‚‹ãƒˆãƒ©ãƒ–ãƒ«ã®è§£æ±º

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**ï¼š
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±ä¸€ãƒ‘ã‚¹ï¼š`~/.config/opencode/opencode.json`
- OAuth èªè¨¼ã§ Project ID ã‚’è‡ªå‹•å–å¾—ã€æ‰‹å‹•è¨­å®šã¯ä¸è¦
- ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œã§ã‚¯ã‚©ãƒ¼ã‚¿ä¸Šé™ã‚’æ‹¡å¤§
- `variant` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ Thinking ãƒ¢ãƒ‡ãƒ«ã®æ€è€ƒæ·±åº¦ã‚’åˆ¶å¾¡

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[åˆå›èªè¨¼ï¼šOAuth 2.0 PKCE ãƒ•ãƒ­ãƒ¼ã‚’æ·±ãç†è§£ã™ã‚‹](/ja/NoeFabris/opencode-antigravity-auth/start/first-auth-login/)** ã‚’å­¦ã³ã¾ã™ã€‚
>
> å­¦ã¹ã‚‹ã“ã¨ï¼š
> - OAuth 2.0 PKCE ã®ä»•çµ„ã¿
> - ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®ä»•çµ„ã¿
> - Project ID ã®è‡ªå‹•è§£æ±ºãƒ—ãƒ­ã‚»ã‚¹
> - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å½¢å¼

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥ï¼š2026-01-23

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
| --- | --- | --- |
| OAuth èªè¨¼ URL ç”Ÿæˆ | [`src/antigravity/oauth.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/antigravity/oauth.ts#L91-L113) | 91-113 |
| PKCE ã‚­ãƒ¼ãƒšã‚¢ç”Ÿæˆ | [`src/antigravity/oauth.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/antigravity/oauth.ts#L1-L2) | 1-2 |
| ãƒˆãƒ¼ã‚¯ãƒ³äº¤æ› | [`src/antigravity/oauth.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/antigravity/oauth.ts#L201-L270) | 201-270 |
| Project ID è‡ªå‹•å–å¾— | [`src/antigravity/oauth.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/antigravity/oauth.ts#L131-L196) | 131-196 |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— | [`src/antigravity/oauth.ts`](https://github.com/NoeFabris/opencode-antigravity-auth/blob/main/src/antigravity/oauth.ts#L231-L242) | 231-242 |

**ä¸»è¦ãªå®šæ•°**ï¼š
- `ANTIGRAVITY_CLIENT_ID`ï¼šOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IDï¼ˆGoogle èªè¨¼ç”¨ï¼‰
- `ANTIGRAVITY_REDIRECT_URI`ï¼šOAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆå›ºå®šå€¤ï¼š`http://localhost:51121/oauth-callback`ï¼‰
- `ANTIGRAVITY_SCOPES`ï¼šOAuth æ¨©é™ã‚¹ã‚³ãƒ¼ãƒ—ãƒªã‚¹ãƒˆ

**ä¸»è¦ãªé–¢æ•°**ï¼š
- `authorizeAntigravity()`ï¼šOAuth èªè¨¼ URL ã‚’æ§‹ç¯‰ï¼ˆPKCE challenge ã‚’å«ã‚€ï¼‰
- `exchangeAntigravity()`ï¼šèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã«äº¤æ›
- `fetchProjectID()`ï¼šGoogle Cloud ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID ã‚’è‡ªå‹•è§£æ±º
- `encodeState()` / `decodeState()`ï¼šOAuth state ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰ï¼ˆPKCE verifier ã‚’å«ã‚€ï¼‰

</details>
