---
title: "WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šå®Œå…¨ã‚¬ã‚¤ãƒ‰ | Clawdbot ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"
sidebarTitle: "5 åˆ†ã§ WhatsApp ã‚’æ¥ç¶š"
subtitle: "WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šå®Œå…¨ã‚¬ã‚¤ãƒ‰"
description: "Clawdbot ã§ WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«ï¼ˆBaileys ãƒ™ãƒ¼ã‚¹ï¼‰ã‚’è¨­å®šãƒ»ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚QR ã‚³ãƒ¼ãƒ‰ãƒ­ã‚°ã‚¤ãƒ³ã€è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã€DM ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã€ã‚°ãƒ«ãƒ¼ãƒ—ã‚µãƒãƒ¼ãƒˆã‚’å«ã¿ã¾ã™ã€‚"
tags:
  - "whatsapp"
  - "ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®š"
  - "baileys"
  - "qr-login"
prerequisite:
  - "start-getting-started"
  - "start-gateway-startup"
order: 70
---

# WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šå®Œå…¨ã‚¬ã‚¤ãƒ‰

## å­¦ã‚“ã å¾Œã€ã§ãã‚‹ã“ã¨

- QR ã‚³ãƒ¼ãƒ‰ã§ WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ Clawdbot ã«ãƒªãƒ³ã‚¯ã™ã‚‹
- è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® WhatsApp ã‚µãƒãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹
- DM ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’è¨­å®šã™ã‚‹ï¼ˆãƒšã‚¢ãƒªãƒ³ã‚°/ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ/å…¬é–‹ï¼‰
- WhatsApp ã‚°ãƒ«ãƒ¼ãƒ—ã‚µãƒãƒ¼ãƒˆã‚’æœ‰åŠ¹åŒ–ãƒ»ç®¡ç†ã™ã‚‹
- è‡ªå‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèªã¨æ—¢èª­é€šçŸ¥ã‚’è¨­å®šã™ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

WhatsApp ã¯æœ€ã‚‚ã‚ˆãä½¿ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ãŒã€AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¯ã¾ã  WhatsApp ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã‚ãªãŸã¯ä»¥ä¸‹ã‚’æœ›ã‚“ã§ã„ã¾ã™ï¼š

- ã‚¢ãƒ—ãƒªã‚’åˆ‡ã‚Šæ›¿ãˆãšã« WhatsApp ã§ç›´æ¥ AI ã¨å¯¾è©±ã™ã‚‹
- AI ã«èª°ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã§ãã‚‹ã‹ã‚’åˆ¶å¾¡ã™ã‚‹
- è¤‡æ•°ã® WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ï¼ˆä»•äº‹/å€‹äººã‚’åˆ†é›¢ï¼‰

## ã„ã¤ã“ã®æ–¹æ³•ã‚’ä½¿ã†ã‹

- WhatsApp ã§ AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ
- ä»•äº‹/å€‹äººç”¨ WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆ†é›¢ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ
- AI ã«èª°ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã§ãã‚‹ã‹ã‚’æ­£ç¢ºã«åˆ¶å¾¡ã—ãŸã„å ´åˆ

::: info Baileys ã¨ã¯ï¼Ÿ

Baileys ã¯ WhatsApp Web ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚Šã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒ WhatsApp Web ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµŒç”±ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€å—ä¿¡ã§ãã¾ã™ã€‚Clawdbot ã¯ Baileys ã‚’ä½¿ç”¨ã—ã¦ WhatsApp ã«æ¥ç¶šã—ã€WhatsApp Business API ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒãªãã€ã‚ˆã‚Šãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§æŸ”è»Ÿã§ã™ã€‚

:::

## ğŸ’ é–‹å§‹å‰ã®æº–å‚™

WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¨­å®šã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- [ ] Clawdbot Gateway ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»èµ·å‹•æ¸ˆã¿
- [ ] [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](../../start/getting-started/)ã‚’å®Œäº†æ¸ˆã¿
- [ ] ä½¿ç”¨å¯èƒ½ãªé›»è©±ç•ªå·ãŒã‚ã‚‹ï¼ˆäºˆå‚™ã®ç•ªå·ã‚’æ¨å¥¨ï¼‰
- [ ] WhatsApp ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ãƒãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ï¼ˆQR ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ç”¨ï¼‰

::: warning æ³¨æ„äº‹é …

- **ç‹¬ç«‹ã—ãŸç•ªå·ã®ä½¿ç”¨ã‚’æ¨å¥¨**ï¼šåˆ¥ã® SIM ã‚«ãƒ¼ãƒ‰ã¾ãŸã¯å¤ã„ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚’ä½¿ç”¨ã—ã€å€‹äººã®ä½¿ç”¨ã‚’å¦¨ã’ãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„
- **ä»®æƒ³ç•ªå·ã®å›é¿**ï¼šTextNowã€Google Voice ãªã©ã®ä»®æƒ³ç•ªå·ã¯ WhatsApp ã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™
- **Node ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ï¼šWhatsApp ã¨ Telegram ã¯ Bun ã§ã¯ä¸å®‰å®šã§ã™ã€‚Node â‰¥22 ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

:::

## æ ¸å¿ƒæ¦‚å¿µ

WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«ã®æ ¸å¿ƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼š

```
ã‚ãªãŸã® WhatsApp æºå¸¯ â†--(QR ã‚³ãƒ¼ãƒ‰)--> Baileys â†--â†’ Clawdbot Gateway
                                                        â†“
                                                    AI Agent
                                                        â†“
                                                  ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿”ä¿¡
```

**é‡è¦ãªæ¦‚å¿µ**ï¼š

1. **Baileys ã‚»ãƒƒã‚·ãƒ§ãƒ³**ï¼šWhatsApp Linked Devices çµŒç”±ã§æ¥ç¶šã‚’ç¢ºç«‹
2. **DM ãƒãƒªã‚·ãƒ¼**ï¼šèª°ãŒ AI ã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã§ãã‚‹ã‹ã‚’åˆ¶å¾¡
3. **è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚µãƒãƒ¼ãƒˆ**ï¼š1 ã¤ã® Gateway ã§è¤‡æ•°ã® WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†
4. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèª**ï¼šè‡ªå‹•çš„ã«çµµæ–‡å­—/æ—¢èª­é€šçŸ¥ã‚’é€ä¿¡ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Š

## æ‰‹é †ã‚’è¿½ã£ã¦

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šåŸºæœ¬è¨­å®šã‚’æ§‹æˆã™ã‚‹

**ãªãœå¿…è¦ã‹**
WhatsApp ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã—ã€AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã®æ‚ªç”¨ã‚’é˜²ããŸã‚ã§ã™ã€‚

`~/.clawdbot/clawdbot.json` ã‚’ç·¨é›†ã—ã€WhatsApp è¨­å®šã‚’è¿½åŠ ï¼š

```json
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "pairing",
      "allowFrom": ["+15551234567"]
    }
  }
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜**ï¼š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--- | --- | --- | ---|
| `dmPolicy` | string | `"pairing"` | DM ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼ï¼š`pairing`ï¼ˆãƒšã‚¢ãƒªãƒ³ã‚°ï¼‰ã€`allowlist`ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆï¼‰ã€`open`ï¼ˆå…¬é–‹ï¼‰ã€`disabled`ï¼ˆç„¡åŠ¹åŒ–ï¼‰ |
| `allowFrom` | string[] | `[]` | é€ä¿¡è€…ã®é›»è©±ç•ªå·ãƒªã‚¹ãƒˆï¼ˆE.164 å½¢å¼ã€ä¾‹ï¼š`+15551234567`ï¼‰ |

**DM ãƒãƒªã‚·ãƒ¼ã®æ¯”è¼ƒ**ï¼š

| ãƒãƒªã‚·ãƒ¼ | å‹•ä½œ | é©ç”¨ã‚·ãƒŠãƒªã‚ª |
|--- | --- | ---|
| `pairing` | ä¸æ˜ãªé€ä¿¡è€…ã«ã¯ãƒšã‚¢ãƒªãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ãŒé€ä¿¡ã•ã‚Œã€æ‰‹å‹•ã§æ‰¿èªãŒå¿…è¦ | **æ¨å¥¨**ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨åˆ©ä¾¿æ€§ã®ãƒãƒ©ãƒ³ã‚¹ |
| `allowlist` | `allowFrom` ãƒªã‚¹ãƒˆå†…ã®ç•ªå·ã®ã¿è¨±å¯ | å³æ ¼ãªåˆ¶å¾¡ã€æ—¢çŸ¥ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ |
| `open` | èª°ã§ã‚‚é€ä¿¡å¯èƒ½ï¼ˆ`allowFrom` ã« `"*"` ã‚’å«ã‚ã‚‹å¿…è¦ã‚ã‚Šï¼‰ | å…¬é–‹ãƒ†ã‚¹ãƒˆã‚„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹ |
| `disabled` | ã™ã¹ã¦ã® WhatsApp ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç„¡è¦– | ä¸€æ™‚çš„ã«ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ç„¡åŠ¹åŒ– |

**ç¢ºèªã™ã¹ãç‚¹**ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã€JSON å½¢å¼ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šWhatsApp ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹

**ãªãœå¿…è¦ã‹**
QR ã‚³ãƒ¼ãƒ‰ã§ WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ Clawdbot ã«ãƒªãƒ³ã‚¯ã—ã€Baileys ãŒã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã§ã™ã€‚

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œï¼š

```bash
clawdbot channels login whatsapp
```

**è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ã‚°ã‚¤ãƒ³**ï¼š

ç‰¹å®šã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ï¼š

```bash
clawdbot channels login whatsapp --account work
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ï¼š

```bash
clawdbot channels login whatsapp
```

**æ“ä½œæ‰‹é †**ï¼š

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« QR ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆã¾ãŸã¯ CLI ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«è¡¨ç¤ºï¼‰
2. WhatsApp ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚¢ãƒ—ãƒªã‚’é–‹ã
3. **Settings â†’ Linked Devices** ã«ç§»å‹•
4. **Link a Device** ã‚’ã‚¿ãƒƒãƒ—
5. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚ŒãŸ QR ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³

**ç¢ºèªã™ã¹ãç‚¹**ï¼š

```
âœ“ WhatsApp linked successfully!
Credentials stored: ~/.clawdbot/credentials/whatsapp/default/creds.json
```

::: tip èªè¨¼æƒ…å ±ã®ä¿å­˜

WhatsApp ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼æƒ…å ±ã¯ `~/.clawdbot/credentials/whatsapp/<accountId>/creds.json` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚åˆå›ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€æ¬¡å›ã®èµ·å‹•æ™‚ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«å¾©å…ƒã•ã‚Œã€QR ã‚³ãƒ¼ãƒ‰ã‚’å†åº¦ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

:::

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šGateway ã‚’èµ·å‹•ã™ã‚‹

**ãªãœå¿…è¦ã‹**
Gateway ã‚’èµ·å‹•ã—ã¦ WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡ã‚’é–‹å§‹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚

```bash
clawdbot gateway
```

ã¾ãŸã¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ï¼š

```bash
clawdbot gateway start
```

**ç¢ºèªã™ã¹ãç‚¹**ï¼š

```
[WhatsApp] Connected to WhatsApp Web
[WhatsApp] Default account linked: +15551234567
Gateway listening on ws://127.0.0.1:18789
```

### ã‚¹ãƒ†ãƒƒãƒ— 4ï¼šãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹

**ãªãœå¿…è¦ã‹**
WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«ã®è¨­å®šãŒæ­£ã—ãã€æ­£å¸¸ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€å—ä¿¡ã§ãã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã§ã™ã€‚

WhatsApp ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‹ã‚‰ãƒªãƒ³ã‚¯ã•ã‚ŒãŸç•ªå·ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ï¼š

```
ã“ã‚“ã«ã¡ã¯
```

**ç¢ºèªã™ã¹ãç‚¹**ï¼š
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å—ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- WhatsApp ã§ AI ã®è¿”ä¿¡ã‚’å—ã‘å–ã‚‹

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…**

- [ ] Gateway ãƒ­ã‚°ã« `[WhatsApp] Received message from +15551234567` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] WhatsApp ã§ AI ã®è¿”ä¿¡ã‚’å—ã‘å–ã‚‹
- [ ] è¿”ä¿¡å†…å®¹ãŒå…¥åŠ›ã«é–¢é€£ã—ã¦ã„ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ— 5ï¼šé«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### è‡ªå‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèªã‚’æœ‰åŠ¹åŒ–

`clawdbot.json` ã«è¿½åŠ ï¼š

```json
{
  "channels": {
    "whatsapp": {
      "ackReaction": {
        "emoji": "ğŸ‘€",
        "direct": true,
        "group": "mentions"
      }
    }
  }
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜**ï¼š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--- | --- | --- | ---|
| `emoji` | string | - | ç¢ºèªçµµæ–‡å­—ï¼ˆ`"ğŸ‘€"`ã€`"âœ…"` ãªã©ï¼‰ã€ç©ºæ–‡å­—åˆ—ã¯ç„¡åŠ¹åŒ– |
| `direct` | boolean | `true` | ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ç¢ºèªã‚’é€ä¿¡ã™ã‚‹ã‹ã©ã†ã‹ |
| `group` | string | `"mentions"` | ã‚°ãƒ«ãƒ¼ãƒ—ã§ã®å‹•ä½œï¼š`"always"`ï¼ˆã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰ã€`"mentions"`ï¼ˆ@ ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã®ã¿ï¼‰ã€`"never"`ï¼ˆé€ä¿¡ã—ãªã„ï¼‰ |

#### æ—¢èª­é€šçŸ¥ã‚’è¨­å®š

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Clawdbot ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•çš„ã«æ—¢èª­ã¨ã—ã¦ãƒãƒ¼ã‚¯ã—ã¾ã™ï¼ˆé’ã„ãƒã‚§ãƒƒã‚¯ï¼‰ã€‚ç„¡åŠ¹åŒ–ã™ã‚‹å ´åˆï¼š

```json
{
  "channels": {
    "whatsapp": {
      "sendReadReceipts": false
    }
  }
}
```

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ¶é™ã‚’èª¿æ•´

```json
{
  "channels": {
    "whatsapp": {
      "textChunkLimit": 4000,
      "mediaMaxMb": 50,
      "chunkMode": "length"
    }
  }
}
```

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--- | --- | ---|
| `textChunkLimit` | 4000 | 1 ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æœ€å¤§æ–‡å­—æ•° |
| `mediaMaxMb` | 50 | å—ä¿¡ã™ã‚‹ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€å¤§ã‚µã‚¤ã‚ºï¼ˆMBï¼‰ |
| `chunkMode` | `"length"` | åˆ†å‰²ãƒ¢ãƒ¼ãƒ‰ï¼š`"length"`ï¼ˆé•·ã•ã§åˆ†å‰²ï¼‰ã€`"newline"`ï¼ˆæ®µè½ã§åˆ†å‰²ï¼‰ |

**ç¢ºèªã™ã¹ãç‚¹**ï¼šè¨­å®šãŒæœ‰åŠ¹ã«ãªã‚‹ã¨ã€é•·ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè‡ªå‹•çš„ã«åˆ†å‰²ã•ã‚Œã€ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚ºãŒåˆ¶å¾¡ã•ã‚Œã¾ã™ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ 1ï¼šQR ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³å¤±æ•—

**ç—‡çŠ¶**ï¼šQR ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸå¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«æ¥ç¶šå¤±æ•—ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

**åŸå› **ï¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®å•é¡Œã¾ãŸã¯ WhatsApp ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸å®‰å®šæ€§ã€‚

**è§£æ±ºæ–¹æ³•**ï¼š

1. ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª
2. Gateway ã‚µãƒ¼ãƒãƒ¼ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª
3. ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦å†ãƒ­ã‚°ã‚¤ãƒ³ï¼š
   ```bash
   clawdbot channels logout whatsapp
   clawdbot channels login whatsapp
   ```

### å•é¡Œ 2ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœªé…ä¿¡ã¾ãŸã¯é…å»¶

**ç—‡çŠ¶**ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ãŸå¾Œã€è¿”ä¿¡ãŒæ¥ã‚‹ã¾ã§æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚

**åŸå› **ï¼šGateway ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ãªã„ã‹ã€WhatsApp æ¥ç¶šãŒåˆ‡æ–­ã•ã‚Œã¦ã„ã‚‹ã€‚

**è§£æ±ºæ–¹æ³•**ï¼š

1. Gateway ã®çŠ¶æ…‹ã‚’ç¢ºèªï¼š`clawdbot gateway status`
2. Gateway ã‚’å†èµ·å‹•ï¼š`clawdbot gateway restart`
3. ãƒ­ã‚°ã‚’ç¢ºèªï¼š`clawdbot logs --follow`

### å•é¡Œ 3ï¼šãƒšã‚¢ãƒªãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ãŒå±Šã‹ãªã„

**ç—‡çŠ¶**ï¼šè¦‹çŸ¥ã‚‰ã¬äººã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€ã‚‰ã‚Œã¦ããŸãŒã€ãƒšã‚¢ãƒªãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ãŒå±Šã‹ãªã„ã€‚

**åŸå› **ï¼š`dmPolicy` ãŒ `pairing` ã«è¨­å®šã•ã‚Œã¦ã„ãªã„ã€‚

**è§£æ±ºæ–¹æ³•**ï¼š

`clawdbot.json` å†…ã® `dmPolicy` è¨­å®šã‚’ç¢ºèªï¼š

```json
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "pairing"  // â† "pairing" ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
    }
  }
}
```

### å•é¡Œ 4ï¼šBun ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®å•é¡Œ

**ç—‡çŠ¶**ï¼šWhatsApp ã¨ Telegram ãŒé »ç¹ã«åˆ‡æ–­ã•ã‚Œã‚‹ã‹ã€ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã™ã‚‹ã€‚

**åŸå› **ï¼šBaileys ã¨ Telegram SDK ã¯ Bun ã§ã¯ä¸å®‰å®šã€‚

**è§£æ±ºæ–¹æ³•**ï¼š

Node â‰¥22 ã§ Gateway ã‚’å®Ÿè¡Œï¼š

ç¾åœ¨ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ç¢ºèªï¼š

```bash
node --version
```

åˆ‡ã‚Šæ›¿ãˆãŒå¿…è¦ãªå ´åˆã€Node ã§ Gateway ã‚’å®Ÿè¡Œï¼š

```bash
clawdbot gateway --runtime node
```

::: tip æ¨å¥¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ 

WhatsApp ã¨ Telegram ãƒãƒ£ãƒ³ãƒãƒ«ã¯ Node ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®ä½¿ç”¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚Bun ã‚’ä½¿ç”¨ã™ã‚‹ã¨æ¥ç¶šãŒä¸å®‰å®šã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

:::

## ã¾ã¨ã‚

WhatsApp ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®šã®è¦ç‚¹ï¼š

1. **åŸºæœ¬è¨­å®š**ï¼š`dmPolicy` + `allowFrom` ã§ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡
2. **ãƒ­ã‚°ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹**ï¼š`clawdbot channels login whatsapp` ã§ QR ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³
3. **è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ï¼š`--account` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¤‡æ•°ã® WhatsApp ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†
4. **é«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³**ï¼šè‡ªå‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèªã€æ—¢èª­é€šçŸ¥ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ¶é™
5. **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼šGateway ã®çŠ¶æ…‹ã€ãƒ­ã‚°ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’ç¢ºèª

## æ¬¡å›ã®äºˆå‘Š

> æ¬¡å›ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[Telegram ãƒãƒ£ãƒ³ãƒãƒ«](../telegram/)** è¨­å®šã‚’å­¦ã³ã¾ã™ã€‚
>
> å­¦ã¶ã“ã¨ï¼š
> - Bot Token ã‚’ä½¿ç”¨ã—ã¦ Telegram Bot ã‚’è¨­å®š
> - ã‚³ãƒãƒ³ãƒ‰ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¯ã‚¨ãƒªã‚’è¨­å®š
> - Telegram å›ºæœ‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã‚’ç®¡ç†

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’å±•é–‹</strong></summary>

> æ›´æ–°æ—¥æ™‚ï¼š2026-01-27

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
|--- | --- | ---|
| WhatsApp è¨­å®šå‹å®šç¾© | [`src/config/types.whatsapp.ts`](https://github.com/moltbot/moltbot/blob/main/src/config/types.whatsapp.ts) | 1-160 |
| WhatsApp è¨­å®š Schema | [`src/config/zod-schema.providers-whatsapp.ts`](https://github.com/moltbot/moltbot/blob/main/src/config/zod-schema.providers-whatsapp.ts) | 13-100 |
| WhatsApp ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨­å®š | [`src/channels/plugins/onboarding/whatsapp.ts`](https://github.com/moltbot/moltbot/blob/main/src/channels/plugins/onboarding/whatsapp.ts) | 1-341 |
| WhatsApp ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | [`docs/channels/whatsapp.md`](https://github.com/moltbot/moltbot/blob/main/docs/channels/whatsapp.md) | 1-363 |
| WhatsApp ãƒ­ã‚°ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ« | [`src/channels/plugins/agent-tools/whatsapp-login.ts`](https://github.com/moltbot/moltbot/blob/main/src/channels/plugins/agent-tools/whatsapp-login.ts) | 1-72 |
| WhatsApp Actions ãƒ„ãƒ¼ãƒ« | [`src/agents/tools/whatsapp-actions.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/whatsapp-actions.ts) | 1-42 |

**é‡è¦ãªè¨­å®šé …ç›®**ï¼š
- `dmPolicy`: DM ã‚¢ã‚¯ã‚»ã‚¹ãƒãƒªã‚·ãƒ¼ï¼ˆ`pairing`/`allowlist`/`open`/`disabled`ï¼‰
- `allowFrom`: è¨±å¯ã•ã‚ŒãŸé€ä¿¡è€…ãƒªã‚¹ãƒˆï¼ˆE.164 å½¢å¼ã®é›»è©±ç•ªå·ï¼‰
- `ackReaction`: è‡ªå‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèªè¨­å®šï¼ˆ`{emoji, direct, group}`ï¼‰
- `sendReadReceipts`: æ—¢èª­é€šçŸ¥ã‚’é€ä¿¡ã™ã‚‹ã‹ã©ã†ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ `true`ï¼‰
- `textChunkLimit`: ãƒ†ã‚­ã‚¹ãƒˆåˆ†å‰²åˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 4000 æ–‡å­—ï¼‰
- `mediaMaxMb`: ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 50 MBï¼‰

**é‡è¦ãªé–¢æ•°**ï¼š
- `loginWeb()`: WhatsApp QR ã‚³ãƒ¼ãƒ‰ãƒ­ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œ
- `startWebLoginWithQr()`: QR ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ã‚’é–‹å§‹
- `sendReactionWhatsApp()`: WhatsApp ã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
- `handleWhatsAppAction()`: WhatsApp å›ºæœ‰ã®æ“ä½œã‚’å‡¦ç†ï¼ˆãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãªã©ï¼‰

**é‡è¦ãªå®šæ•°**ï¼š
- `DEFAULT_ACCOUNT_ID`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ IDï¼ˆ`"default"`ï¼‰
- `creds.json`: WhatsApp èªè¨¼èªè¨¼æƒ…å ±ä¿å­˜ãƒ‘ã‚¹

</details>
