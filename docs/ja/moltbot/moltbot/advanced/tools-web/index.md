---
title: "Webæ¤œç´¢ã¨ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ï¼šBraveã€Perplexityã€Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º | Clawdbotãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"
sidebarTitle: "AIã‚’Webæ¤œç´¢ã•ã›ã‚‹"
subtitle: "Webæ¤œç´¢ã¨ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«"
description: "Clawdbotã®web_searchãŠã‚ˆã³web_fetchãƒ„ãƒ¼ãƒ«ã®è¨­å®šã¨ä½¿ç”¨æ–¹æ³•ã‚’å­¦ã³ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®Webæƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€Brave Search APIã¨Perplexity Sonarã®è¨­å®šã€Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡ºã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã€ä¸€èˆ¬çš„ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æ‰±ã„ã¾ã™ã€‚APIã‚­ãƒ¼ã®å–å¾—ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã€åœ°åŸŸè¨€èªè¨­å®šã€Firecrawlãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šãŒå«ã¾ã‚Œã¾ã™ã€‚"
tags:
  - "advanced"
  - "tools"
  - "web"
  - "search"
  - "fetch"
prerequisite:
  - "start-getting-started"
order: 230
---

# Webæ¤œç´¢ã¨ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«

## å­¦ç¿’å¾Œã§ãã‚‹ã“ã¨

- **web_search**ãƒ„ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒBrave Searchã¾ãŸã¯Perplexity Sonarã‚’ä½¿ç”¨ã—ã¦Webæ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- **web_fetch**ãƒ„ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒWebãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦æŠ½å‡ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- 2ã¤ã®ãƒ„ãƒ¼ãƒ«ã®é•ã„ã¨ä½¿ç”¨ã‚·ãƒŠãƒªã‚ªã‚’ç†è§£ã™ã‚‹
- APIã‚­ãƒ¼ã¨é«˜åº¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆåœ°åŸŸã€è¨€èªã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ãªã©ï¼‰ã‚’è¨­å®šã™ã‚‹
- ä¸€èˆ¬çš„ãªå•é¡Œï¼ˆAPIã‚­ãƒ¼ã‚¨ãƒ©ãƒ¼ã€ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¤±æ•—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å•é¡Œãªã©ï¼‰ã‚’ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¯é™çš„ã§ã‚ã‚Šã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®Webæƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ï¼š

- AIã¯ä»Šæ—¥ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’çŸ¥ã‚Šã¾ã›ã‚“
- AIã¯æœ€æ–°ã®APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’æ¤œç´¢ã§ãã¾ã›ã‚“
- AIã¯ç‰¹å®šã®Webã‚µã‚¤ãƒˆã®æœ€æ–°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã§ãã¾ã›ã‚“

AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚’ã€ŒWebæ¥ç¶šã€ã•ã›ãŸã„ãŒã€æ¬¡ã®ã“ã¨ãŒä¸æ˜ã§ã™ï¼š

- Braveã¨Perplexityã®ã©ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã¹ãã‹ï¼Ÿ
- APIã‚­ãƒ¼ã¯ã©ã“ã‹ã‚‰å–å¾—ã™ã‚‹ã‹ï¼Ÿã©ã†è¨­å®šã™ã‚‹ã‹ï¼Ÿ
- web_searchã¨web_fetchã®é•ã„ã¯ï¼Ÿ
- å‹•çš„ãªWebãƒšãƒ¼ã‚¸ã‚„ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ãªã‚µã‚¤ãƒˆã‚’ã©ã†æ‰±ã†ã‹ï¼Ÿ

## ã„ã¤ä½¿ç”¨ã™ã‚‹ã‹

- **web_search**ï¼šæƒ…å ±ã®é«˜é€Ÿæ¤œç´¢ã€è¤‡æ•°ã®Webã‚µã‚¤ãƒˆã®æ¤œç´¢ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ‹ãƒ¥ãƒ¼ã‚¹ã€ä¾¡æ ¼ã€å¤©æ°—ãªã©ï¼‰ã®å–å¾—ãŒå¿…è¦ãªå ´åˆ
- **web_fetch**ï¼šç‰¹å®šã®Webãƒšãƒ¼ã‚¸ã®å®Œå…¨ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡ºã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®èª­ã¿å–ã‚Šã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã®åˆ†æãŒå¿…è¦ãªå ´åˆ

::: tip ãƒ„ãƒ¼ãƒ«é¸æŠã‚¬ã‚¤ãƒ‰
| ã‚·ãƒŠãƒªã‚ª | æ¨å¥¨ãƒ„ãƒ¼ãƒ« | ç†ç”± |
|--- | --- | ---|
| è¤‡æ•°ã®ã‚½ãƒ¼ã‚¹ã®æ¤œç´¢ | web_search | 1å›ã®ã‚¯ã‚¨ãƒªã§è¤‡æ•°ã®çµæœã‚’è¿”ã™ |
| å˜ä¸€ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º | web_fetch | å®Œå…¨ãªãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ã€Markdownã‚’ã‚µãƒãƒ¼ãƒˆ |
| å‹•çš„ãƒšãƒ¼ã‚¸/ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ | [browser](../tools-browser/) | JavaScriptã®å®Ÿè¡ŒãŒå¿…è¦ |
| ã‚·ãƒ³ãƒ—ãƒ«ãªé™çš„ãƒšãƒ¼ã‚¸ | web_fetch | è»½é‡ã§é«˜é€Ÿ |
:::

## ğŸ’ é–‹å§‹å‰ã®æº–å‚™

::: warning å‰ææ¡ä»¶
ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](../../start/getting-started/)ã‚’å®Œäº†ã—ã€GatewayãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚
:::

- Gatewayãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒå®Ÿè¡Œä¸­
- åŸºæœ¬çš„ãªãƒãƒ£ãƒãƒ«è¨­å®šãŒå®Œäº†ï¼ˆå°‘ãªãã¨ã‚‚1ã¤ã®ä½¿ç”¨å¯èƒ½ãªé€šä¿¡ãƒãƒ£ãƒãƒ«ï¼‰
- å°‘ãªãã¨ã‚‚1ã¤ã®æ¤œç´¢ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIã‚­ãƒ¼ãŒæº–å‚™å®Œäº†ï¼ˆBraveã¾ãŸã¯Perplexity/OpenRouterï¼‰

::: info æ³¨æ„
web_searchã¨web_fetchã¯**è»½é‡ãƒ„ãƒ¼ãƒ«**ã§ã‚ã‚Šã€JavaScriptã‚’å®Ÿè¡Œã—ã¾ã›ã‚“ã€‚ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ãªWebã‚µã‚¤ãƒˆã‚„è¤‡é›‘ãªå‹•çš„ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã¯ã€[browserãƒ„ãƒ¼ãƒ«](../tools-browser/)ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
:::

## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

### 2ã¤ã®ãƒ„ãƒ¼ãƒ«ã®é•ã„

**web_search**ï¼šWebæ¤œç´¢ãƒ„ãƒ¼ãƒ«
- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆBraveã¾ãŸã¯Perplexityï¼‰ã‚’å‘¼ã³å‡ºã—ã¦æ¤œç´¢çµæœã‚’è¿”ã™
- **Brave**ï¼šæ§‹é€ åŒ–ã•ã‚ŒãŸçµæœï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€URLã€èª¬æ˜ã€å…¬é–‹æ—¥æ™‚ï¼‰ã‚’è¿”ã™
- **Perplexity**ï¼šAIãŒåˆæˆã—ãŸå›ç­”ã¨å¼•ç”¨ãƒªãƒ³ã‚¯ã‚’è¿”ã™

**web_fetch**ï¼šWebãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«
- æŒ‡å®šã•ã‚ŒãŸURLã«HTTP GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
- Readabilityã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¦ä¸»è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡ºï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€åºƒå‘Šãªã©ã‚’å‰Šé™¤ï¼‰
- HTMLã‚’Markdownã¾ãŸã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›
- JavaScriptã¯å®Ÿè¡Œã—ãªã„

### ãªãœ2ã¤ã®ãƒ„ãƒ¼ãƒ«ãŒå¿…è¦ãªã®ã‹ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     web_search      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒAIã«è³ªå•â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚   æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³API   â”‚
â”‚ "æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹" â”‚                      â”‚   (Brave/Perplexity) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                                        â†“
   AIãŒ5ã¤ã®çµæœã‚’å–å¾—                        æ¤œç´¢çµæœã‚’è¿”ã™
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     web_fetch       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIãŒçµæœã‚’é¸æŠ  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚   å¯¾è±¡Webãƒšãƒ¼ã‚¸    â”‚
â”‚ "ãƒªãƒ³ã‚¯1ã‚’é–‹ã" â”‚                      â”‚   (HTTP/HTTPS)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                                        â†“
   AIãŒå®Œå…¨ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—                    Markdownã‚’æŠ½å‡º
```

**å…¸å‹çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ï¼š
1. AIãŒ**web_search**ã‚’ä½¿ç”¨ã—ã¦é–¢é€£æƒ…å ±ã‚’æ¤œç´¢
2. AIãŒæ¤œç´¢çµæœã‹ã‚‰é©åˆ‡ãªãƒªãƒ³ã‚¯ã‚’é¸æŠ
3. AIãŒ**web_fetch**ã‚’ä½¿ç”¨ã—ã¦ç‰¹å®šã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
4. AIãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«åŸºã¥ã„ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«å›ç­”

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

ä¸¡æ–¹ã®ãƒ„ãƒ¼ãƒ«ã¯é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¸›ã‚‰ã™ãŸã‚ã«çµ„ã¿è¾¼ã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‚™ãˆã¦ã„ã¾ã™ï¼š

| ãƒ„ãƒ¼ãƒ« | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆTTL | è¨­å®šé …ç›® |
|--- | --- | --- | ---|
| web_search | `provider:query:count:country:search_lang:ui_lang:freshness` | 15åˆ† | `tools.web.search.cacheTtlMinutes` |
| web_fetch | `fetch:url:extractMode:maxChars` | 15åˆ† | `tools.web.fetch.cacheTtlMinutes` |

::: info ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒªãƒƒãƒˆ
- å¤–éƒ¨APIã®å‘¼ã³å‡ºã—å›æ•°ã‚’æ¸›ã‚‰ã™ï¼ˆã‚³ã‚¹ãƒˆç¯€ç´„ï¼‰
- å¿œç­”é€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã‚‹ï¼ˆåŒã˜ã‚¯ã‚¨ãƒªã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è¿”ã™ï¼‰
- é »ç¹ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚ˆã‚‹ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’å›é¿
:::

## ã“ã“ã‹ã‚‰å§‹ã‚ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæ¤œç´¢ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’é¸æŠ

Clawdbotã¯2ç¨®é¡ã®æ¤œç´¢ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

| ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | APIã‚­ãƒ¼ |
|--- | --- | --- | ---|
| **Brave**ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | é«˜é€Ÿã€æ§‹é€ åŒ–ã•ã‚ŒãŸçµæœã€ç„¡æ–™å±¤ | å¾“æ¥ã®æ¤œç´¢çµæœ | `BRAVE_API_KEY` |
| **Perplexity** | AIåˆæˆå›ç­”ã€å¼•ç”¨ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | Perplexityã¾ãŸã¯OpenRouterã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ | `OPENROUTER_API_KEY` ã¾ãŸã¯ `PERPLEXITY_API_KEY` |

::: tip æ¨å¥¨ã•ã‚Œã‚‹é¸æŠ
- **åˆå¿ƒè€…**ï¼šBraveã®ä½¿ç”¨ã‚’æ¨å¥¨ï¼ˆç„¡æ–™å±¤ã§æ—¥å¸¸ä½¿ç”¨ã«ã¯ååˆ†ï¼‰
- **AIã®è¦ç´„ãŒå¿…è¦**ï¼šPerplexityã‚’é¸æŠï¼ˆç”Ÿã®çµæœã§ã¯ãªãåˆæˆã•ã‚ŒãŸå›ç­”ã‚’è¿”ã™ï¼‰
:::

### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šBrave Search APIã‚­ãƒ¼ã‚’å–å¾—

**Braveã‚’ä½¿ç”¨ã™ã‚‹ç†ç”±**ï¼šå¯›å¤§ãªç„¡æ–™å±¤ã€é«˜é€Ÿã€æ§‹é€ åŒ–ã•ã‚ŒãŸçµæœã§è§£æã—ã‚„ã™ã„

#### 2.1 Brave Search APIã«ç™»éŒ²

1. https://brave.com/search/api/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãƒ­ã‚°ã‚¤ãƒ³
3. Dashboardã§ **"Data for Search"** ãƒ—ãƒ©ãƒ³ã‚’é¸æŠï¼ˆ"Data for AI"ã§ã¯ãªã„ï¼‰
4. APIã‚­ãƒ¼ã‚’ç”Ÿæˆ

#### 2.2 APIã‚­ãƒ¼ã‚’è¨­å®š

**æ–¹æ³•Aï¼šCLIã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰**

```bash
# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨­å®šã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
clawdbot configure --section web
```

CLIã¯APIã‚­ãƒ¼ã®å…¥åŠ›ã‚’æ±‚ã‚ã€`~/.clawdbot/clawdbot.json`ã«ä¿å­˜ã—ã¾ã™ã€‚

**æ–¹æ³•Bï¼šç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨**

APIã‚­ãƒ¼ã‚’Gatewayãƒ—ãƒ­ã‚»ã‚¹ã®ç’°å¢ƒå¤‰æ•°ã«è¿½åŠ ï¼š

```bash
# ~/.clawdbot/.env ã«è¿½åŠ 
echo "BRAVE_API_KEY=ã‚ãªãŸã®APIã‚­ãƒ¼" >> ~/.clawdbot/.env

# Gatewayã‚’å†èµ·å‹•ã—ã¦ç’°å¢ƒå¤‰æ•°ã‚’æœ‰åŠ¹åŒ–
clawdbot gateway restart
```

**æ–¹æ³•Cï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†**

`~/.clawdbot/clawdbot.json`ã‚’ç·¨é›†ï¼š

```json5
{
  "tools": {
    "web": {
      "search": {
        "apiKey": "BRAVE_API_KEY_HERE",
        "provider": "brave"
      }
    }
  }
}
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼š

- è¨­å®šä¿å­˜å¾Œã€Gatewayã‚’å†èµ·å‹•
- è¨­å®šæ¸ˆã¿ã®ãƒãƒ£ãƒãƒ«ï¼ˆWhatsAppãªã©ï¼‰ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ï¼šã€Œæœ€æ–°ã®AIãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’æ¤œç´¢ã—ã¦ã€
- AIãŒæ¤œç´¢çµæœã‚’è¿”ã™ã¯ãšï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€URLã€èª¬æ˜ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šweb_searchã®é«˜åº¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š

`~/.clawdbot/clawdbot.json`ã§ã•ã‚‰ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã§ãã¾ã™ï¼š

```json5
{
  "tools": {
    "web": {
      "search": {
        "enabled": true,           // æœ‰åŠ¹ã«ã™ã‚‹ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰
        "provider": "brave",       // æ¤œç´¢ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
        "apiKey": "BRAVE_API_KEY_HERE",
        "maxResults": 5,          // è¿”å›çµæœæ•°ï¼ˆ1-10ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ5ï¼‰
        "timeoutSeconds": 30,       // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ30ï¼‰
        "cacheTtlMinutes": 15      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ15åˆ†ï¼‰
      }
    }
  }
}
```

#### 3.1 åœ°åŸŸã¨è¨€èªã‚’è¨­å®š

æ¤œç´¢çµæœã‚’ã‚ˆã‚Šæ­£ç¢ºã«ï¼š

```json5
{
  "tools": {
    "web": {
      "search": {
        "provider": "brave",
        "apiKey": "BRAVE_API_KEY_HERE",
        "maxResults": 10,
        // ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šAIãŒå‘¼ã³å‡ºã—æ™‚ã«ã“ã‚Œã‚‰ã®å€¤ã‚’ä¸Šæ›¸ãå¯èƒ½
        "defaultCountry": "US",   // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå›½ï¼ˆ2æ–‡å­—ã‚³ãƒ¼ãƒ‰ï¼‰
        "defaultSearchLang": "en",  // æ¤œç´¢çµæœã®è¨€èª
        "defaultUiLang": "en"      // UIè¦ç´ ã®è¨€èª
      }
    }
  }
}
```

**ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹å›½ã‚³ãƒ¼ãƒ‰**ï¼š`US`ï¼ˆã‚¢ãƒ¡ãƒªã‚«ï¼‰ã€`DE`ï¼ˆãƒ‰ã‚¤ãƒ„ï¼‰ã€`FR`ï¼ˆãƒ•ãƒ©ãƒ³ã‚¹ï¼‰ã€`CN`ï¼ˆä¸­å›½ï¼‰ã€`JP`ï¼ˆæ—¥æœ¬ï¼‰ã€`ALL`ï¼ˆå…¨ä¸–ç•Œï¼‰

**ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹è¨€èªã‚³ãƒ¼ãƒ‰**ï¼š`en`ï¼ˆè‹±èªï¼‰ã€`zh`ï¼ˆä¸­å›½èªï¼‰ã€`fr`ï¼ˆãƒ•ãƒ©ãƒ³ã‚¹èªï¼‰ã€`de`ï¼ˆãƒ‰ã‚¤ãƒ„èªï¼‰ã€`es`ï¼ˆã‚¹ãƒšã‚¤ãƒ³èªï¼‰

#### 3.2 æ™‚é–“ãƒ•ã‚£ãƒ«ã‚¿ã‚’è¨­å®šï¼ˆBraveå°‚ç”¨ï¼‰

```json5
{
  "tools": {
    "web": {
      "search": {
        "provider": "brave",
        "apiKey": "BRAVE_API_KEY_HERE",
        // ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šAIãŒå‘¼ã³å‡ºã—æ™‚ã«ä¸Šæ›¸ãå¯èƒ½
        "defaultFreshness": "pw"  // éå»1é€±é–“ã®çµæœã‚’ãƒ•ã‚£ãƒ«ã‚¿
      }
    }
  }
}
```

**Freshnessã®å€¤**ï¼š
- `pd`ï¼šéå»24æ™‚é–“
- `pw`ï¼šéå»1é€±é–“
- `pm`ï¼šéå»1ãƒ¶æœˆ
- `py`ï¼šéå»1å¹´
- `YYYY-MM-DDtoYYYY-MM-DD`ï¼šã‚«ã‚¹ã‚¿ãƒ æ—¥ä»˜ç¯„å›²ï¼ˆä¾‹ï¼š`2024-01-01to2024-12-31`ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šPerplexity Sonarã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

AIåˆæˆã®å›ç­”ã‚’å¥½ã‚€å ´åˆã€Perplexityã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

#### 4.1 APIã‚­ãƒ¼ã‚’å–å¾—

**æ–¹æ³•Aï¼šPerplexityç›´é€š**

1. https://www.perplexity.ai/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
3. Settingsã§APIã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆ`pplx-`ã§å§‹ã¾ã‚‹ï¼‰

**æ–¹æ³•Bï¼šOpenRouterçµŒç”±ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ä¸è¦ï¼‰**

1. https://openrouter.ai/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãƒãƒ£ãƒ¼ã‚¸ï¼ˆæš—å·é€šè²¨ã¾ãŸã¯ãƒ—ãƒªãƒšã‚¤ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆï¼‰
3. APIã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆ`sk-or-v1-`ã§å§‹ã¾ã‚‹ï¼‰

#### 4.2 Perplexityã‚’è¨­å®š

`~/.clawdbot/clawdbot.json`ã‚’ç·¨é›†ï¼š

```json5
{
  "tools": {
    "web": {
      "search": {
        "enabled": true,
        "provider": "perplexity",
        "perplexity": {
          // APIã‚­ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ç’°å¢ƒå¤‰æ•°ã§ã‚‚è¨­å®šå¯èƒ½ï¼‰
          "apiKey": "sk-or-v1-...",  // ã¾ãŸã¯ "pplx-..."
          // Base URLï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€Clawdbotã¯APIã‚­ãƒ¼ã«åŸºã¥ã„ã¦è‡ªå‹•æ¨è«–ï¼‰
          "baseUrl": "https://openrouter.ai/api/v1",  // ã¾ãŸã¯ "https://api.perplexity.ai"
          // ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆperplexity/sonar-proï¼‰
          "model": "perplexity/sonar-pro"
        }
      }
    }
  }
}
```

::: info Base URLã®è‡ªå‹•æ¨è«–
`baseUrl`ã‚’çœç•¥ã™ã‚‹ã¨ã€Clawdbotã¯APIã‚­ãƒ¼ã®æ¥é ­è¾ã«åŸºã¥ã„ã¦è‡ªå‹•çš„ã«é¸æŠï¼š
- `pplx-...` â†’ `https://api.perplexity.ai`
- `sk-or-...` â†’ `https://openrouter.ai/api/v1`
:::

#### 4.3 Perplexityãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠ

| ãƒ¢ãƒ‡ãƒ« | èª¬æ˜ | é©ç”¨ã‚·ãƒŠãƒªã‚ª |
|--- | --- | ---|
| `perplexity/sonar` | é«˜é€ŸQ&A + Webæ¤œç´¢ | ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¯ã‚¨ãƒªã€é«˜é€Ÿæ¤œç´¢ |
| `perplexity/sonar-pro`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | ãƒãƒ«ãƒã‚¹ãƒ†ãƒƒãƒ—æ¨è«– + Webæ¤œç´¢ | è¤‡é›‘ãªå•é¡Œã€æ¨è«–ãŒå¿…è¦ |
| `perplexity/sonar-reasoning-pro` | æ€è€ƒé€£é–åˆ†æ | æ·±åº¦ç ”ç©¶ã€æ¨è«–ãƒ—ãƒ­ã‚»ã‚¹ãŒå¿…è¦ |

### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šweb_fetchãƒ„ãƒ¼ãƒ«ã‚’è¨­å®š

web_fetchã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã§ã€è¿½åŠ è¨­å®šãªã—ã§ä½¿ç”¨ã§ãã¾ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã§ãã¾ã™ï¼š

```json5
{
  "tools": {
    "web": {
      "fetch": {
        "enabled": true,           // æœ‰åŠ¹ã«ã™ã‚‹ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰
        "maxChars": 50000,        // æœ€å¤§æ–‡å­—æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ50000ï¼‰
        "timeoutSeconds": 30,       // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ30ï¼‰
        "cacheTtlMinutes": 15,     // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ15åˆ†ï¼‰
        "maxRedirects": 3,         // æœ€å¤§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå›æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3ï¼‰
        "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 14_7_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36",
        "readability": true         // Readabilityã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰
      }
    }
  }
}
```

#### 5.1 Firecrawlãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ReadabilityæŠ½å‡ºãŒå¤±æ•—ã—ãŸå ´åˆã€Firecrawlã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ï¼ˆAPIã‚­ãƒ¼ãŒå¿…è¦ï¼‰ï¼š

```json5
{
  "tools": {
    "web": {
      "fetch": {
        "readability": true,
        "firecrawl": {
          "enabled": true,
          "apiKey": "FIRECRAWL_API_KEY_HERE",  // ã¾ãŸã¯FIRECRAWL_API_KEYç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
          "baseUrl": "https://api.firecrawl.dev",
          "onlyMainContent": true,  // ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿æŠ½å‡º
          "maxAgeMs": 86400000,    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ï¼ˆãƒŸãƒªç§’ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ1æ—¥ï¼‰
          "timeoutSeconds": 60
        }
      }
    }
  }
}
```

::: tip Firecrawlã®ãƒ¡ãƒªãƒƒãƒˆ
- JavaScriptã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆï¼ˆæœ‰åŠ¹åŒ–ãŒå¿…è¦ï¼‰
- ã‚ˆã‚Šå¼·åŠ›ãªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å›é¿èƒ½åŠ›
- è¤‡é›‘ãªWebã‚µã‚¤ãƒˆï¼ˆSPAã€ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆ
:::

**Firecrawl APIã‚­ãƒ¼ã‚’å–å¾—**ï¼š
1. https://www.firecrawl.dev/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦APIã‚­ãƒ¼ã‚’ç”Ÿæˆ
3. è¨­å®šã§è¨­å®šã¾ãŸã¯ç’°å¢ƒå¤‰æ•°`FIRECRAWL_API_KEY`ã‚’ä½¿ç”¨

### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šè¨­å®šã‚’æ¤œè¨¼

**web_searchã‚’ç¢ºèª**ï¼š

è¨­å®šæ¸ˆã¿ã®ãƒãƒ£ãƒãƒ«ï¼ˆWebChatãªã©ï¼‰ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ï¼š

```
TypeScript 5.0ã®æ–°æ©Ÿèƒ½ã‚’æ¤œç´¢ã—ã¦
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼š
- AIãŒ5ã¤ã®æ¤œç´¢çµæœã‚’è¿”ã™ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€URLã€èª¬æ˜ï¼‰
- Perplexityã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€AIãŒè¦ç´„ã—ãŸå›ç­”ã¨å¼•ç”¨ãƒªãƒ³ã‚¯ã‚’è¿”ã™

**web_fetchã‚’ç¢ºèª**ï¼š

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ï¼š

```
https://www.typescriptlang.org/docs/handbook/intro.html ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã—ã¦
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**ï¼š
- AIãŒãã®ãƒšãƒ¼ã‚¸ã®Markdownå½¢å¼ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿”ã™
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€åºƒå‘Šãªã©ã®ç„¡é–¢ä¿‚ãªè¦ç´ ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šé«˜åº¦ãªæ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ

**åœ°åŸŸãƒ•ã‚£ãƒ«ã‚¿ã‚’ãƒ†ã‚¹ãƒˆ**ï¼š

```
ãƒ‰ã‚¤ãƒ„ã®TypeScriptãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚³ãƒ¼ã‚¹ã‚’æ¤œç´¢ã—ã¦
```

AIã¯`country: "DE"`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦åœ°åŸŸå›ºæœ‰ã®æ¤œç´¢ã‚’è¡Œãˆã¾ã™ã€‚

**æ™‚é–“ãƒ•ã‚£ãƒ«ã‚¿ã‚’ãƒ†ã‚¹ãƒˆ**ï¼š

```
å…ˆé€±ã®AIåˆ†é‡ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’æ¤œç´¢ã—ã¦
```

AIã¯`freshness: "pw"`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦éå»1é€±é–“ã®çµæœã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§ãã¾ã™ã€‚

**æŠ½å‡ºãƒ¢ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆ**ï¼š

```
https://example.com ã‚’å–å¾—ã—ã¦ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã§è¿”ã—ã¦
```

AIã¯`extractMode: "text"`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦Markdownã§ã¯ãªããƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ã§ãã¾ã™ã€‚

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ âœ…

æ¬¡ã®è¨­å®šãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- [ ] GatewayãŒå®Ÿè¡Œä¸­
- [ ] å°‘ãªãã¨ã‚‚1ã¤ã®æ¤œç´¢ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒè¨­å®šæ¸ˆã¿ï¼ˆBraveã¾ãŸã¯Perplexityï¼‰
- [ ] APIã‚­ãƒ¼ãŒæ­£ã—ãä¿å­˜æ¸ˆã¿ï¼ˆCLIã¾ãŸã¯ç’°å¢ƒå¤‰æ•°çµŒç”±ï¼‰
- [ ] web_searchãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¤œç´¢çµæœã‚’è¿”ã™ï¼‰
- [ ] web_fetchãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿”ã™ï¼‰
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®šãŒåˆç†çš„ï¼ˆéåº¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å›é¿ï¼‰

::: tip ã‚¯ã‚¤ãƒƒã‚¯æ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰
```bash
# Gatewayè¨­å®šã‚’è¡¨ç¤º
clawdbot configure --show

# Gatewayãƒ­ã‚°ã‚’è¡¨ç¤º
clawdbot gateway logs --tail 50
```
:::

## è½ã¨ã—ç©´ã®æ³¨æ„

### ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼1ï¼šAPIã‚­ãƒ¼ãŒæœªè¨­å®š

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼š

```json
{
  "error": "missing_brave_api_key",
  "message": "web_search needs a Brave Search API key. Run `clawdbot configure --section web` to store it, or set BRAVE_API_KEY in Gateway environment."
}
```

**è§£æ±ºç­–**ï¼š

1. `clawdbot configure --section web`ã‚’å®Ÿè¡Œ
2. APIã‚­ãƒ¼ã‚’å…¥åŠ›
3. Gatewayã‚’å†èµ·å‹•ï¼š`clawdbot gateway restart`

### ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼2ï¼šã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¤±æ•—ï¼ˆå‹•çš„Webãƒšãƒ¼ã‚¸ï¼‰

**å•é¡Œ**ï¼šweb_fetchãŒJavaScriptã‚’å¿…è¦ã¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§ããªã„ã€‚

**è§£æ±ºç­–**ï¼š

1. Webã‚µã‚¤ãƒˆãŒSPAï¼ˆã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‹ç¢ºèª
2. ãã†ã§ã‚ã‚‹å ´åˆã€[browserãƒ„ãƒ¼ãƒ«](../tools-browser/)ã‚’ä½¿ç”¨
3. ã¾ãŸã¯Firecrawlãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¨­å®šï¼ˆAPIã‚­ãƒ¼ãŒå¿…è¦ï¼‰

### ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼3ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚Šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤ã„

**å•é¡Œ**ï¼šæ¤œç´¢çµæœã¾ãŸã¯ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤ã„ã€‚

**è§£æ±ºç­–**ï¼š

1. `cacheTtlMinutes`è¨­å®šã‚’èª¿æ•´
2. ã¾ãŸã¯AIå¯¾è©±ã§æ˜ç¤ºçš„ã«ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ã—ãªã„ã€ã¨è¦æ±‚
3. Gatewayã‚’å†èµ·å‹•ã—ã¦ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢

### ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼4ï¼šãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

**å•é¡Œ**ï¼šå¤§ããªãƒšãƒ¼ã‚¸ã¾ãŸã¯ä½é€ŸãªWebã‚µã‚¤ãƒˆã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã™ã‚‹éš›ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€‚

**è§£æ±ºç­–**ï¼š

```json5
{
  "tools": {
    "web": {
      "search": {
        "timeoutSeconds": 60
      },
      "fetch": {
        "timeoutSeconds": 60
      }
    }
  }
}
```

### ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼5ï¼šå†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯IPãŒSSRFã§ãƒ–ãƒ­ãƒƒã‚¯

**å•é¡Œ**ï¼šå†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¾‹ï¼š`http://localhost:8080`ï¼‰ã¸ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã€‚

**è§£æ±ºç­–**ï¼š

web_fetchã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯IPã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦SSRFæ”»æ’ƒã‚’é˜²æ­¢ã—ã¾ã™ã€‚å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å®Ÿéš›ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆï¼š

1. [browserãƒ„ãƒ¼ãƒ«](../tools-browser/)ã‚’ä½¿ç”¨ï¼ˆã‚ˆã‚ŠæŸ”è»Ÿï¼‰
2. ã¾ãŸã¯è¨­å®šã‚’ç·¨é›†ã—ã¦ç‰¹å®šã®ãƒ›ã‚¹ãƒˆã‚’è¨±å¯ï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãŒå¿…è¦ï¼‰

## ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

- **web_search**ï¼šWebæ¤œç´¢ãƒ„ãƒ¼ãƒ«ã€Braveï¼ˆæ§‹é€ åŒ–çµæœï¼‰ã¨Perplexityï¼ˆAIåˆæˆå›ç­”ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆ
- **web_fetch**ï¼šWebãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã€Readabilityã‚’ä½¿ç”¨ã—ã¦ä¸»è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡ºï¼ˆHTML â†’ Markdown/textï¼‰
- ä¸¡æ–¹ã«çµ„ã¿è¾¼ã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ15åˆ†ï¼‰ã€é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¸›å°‘
- Brave APIã‚­ãƒ¼ã¯CLIã€ç’°å¢ƒå¤‰æ•°ã€ã¾ãŸã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šå¯èƒ½
- Perplexityã¯ç›´é€šã¨OpenRouterã®2ã¤ã®æ–¹æ³•ã‚’ã‚µãƒãƒ¼ãƒˆ
- JavaScriptãŒå¿…è¦ãªWebã‚µã‚¤ãƒˆã«ã¤ã„ã¦ã¯ã€[browserãƒ„ãƒ¼ãƒ«](../tools-browser/)ã‚’ä½¿ç”¨
- è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯ï¼šçµæœæ•°ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã€åœ°åŸŸã€è¨€èªã€æ™‚é–“ãƒ•ã‚£ãƒ«ã‚¿ãªã©ãŒå«ã¾ã‚Œã‚‹

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®äºˆå‘Š

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯**[Canvaså¯è¦–åŒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨A2UI](../canvas/)**ã‚’å­¦ã³ã¾ã™ã€‚
>
> å­¦ç¿’å†…å®¹ï¼š
> - Canvas A2UIãƒ—ãƒƒã‚·ãƒ¥ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
> - å¯è¦–åŒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ“ä½œ
> - AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«Canvasè¦ç´ ã‚’åˆ¶å¾¡ã•ã›ã‚‹æ–¹æ³•

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚ç…§

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦å±•é–‹ã™ã‚‹ã¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥æ™‚ï¼š2026-01-27

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è¡Œç•ªå· |
|--- | --- | ---|
| web_searchãƒ„ãƒ¼ãƒ«å®šç¾© | [`src/agents/tools/web-search.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-search.ts) | 409-483 |
| web_fetchãƒ„ãƒ¼ãƒ«å®šç¾© | [`src/agents/tools/web-fetch.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-fetch.ts) | 572-624 |
| Brave Search APIå‘¼ã³å‡ºã— | [`src/agents/tools/web-search.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-search.ts) | 309-407 |
| Perplexity APIå‘¼ã³å‡ºã— | [`src/agents/tools/web-search.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-search.ts) | 268-307 |
| Readabilityã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡º | [`src/agents/tools/web-fetch-utils.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-fetch-utils.ts) | - |
| Firecrawlçµ±åˆ | [`src/agents/tools/web-fetch.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-fetch.ts) | 257-330 |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£… | [`src/agents/tools/web-shared.ts`](https://github.com/moltbot/moltbot/blob/main/src/agents/tools/web-shared.ts) | - |
| SSRFä¿è­· | [`src/infra/net/ssrf.ts`](https://github.com/moltbot/moltbot/blob/main/src/infra/net/ssrf.ts) | - |
| è¨­å®šSchema | [`src/config/zod-schema.core.ts`](https://github.com/moltbot/moltbot/blob/main/src/config/zod-schema.core.ts) | - |

**é‡è¦ãªå®šæ•°**ï¼š

- `DEFAULT_SEARCH_COUNT = 5`ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¤œç´¢çµæœæ•°
- `MAX_SEARCH_COUNT = 10`ï¼šæœ€å¤§æ¤œç´¢çµæœæ•°
- `DEFAULT_CACHE_TTL_MINUTES = 15`ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚é–“ï¼ˆåˆ†ï¼‰
- `DEFAULT_TIMEOUT_SECONDS = 30`ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ï¼ˆç§’ï¼‰
- `DEFAULT_FETCH_MAX_CHARS = 50_000`ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ€å¤§ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ–‡å­—æ•°

**é‡è¦ãªé–¢æ•°**ï¼š

- `createWebSearchTool()`ï¼šweb_searchãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
- `createWebFetchTool()`ï¼šweb_fetchãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
- `runWebSearch()`ï¼šæ¤œç´¢ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’è¿”ã™
- `runWebFetch()`ï¼šã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡º
- `normalizeFreshness()`ï¼šæ™‚é–“ãƒ•ã‚£ãƒ«ã‚¿ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ­£è¦åŒ–
- `extractReadableContent()`ï¼šReadabilityã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡º

</details>
