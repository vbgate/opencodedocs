---
title: "èµ·å‹•ã™ã‚‹ Gatewayï¼šãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¨å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ | Clawdbot ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"
sidebarTitle: "Gateway å¸¸æ™‚æ¥ç¶š"
subtitle: "èµ·å‹•ã™ã‚‹ Gatewayï¼šãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¨å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰"
description: "Clawdbot Gateway ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã®èµ·å‹•æ–¹æ³•ã‚’å­¦ã³ã€é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã¨æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã®é•ã„ã‚’ç†è§£ã—ã€ä¸€èˆ¬çš„ãªèµ·å‹•ã‚³ãƒãƒ³ãƒ‰ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã‚’ç¿’å¾—ã—ã¾ã™ã€‚"
tags:
  - "gateway"
  - "daemon"
  - "startup"
prerequisite:
  - "start-onboarding-wizard"
order: 30
---

# èµ·å‹•ã™ã‚‹ Gatewayï¼šãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¨å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰

## å­¦ç¿’å¾Œã®ç›®æ¨™

- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ Gateway ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•ã™ã‚‹
- Gateway ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦è¨­å®šã™ã‚‹ï¼ˆmacOS LaunchAgent / Linux systemd / Windows Scheduled Taskï¼‰
- ç•°ãªã‚‹ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆloopback / LAN / Tailnetï¼‰ã¨èªè¨¼æ–¹å¼ã‚’ç†è§£ã™ã‚‹
- é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã¨æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
- `--force` ã‚’ä½¿ç”¨ã—ã¦ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’å¼·åˆ¶çš„ã«è§£æ”¾ã™ã‚‹

## ç¾åœ¨ã®èª²é¡Œ

ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰è¨­å®šãŒå®Œäº†ã—ã€Gateway ã®åŸºæœ¬è¨­å®šã¯æ•´ã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ï¼š

- Gateway ã‚’ä½¿ç”¨ã™ã‚‹ãŸã³ã«æ‰‹å‹•ã§ç«¯æœ«ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ
- ç«¯æœ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹ã¨ Gateway ãŒåœæ­¢ã—ã€AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚‚ã€Œã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã€ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ
- LAN ã‚„ Tailscale ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ Gateway ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„å ´åˆã€è¨­å®šæ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„ï¼Ÿ
- Gateway ã®èµ·å‹•ã«å¤±æ•—ã—ãŸãŒã€è¨­å®šå•é¡Œãªã®ã‹ãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­ãªã®ã‹ä¸æ˜ï¼Ÿ

## ã„ã¤ä½¿ç”¨ã™ã‚‹ã‹

**æ¨å¥¨ã•ã‚Œã‚‹èµ·å‹•æ–¹æ³•**ï¼š

| ã‚·ãƒŠãƒªã‚ª                  | ä½¿ç”¨ã‚³ãƒãƒ³ãƒ‰                               | èª¬æ˜                                   |
|--- | --- | ---|
| æ—¥å¸¸ä½¿ç”¨                | `clawdbot gateway install` + `clawdbot gateway start` | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦è‡ªå‹•èµ·å‹•                  |
| é–‹ç™ºãƒ‡ãƒãƒƒã‚°                | `clawdbot gateway --dev`                     | é–‹ç™ºè¨­å®šã‚’ä½œæˆã—ã€è‡ªå‹•å†ãƒ­ãƒ¼ãƒ‰                  |
| ä¸€æ™‚ãƒ†ã‚¹ãƒˆ                | `clawdbot gateway`                           | ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œã€ãƒ­ã‚°ã‚’ç«¯æœ«ã«ç›´æ¥å‡ºåŠ›            |
| ãƒãƒ¼ãƒˆç«¶åˆ                | `clawdbot gateway --force`                   | ãƒãƒ¼ãƒˆã‚’å¼·åˆ¶çš„ã«è§£æ”¾ã—ã¦èµ·å‹•                    |
| LAN ã‚¢ã‚¯ã‚»ã‚¹              | `clawdbot gateway --bind lan`                 | LAN ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®æ¥ç¶šã‚’è¨±å¯                   |
| Tailscale ãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹         | `clawdbot gateway --tailscale serve`          | Tailscale ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã§ Gateway ã‚’å…¬é–‹          |

## ğŸ’ é–‹å§‹å‰ã®æº–å‚™

::: warning äº‹å‰ãƒã‚§ãƒƒã‚¯

Gateway ã‚’èµ·å‹•ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. âœ… ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰è¨­å®šï¼ˆ`clawdbot onboard`ï¼‰ãŒå®Œäº†ã—ã¦ã„ã‚‹ã‹ã€ã¾ãŸã¯æ‰‹å‹•ã§ `gateway.mode=local` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
2. âœ… AI ãƒ¢ãƒ‡ãƒ«ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ï¼ˆAnthropic / OpenAI / OpenRouter ãªã©ï¼‰
3. âœ… å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆLAN / Tailnetï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã€èªè¨¼æ–¹å¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
4. âœ… ä½¿ç”¨ã‚·ãƒŠãƒªã‚ªã‚’ç†è§£ã—ã¦ã„ã‚‹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º vs æœ¬ç•ªç¨¼åƒï¼‰

:::

## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

**Gateway ã¨ã¯ä½•ã‹ï¼Ÿ**

Gateway ã¯ Clawdbot ã® WebSocket ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã§ã‚ã‚Šã€æ¬¡ã®è²¬ä»»ã‚’æŒã¡ã¾ã™ï¼š

- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**ï¼šã™ã¹ã¦ã® AI å¯¾è©±ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ã‚’ç¶­æŒ
- **ãƒãƒ£ãƒ³ãƒãƒ«æ¥ç¶š**ï¼šWhatsAppã€Telegramã€Slack ãªã© 12 ä»¥ä¸Šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ£ãƒ³ãƒãƒ«ã«æ¥ç¶š
- **ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—**ï¼šãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–ã€ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¹ã‚¯ãªã©ã®ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œã‚’èª¿æ•´
- **ãƒãƒ¼ãƒ‰ç®¡ç†**ï¼šmacOS / iOS / Android ãƒ‡ãƒã‚¤ã‚¹ãƒãƒ¼ãƒ‰ã‚’ç®¡ç†
- **ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡**ï¼šAI ã®æ€è€ƒã®é€²æ—ã€ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—ã®çµæœãªã©ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ—ãƒƒã‚·ãƒ¥

**ãªãœãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ãŒå¿…è¦ã‹ï¼Ÿ**

ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ Gateway ã«ã¯æ¬¡ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ï¼š

- **å¸¸æ™‚æ¥ç¶š**ï¼šç«¯æœ«ã‚’é–‰ã˜ã¦ã‚‚ã€AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¯å¼•ãç¶šãä½¿ç”¨å¯èƒ½
- **è‡ªå‹•èµ·å‹•**ï¼šã‚·ã‚¹ãƒ†ãƒ å†èµ·å‹•å¾Œã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‡ªå‹•çš„ã«å¾©å…ƒï¼ˆmacOS LaunchAgent / Linux systemdï¼‰
- **çµ±ä¸€ç®¡ç†**ï¼š`start` / `stop` / `restart` ã‚³ãƒãƒ³ãƒ‰ã§ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’åˆ¶å¾¡
- **ãƒ­ã‚°é›†ä¸­**ï¼šã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚°åé›†ã«ã‚ˆã‚Šã€ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå®¹æ˜“

## æ‰‹é †ã‚’è¿½ã£ã¦

### ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šGateway ã‚’èµ·å‹•ã™ã‚‹ï¼ˆãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ï¼‰

**ç†ç”±**

ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã¯é–‹ç™ºãƒ†ã‚¹ãƒˆã«é©ã—ã¦ãŠã‚Šã€ãƒ­ã‚°ãŒç«¯æœ«ã«ç›´æ¥å‡ºåŠ›ã•ã‚Œã‚‹ãŸã‚ã€Gateway ã®çŠ¶æ…‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã§ãã¾ã™ã€‚

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§èµ·å‹•ï¼ˆ127.0.0.1:18789 ã‚’ãƒªã‚¹ãƒ³ï¼‰
clawdbot gateway

# ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦èµ·å‹•
clawdbot gateway --port 19001

# è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–
clawdbot gateway --verbose
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
âœ“ agent model: anthropic/claude-opus-4-5
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)
âœ“ log file: /Users/you/.clawdbot/logs/gateway.log
```

::: tip ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

- `listening on ws://...` ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰èµ·å‹•æˆåŠŸã§ã™
- è¡¨ç¤ºã•ã‚ŒãŸ PIDï¼ˆãƒ—ãƒ­ã‚»ã‚¹ IDï¼‰ã‚’è¨˜éŒ²ã—ã¦ãŠãã¨ã€å¾Œç¶šã®ãƒ‡ãƒãƒƒã‚°ã«å½¹ç«‹ã¡ã¾ã™
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆã¯ 18789 ã§ã™ãŒã€`--port` ã§å¤‰æ›´å¯èƒ½ã§ã™

:::

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹

**ç†ç”±**

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ Gateway ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ`127.0.0.1`ï¼‰ã®ã¿ã‚’ãƒªã‚¹ãƒ³ã™ã‚‹ãŸã‚ã€åŒã˜ãƒã‚·ãƒ³ã‹ã‚‰ã®ã¿æ¥ç¶šã§ãã¾ã™ã€‚LAN ã‚„ Tailscale ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã€ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã®ã¿ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€æœ€ã‚‚å®‰å…¨ï¼‰
clawdbot gateway --bind loopback

# LAN ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆèªè¨¼ãŒå¿…è¦ï¼‰
clawdbot gateway --bind lan --token "your-token"

# Tailscale ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹
clawdbot gateway --bind tailnet --token "your-token"

# è‡ªå‹•æ¤œå‡ºï¼ˆãƒ­ãƒ¼ã‚«ãƒ« + LANï¼‰
clawdbot gateway --bind auto
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
# loopback ãƒ¢ãƒ¼ãƒ‰
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)

# lan ãƒ¢ãƒ¼ãƒ‰
âœ“ listening on ws://192.168.1.100:18789 (PID 12345)
âœ“ listening on ws://10.0.0.5:18789
```

::: warning ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ’ãƒ³ãƒˆ

âš ï¸ **é loopback ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹å ´åˆã¯èªè¨¼ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼**

- `--bind lan` / `--bind tailnet` ã®å ´åˆã€`--token` ã¾ãŸã¯ `--password` ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™
- ãã†ã—ãªã„ã¨ Gateway ã¯èµ·å‹•ã‚’æ‹’å¦ã—ã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š`Refusing to bind gateway to lan without auth`
- èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã¯ `gateway.auth.token` è¨­å®šã¾ãŸã¯ `--token` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æ¸¡ã•ã‚Œã¾ã™

:::

### ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ï¼ˆmacOS / Linux / Windowsï¼‰

**ç†ç”±**

ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã«ã™ã‚‹ã¨ã€Gateway ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã€ç«¯æœ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã¦ã‚‚å½±éŸ¿ã‚’å—ã‘ã¾ã›ã‚“ã€‚ã‚·ã‚¹ãƒ†ãƒ å†èµ·å‹•å¾Œã«è‡ªå‹•çš„ã«èµ·å‹•ã—ã€AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚’å¸¸ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«ä¿ã¡ã¾ã™ã€‚

```bash
# ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆmacOS LaunchAgent / Linux systemd / Windows Scheduled Taskï¼‰
clawdbot gateway install

# ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
clawdbot gateway start

# ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª
clawdbot gateway status

# ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•
clawdbot gateway restart

# ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢
clawdbot gateway stop
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
# macOS
âœ“ LaunchAgent loaded
âœ“ service runtime: active

# Linux
âœ“ systemd service enabled
âœ“ service runtime: active

# Windows
âœ“ Scheduled Task registered
âœ“ service runtime: running
```

::: tip ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

- `clawdbot gateway status` ã‚’å®Ÿè¡Œã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ãŒ `active` / `running` ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
- ã‚µãƒ¼ãƒ“ã‚¹ãŒ `loaded` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ãŒ `runtime: inactive` ã®å ´åˆã€`clawdbot gateway start` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
- ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒ­ã‚°ã¯ `~/.clawdbot/logs/gateway.log` ã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™

:::

### ã‚¹ãƒ†ãƒƒãƒ— 4ï¼šãƒãƒ¼ãƒˆç«¶åˆã‚’å‡¦ç†ã™ã‚‹ï¼ˆ--forceï¼‰

**ç†ç”±**

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ 18789 ãŒä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆä»¥å‰ã® Gateway ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã©ï¼‰ã«ã‚ˆã£ã¦ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚`--force` ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒãƒ¼ãƒˆã‚’è‡ªå‹•çš„ã«è§£æ”¾ã§ãã¾ã™ã€‚

```bash
# ãƒãƒ¼ãƒˆã‚’å¼·åˆ¶çš„ã«è§£æ”¾ã—ã¦ Gateway ã‚’èµ·å‹•
clawdbot gateway --force
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
âœ“ force: killed pid 9876 (node) on port 18789
âœ“ force: waited 1200ms for port 18789 to free
âœ“ agent model: anthropic/claude-opus-4-5
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)
```

::: info å‹•ä½œåŸç†

`--force` ã¯ä»¥ä¸‹ã®æ“ä½œã‚’é †æ¬¡å®Ÿè¡Œã—ã¾ã™ï¼š

1. SIGTERM ã§ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ­£å¸¸ã«çµ‚äº†ã—ã‚ˆã†ã¨ã™ã‚‹ï¼ˆ700ms å¾…æ©Ÿï¼‰
2. çµ‚äº†ã—ãªã„å ´åˆã€SIGKILL ã§å¼·åˆ¶çš„ã«çµ‚äº†
3. ãƒãƒ¼ãƒˆã®è§£æ”¾ã‚’å¾…æ©Ÿï¼ˆæœ€å¤§ 2 ç§’ï¼‰
4. æ–°ã—ã„ Gateway ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•

:::

### ã‚¹ãƒ†ãƒƒãƒ— 5ï¼šé–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆ--devï¼‰

**ç†ç”±**

é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã¯ç‹¬ç«‹ã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€æœ¬ç•ªç’°å¢ƒã‚’æ±šæŸ“ã—ã¾ã›ã‚“ã€‚TypeScript ã®ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãŠã‚Šã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã¨ Gateway ãŒè‡ªå‹•çš„ã«å†èµ·å‹•ã—ã¾ã™ã€‚

```bash
# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã‚’èµ·å‹•ï¼ˆdev profile + workspace ã‚’ä½œæˆï¼‰
clawdbot gateway --dev

# é–‹ç™ºè¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆèªè¨¼æƒ…å ± + ã‚»ãƒƒã‚·ãƒ§ãƒ³ + ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼‰
clawdbot gateway --dev --reset
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
âœ“ dev config created at ~/.clawdbot-dev/clawdbot.json
âœ“ dev workspace initialized at ~/clawd-dev
âœ“ agent model: anthropic/claude-opus-4-5
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)
```

::: tip é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã®ç‰¹å¾´

- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼š`~/.clawdbot-dev/clawdbot.json`ï¼ˆæœ¬ç•ªè¨­å®šã‹ã‚‰ç‹¬ç«‹ï¼‰
- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼š`~/clawd-dev`
- `BOOT.md` ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã‚’ã‚¹ã‚­ãƒƒãƒ—
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ loopback ã«ãƒã‚¤ãƒ³ãƒ‰ã—ã€èªè¨¼ã¯ä¸è¦

:::

### ã‚¹ãƒ†ãƒƒãƒ— 6ï¼šTailscale çµ±åˆ

**ç†ç”±**

Tailscale ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€å®‰å…¨ãªãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã§ãƒªãƒ¢ãƒ¼ãƒˆ Gateway ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ã‚„ãƒãƒ¼ãƒˆè»¢é€ãŒä¸è¦ã§ã™ã€‚

```bash
# Tailscale Serve ãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¨å¥¨ï¼‰
clawdbot gateway --tailscale serve

# Tailscale Funnel ãƒ¢ãƒ¼ãƒ‰ï¼ˆè¿½åŠ ã®èªè¨¼ãŒå¿…è¦ï¼‰
clawdbot gateway --tailscale funnel --auth password
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
# serve ãƒ¢ãƒ¼ãƒ‰
âœ“ Tailscale identity detected
âœ“ advertising gateway via Tailscale Serve
âœ“ MagicDNS: https://your-tailnet.ts.net
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)

# funnel ãƒ¢ãƒ¼ãƒ‰
âœ“ Tailscale Funnel enabled
âœ“ Funnel URL: https://your-tailnet.ts.net:18789
âœ“ listening on ws://127.0.0.1:18789 (PID 12345)
```

::: tip èªè¨¼ã®è¨­å®š

Tailscale çµ±åˆã¯ 2 ã¤ã®èªè¨¼æ–¹å¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

1. **Identity Headers**ï¼ˆæ¨å¥¨ï¼‰ï¼š`gateway.auth.allowTailscale=true` ã‚’è¨­å®šã™ã‚‹ã¨ã€Tailscale ID ãŒè‡ªå‹•çš„ã«èªè¨¼ã‚’æº€ãŸã—ã¾ã™
2. **Token / Password**ï¼šå¾“æ¥ã®èªè¨¼æ–¹å¼ã€‚æ‰‹å‹•ã§ `--token` ã¾ãŸã¯ `--password` ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™

:::

### ã‚¹ãƒ†ãƒƒãƒ— 7ï¼šGateway ã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹

**ç†ç”±**

Gateway ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã¦ãŠã‚Šã€RPC ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

```bash
# å®Œå…¨ãªçŠ¶æ…‹ã‚’è¡¨ç¤ºï¼ˆã‚µãƒ¼ãƒ“ã‚¹ + RPC ãƒ—ãƒ­ãƒ¼ãƒ–ï¼‰
clawdbot gateway status

# RPC ãƒ—ãƒ­ãƒ¼ãƒ–ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ã®ã¿ï¼‰
clawdbot gateway status --no-probe

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
clawdbot gateway health

# åˆ°é”å¯èƒ½ãªã™ã¹ã¦ã® Gateway ã‚’ãƒ—ãƒ­ãƒ¼ãƒ–
clawdbot gateway probe
```

**è¡¨ç¤ºã•ã‚Œã‚‹å†…å®¹**ï¼š

```bash
# status ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›
Gateway service status
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service: LaunchAgent (loaded)      â”‚
â”‚ Runtime: running (PID 12345)       â”‚
â”‚ Port: 18789                       â”‚
â”‚ Last gateway error: none            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RPC probe
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Target: ws://127.0.0.1:18789 â”‚
â”‚ Status: âœ“ connected                â”‚
â”‚ Latency: 12ms                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# health ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›
âœ“ Gateway is healthy
âœ“ WebSocket connection: OK
âœ“ RPC methods: available
```

::: tip ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

`status` ãŒ `Runtime: running` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ãŒ `RPC probe: failed` ã¨è¡¨ç¤ºã•ã‚Œã‚‹å ´åˆï¼š

1. ãƒãƒ¼ãƒˆãŒæ­£ã—ã„ã‹ç¢ºèªï¼š`clawdbot gateway status`
2. èªè¨¼è¨­å®šã‚’ç¢ºèªï¼šLAN / Tailnet ã«ãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãŒèªè¨¼ãŒæä¾›ã•ã‚Œã¦ã„ãªã„ï¼Ÿ
3. ãƒ­ã‚°ã‚’ç¢ºèªï¼š`cat ~/.clawdbot/logs/gateway.log`
4. `clawdbot doctor` ã‚’å®Ÿè¡Œã—ã¦è©³ç´°ãªè¨ºæ–­ã‚’å–å¾—

:::

## è½ã¨ã—ç©´ã®è­¦å‘Š

### âŒ ã‚¨ãƒ©ãƒ¼ï¼šGateway ã®èµ·å‹•ãŒæ‹’å¦ã•ã‚Œã‚‹

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼š
```
Gateway start blocked: set gateway.mode=local (current: unset) or pass --allow-unconfigured.
```

**åŸå› **ï¼š`gateway.mode` ãŒ `local` ã«è¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰è¨­å®šã‚’å®Ÿè¡Œ
clawdbot onboard

# æ–¹æ³• 2ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ã§å¤‰æ›´
# ~/.clawdbot/clawdbot.json
{
  "gateway": {
    "mode": "local"
  }
}

# æ–¹æ³• 3ï¼šä¸€æ™‚çš„ã«ãƒã‚§ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆéæ¨å¥¨ï¼‰
clawdbot gateway --allow-unconfigured
```

### âŒ ã‚¨ãƒ©ãƒ¼ï¼šLAN ã«ãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãŒèªè¨¼ãŒãªã„

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼š
```
Refusing to bind gateway to lan without auth.
Set gateway.auth.token/password (or CLAWDBOT_GATEWAY_TOKEN/CLAWDBOT_GATEWAY_PASSWORD) or pass --token/--password.
```

**åŸå› **ï¼šé loopback ãƒã‚¤ãƒ³ãƒ‰ã«ã¯èªè¨¼è¨­å®šãŒå¿…è¦ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ï¼‰

**è§£æ±ºæ–¹æ³•**ï¼š

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§èªè¨¼ã‚’è¨­å®š
# ~/.clawdbot/clawdbot.json
{
  "gateway": {
    "auth": {
      "mode": "token",
      "token": "your-secure-token"
    }
  }
}

# ã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§æ¸¡ã™
clawdbot gateway --bind lan --token "your-secure-token"
```

### âŒ ã‚¨ãƒ©ãƒ¼ï¼šãƒãƒ¼ãƒˆãŒæ—¢ã«ä½¿ç”¨ä¸­

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼š
```
Error: listen EADDRINUSE: address already in use :::18789
```

**åŸå› **ï¼šåˆ¥ã® Gateway ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¾ãŸã¯åˆ¥ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šãƒãƒ¼ãƒˆã‚’å¼·åˆ¶çš„ã«è§£æ”¾
clawdbot gateway --force

# æ–¹æ³• 2ï¼šåˆ¥ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨
clawdbot gateway --port 19001

# æ–¹æ³• 3ï¼šæ‰‹å‹•ã§ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ¤œç´¢ã—ã¦çµ‚äº†
lsof -ti:18789 | xargs kill -9  # macOS / Linux
netstat -ano | findstr :18789               # Windows
```

### âŒ ã‚¨ãƒ©ãƒ¼ï¼šdev ãƒ¢ãƒ¼ãƒ‰ã® reset ã«ã¯ --dev ãŒå¿…è¦

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼š
```
Use --reset with --dev.
```

**åŸå› **ï¼š`--reset` ã¯é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã®ã¿ä½¿ç”¨å¯èƒ½ã€‚æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã®èª¤å‰Šé™¤ã‚’é˜²ããŸã‚

**è§£æ±ºæ–¹æ³•**ï¼š

```bash
# é–‹ç™ºç’°å¢ƒã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ­£ã—ã„ã‚³ãƒãƒ³ãƒ‰
clawdbot gateway --dev --reset
```

### âŒ ã‚¨ãƒ©ãƒ¼ï¼šã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã ãŒãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹

**ç¾è±¡**ï¼š`clawdbot gateway` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ŒGateway already running locallyã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹

**åŸå› **ï¼šãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ãŒæ—¢ã«ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**ï¼š

```bash
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢
clawdbot gateway stop

# ã¾ãŸã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•
clawdbot gateway restart

# ãã®å¾Œãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆãƒ‡ãƒãƒƒã‚°ãŒå¿…è¦ãªå ´åˆï¼‰
clawdbot gateway --port 19001  # åˆ¥ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨
```

## æœ¬ãƒ¬ãƒƒã‚¹ãƒ³ã®ã¾ã¨ã‚

æœ¬ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ä»¥ä¸‹ã‚’å­¦ç¿’ã—ã¾ã—ãŸï¼š

âœ… **èµ·å‹•æ–¹æ³•**ï¼šãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ vs ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹
âœ… **ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰**ï¼šloopback / LAN / Tailnet / Auto
âœ… **èªè¨¼æ–¹å¼**ï¼šToken / Password / Tailscale Identity
âœ… **é–‹ç™ºãƒ¢ãƒ¼ãƒ‰**ï¼šç‹¬ç«‹è¨­å®šã€ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã€--reset ã§ã®ãƒªã‚»ãƒƒãƒˆ
âœ… **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼š`status` / `health` / `probe` ã‚³ãƒãƒ³ãƒ‰
âœ… **ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†**ï¼š`install` / `start` / `stop` / `restart` / `uninstall`

**ä¸»è¦ã‚³ãƒãƒ³ãƒ‰æ—©è¦‹è¡¨**ï¼š

| ã‚·ãƒŠãƒªã‚ª                   | ã‚³ãƒãƒ³ãƒ‰                                        |
|--- | ---|
| æ—¥å¸¸ä½¿ç”¨ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ï¼‰       | `clawdbot gateway install && clawdbot gateway start` |
| é–‹ç™ºãƒ‡ãƒãƒƒã‚°              | `clawdbot gateway --dev`                     |
| ä¸€æ™‚ãƒ†ã‚¹ãƒˆ              | `clawdbot gateway`                           |
| ãƒãƒ¼ãƒˆã®å¼·åˆ¶è§£æ”¾          | `clawdbot gateway --force`                   |
| LAN ã‚¢ã‚¯ã‚»ã‚¹           | `clawdbot gateway --bind lan --token "xxx"`   |
| Tailscale ãƒªãƒ¢ãƒ¼ãƒˆ       | `clawdbot gateway --tailscale serve`          |
| çŠ¶æ…‹ã®ç¢ºèª              | `clawdbot gateway status`                     |
| ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯              | `clawdbot gateway health`                     |

## æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®äºˆå‘Š

> æ¬¡ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ **[æœ€åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡](../first-message/)** ã‚’å­¦ç¿’ã—ã¾ã™ã€‚
>
> å­¦ç¿’å†…å®¹ï¼š
> - WebChat ã‚’é€šã˜ã¦æœ€åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹
> - è¨­å®šæ¸ˆã¿ãƒãƒ£ãƒ³ãƒãƒ«ï¼ˆWhatsApp/Telegram ãªã©ï¼‰ã‚’é€šã˜ã¦ AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨å¯¾è©±ã™ã‚‹
> - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨å¿œç­”ãƒ•ãƒ­ãƒ¼ã‚’ç†è§£ã™ã‚‹

---

## ä»˜éŒ²ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å‚è€ƒ

<details>
<summary><strong>ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®å ´æ‰€ã‚’è¡¨ç¤º</strong></summary>

> æ›´æ–°æ—¥ï¼š2026-01-27

| æ©Ÿèƒ½                        | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                                                                   | è¡Œå·     |
|--- | --- | ---|
| Gateway èµ·å‹•ã‚¨ãƒ³ãƒˆãƒªãƒ¼            | [`src/cli/gateway-cli/run.ts`](https://github.com/moltbot/moltbot/blob/main/src/cli/gateway-cli/run.ts) | 55-310   |
| ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã‚µãƒ¼ãƒ“ã‚¹æŠ½è±¡åŒ–         | [`src/daemon/service.ts`](https://github.com/moltbot/moltbot/blob/main/src/daemon/service.ts) | 66-155    |
| ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚µã‚¤ãƒ‰ãƒãƒ¼           | [`src/gateway/server-startup.ts`](https://github.com/moltbot/moltbot/blob/main/src/gateway/server-startup.ts) | 26-160    |
| Gateway ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…         | [`src/gateway/server.ts`](https://github.com/moltbot/moltbot/blob/main/src/gateway/server.ts) | 1-500     |
| ãƒ—ãƒ­ã‚°ãƒ©ãƒ å¼•æ•°è§£æ             | [`src/daemon/program-args.ts`](https://github.com/moltbot/moltbot/blob/main/src/daemon/program-args.ts) | 1-250     |
| èµ·å‹•ãƒ­ã‚°å‡ºåŠ›              | [`src/gateway/server-startup-log.ts`](https://github.com/moltbot/moltbot/blob/main/src/gateway/server-startup-log.ts) | 7-40      |
| é–‹ç™ºãƒ¢ãƒ¼ãƒ‰è¨­å®š             | [`src/cli/gateway-cli/dev.ts`](https://github.com/moltbot/moltbot/blob/main/src/cli/gateway-cli/dev.ts) | 1-100     |
| ãƒãƒ¼ãƒˆè§£æ”¾ãƒ­ã‚¸ãƒƒã‚¯             | [`src/cli/ports.ts`](https://github.com/moltbot/moltbot/blob/main/src/cli/ports.ts) | 1-80      |

**ä¸»è¦å®šæ•°**ï¼š
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆï¼š`18789`ï¼ˆå‡ºæ‰€ï¼š`src/gateway/server.ts`ï¼‰
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒã‚¤ãƒ³ãƒ‰ï¼š`loopback`ï¼ˆå‡ºæ‰€ï¼š`src/cli/gateway-cli/run.ts:175`ï¼‰
- é–‹ç™ºãƒ¢ãƒ¼ãƒ‰è¨­å®šãƒ‘ã‚¹ï¼š`~/.clawdbot-dev/`ï¼ˆå‡ºæ‰€ï¼š`src/cli/gateway-cli/dev.ts`ï¼‰

**ä¸»è¦é–¢æ•°**ï¼š
- `runGatewayCommand()`ï¼šGateway CLI ã®ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã¨èµ·å‹•ãƒ­ã‚¸ãƒƒã‚¯ã‚’å‡¦ç†
- `startGatewayServer()`ï¼šWebSocket ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã€æŒ‡å®šãƒãƒ¼ãƒˆã‚’ãƒªã‚¹ãƒ³
- `forceFreePortAndWait()`ï¼šãƒãƒ¼ãƒˆã‚’å¼·åˆ¶çš„ã«è§£æ”¾ã—ã¦å¾…æ©Ÿ
- `resolveGatewayService()`ï¼šãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«åŸºã¥ã„ã¦å¯¾å¿œã™ã‚‹ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè£…ã‚’è¿”ã™ï¼ˆmacOS LaunchAgent / Linux systemd / Windows Scheduled Taskï¼‰
- `logGatewayStartup()`ï¼šGateway èµ·å‹•æƒ…å ±ï¼ˆãƒ¢ãƒ‡ãƒ«ã€ãƒªã‚¹ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’å‡ºåŠ›

</details>
